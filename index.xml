<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>é¦–é¡µ on CloudNativeOps - SREï¼ŒDevOpsã€Kubernetes äº‘åŸç”Ÿè¿ç»´ã€‚æˆé•¿ä¹‹è·¯ï¼Œä¸€èµ·å‰è¡Œï¼</title>
    <link>https://bgbiao.top/</link>
    <description>Recent content in é¦–é¡µ on CloudNativeOps - SREï¼ŒDevOpsã€Kubernetes äº‘åŸç”Ÿè¿ç»´ã€‚æˆé•¿ä¹‹è·¯ï¼Œä¸€èµ·å‰è¡Œï¼</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 19 Apr 2021 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="https://bgbiao.top/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Terraformå¿«é€Ÿå…¥é—¨ï¼Œåˆ†é’Ÿçº§èµ„æºäº¤ä»˜å®è·µ</title>
      <link>https://bgbiao.top/devops/</link>
      <pubDate>Sun, 02 Oct 2022 18:31:59 +0800</pubDate>
      
      <guid>https://bgbiao.top/devops/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;éšç€å…¬æœ‰äº‘çš„ä¸æ–­å®Œå–„å’Œå‘å±•ï¼ŒTerraform å·²ç„¶æˆä¸ºäº†äº‘ä¸ŠåŸºç¡€è®¾æ–½ç®¡ç†ä¸­å¾ˆé‡è¦çš„ä¸€ç¯ï¼Œç„¶è€Œåœ¨ åŸºç¡€è®¾æ–½å³ä»£ç (IaC)ä¸­ï¼ŒTerraform ä¹Ÿå·²ç»æ˜¯ä¸šå†…æ‰¿è®¤çš„æ ‡å‡†ï¼Œè¿™ç¯‡æ–‡ç« å¸¦ä½ å¿«é€Ÿç†Ÿæ‚‰å’Œä½¿ç”¨ Terraformï¼Œå¹¶é€šè¿‡é¡¹ç›®ä¸€é”®äº¤ä»˜è…¾è®¯äº‘ CVMã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨&#34;&gt;å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# mac
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ brew tap hashicorp/tap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ brew install hashicorp/tap/terraform
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# Or Linux With CentOS/RHEL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum install -y yum-utils
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo yum -y install terraform
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# Or Ubuntu/Debian
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget -O- https://apt.releases.hashicorp.com/gpg | gpg --dearmor | sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;echo &amp;#34;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main&amp;#34; | sudo tee /etc/apt/sources.list.d/hashicorp.list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update &amp;amp;&amp;amp; sudo apt install terraform
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# check version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ terraform -version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Terraform v1.2.9
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;on darwin_amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# aotocomplete
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ terraform -install-autocomplete
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;åˆ›å»ºé¡¹ç›®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ¦ â¯ mkdir docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ¦ â¯ cd docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ç¼–å†™å¥½ tf æ–‡ä»¶åï¼Œå¯ä»¥æ£€æŸ¥è¯­æ³•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ¦ â¯ terraform validate
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Success! The configuration is valid.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;./docker/Nginx.tf&#34;&gt;Docker Nginx App with terraform&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆå§‹åŒ–é¡¹ç›®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„&lt;/code&gt;ï¼šå½“æ›¾ç»è®¾ç½®æˆ–è€…ä¿®æ”¹è¿‡ provider ç›¸å…³é…ç½®åï¼Œéœ€è¦é‡æ–°åˆå§‹åŒ–ä¸€æ¬¡æ¥æ›´æ–°å…ƒé…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# init the terraform project
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šå» å®‰è£…ç›¸å…³çš„ provider pluginsï¼ŒåŒæ—¶ä¹Ÿä¼šå»éªŒè¯ç­¾å
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¹‹åä¼šåˆ›å»º .terraform.lock.hcl é”æ–‡ä»¶æ¥è®°å½• provider ç›¸å…³ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ¥ä¸‹æ¥å°±å¯ä»¥çœŸæ­£ä½¿ç”¨äº† terraform è¿›è¡Œå·¥ä½œäº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;âœ¦ â¯ terraform init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initializing the backend...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initializing provider plugins...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Finding kreuzwerker/docker versions matching &amp;#34;~&amp;gt; 2.13.0&amp;#34;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Installing kreuzwerker/docker v2.13.0...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Installed kreuzwerker/docker v2.13.0 (self-signed, key ID 24E54F214569A8A5)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;init ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;terraform plan&lt;/code&gt; æ¥æŸ¥çœ‹æœ¬æ¬¡å˜æ›´å†…å®¹ï¼Œä»¥åŠå…·ä½“éœ€è¦æ‰§è¡Œçš„æ­¥éª¤&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹é¡¹ç›®æ‰§è¡Œè®¡åˆ’&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;87
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ‰§è¡Œ terraform plan æ¥æŸ¥çœ‹æ•´ä½“ä»»åŠ¡æ‰§è¡Œçš„ç¼–æ’è®¡åˆ’
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥å±•ç¤ºå‡ºæ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªdocker å®¹å™¨åï¼Œéƒ½ä½¿ç”¨äº†å“ªäº›èµ„æºï¼Œä»¥åŠå“ªäº›å‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ terraform plan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  + create
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Terraform will perform the following actions:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  # docker_container.nginx will be created
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  + resource &amp;#34;docker_container&amp;#34; &amp;#34;nginx&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + attach           = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + bridge           = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + command          = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + container_logs   = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + entrypoint       = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + env              = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + exit_code        = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + gateway          = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + hostname         = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + id               = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + image            = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + init             = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + ip_address       = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + ip_prefix_length = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + ipc_mode         = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + log_driver       = &amp;#34;json-file&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + logs             = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + must_run         = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + name             = &amp;#34;tutorial&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + network_data     = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + read_only        = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + remove_volumes   = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + restart          = &amp;#34;no&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + rm               = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + security_opts    = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + shm_size         = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + start            = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + stdin_open       = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + tty              = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + healthcheck {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + interval     = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + retries      = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + start_period = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + test         = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + timeout      = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + labels {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + label = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + value = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + ports {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + external = 8000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + internal = 80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + ip       = &amp;#34;0.0.0.0&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          + protocol = &amp;#34;tcp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  # docker_image.nginx will be created
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  + resource &amp;#34;docker_image&amp;#34; &amp;#34;nginx&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + id           = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + keep_locally = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + latest       = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + name         = &amp;#34;nginx:latest&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + output       = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      + repo_digest  = (known after apply)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Plan: 2 to add, 0 to change, 0 to destroy.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â•·
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚ Warning: Deprecated attribute
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚   on Nginx.tf line 18, in resource &amp;#34;docker_container&amp;#34; &amp;#34;nginx&amp;#34;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚   18:   image = docker_image.nginx.latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚ The attribute &amp;#34;latest&amp;#34; is deprecated. Refer to the provider documentation for details.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”‚ (and one more similar warning elsewhere)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â•µ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Note: You didn&amp;#39;t use the -out option to save this plan, so Terraform can&amp;#39;t guarantee to take exactly these actions if you run &amp;#34;terraform apply&amp;#34; now.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;æ³¨æ„ï¼š&lt;/code&gt; è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæœ‰ä¸€äº›åˆå­¦è€…ï¼Œæˆ–è€…ä¸è§„èŒƒçš„ terraform é…ç½®ï¼Œæ‰§è¡Œ &lt;code&gt;terraform plan&lt;/code&gt; çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æç¤ºå‡ºæ¥å‘Šè¯‰ç”¨æˆ·è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æ­¤ä¸€æ¥ï¼Œå¯¹äºä¼ä¸šå†…éƒ¨è€Œè¨€ï¼Œæœªæ¥çš„åŸºç¡€æ¶æ„åªä¼šè¶Šæ¥è¶Šå¥å£®ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°† docker image æŒ‡å®šæˆå›ºå®šçš„ tagï¼Œè€Œä¸æ˜¯ä½¿ç”¨ latest çš„æ ‡ç­¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰§è¡Œäº¤ä»˜è®¡åˆ’&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å½“æ‰§è¡Œ apply çš„æ—¶å€™ï¼Œä¼šæœ‰å†æ¬¡ç¡®è®¤çš„è¿‡ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ terraform apply
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Do you want to perform these actions?
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Terraform will perform the actions described above.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Only &amp;#39;yes&amp;#39; will be accepted to approve.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Enter a value: yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker_container.nginx: Creating...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker_container.nginx: Creation complete after 2s [id=6110b693980b4e80ea7dafcb63d81cda53b1778e908c81230a95cfa8a4388a8f]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Apply complete! Resources: 1 added, 0 changed, 0 destroyed.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;check your project&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“ apply å®Œæˆåï¼Œå³å¯å®é™…è®¿é—®éªŒè¯äº¤ä»˜çš„åŸºç¡€è®¾æ–½ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹æœ¬åœ°çš„dockerå®¹å™¨ï¼Œå¹¶æµ‹è¯•ç›´æ¥è®¿é—®docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ docker ps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                  NAMES
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;6110b693980b   nginx:1.23.1   &amp;#34;/docker-entrypoint.â€¦&amp;#34;   2 minutes ago   Up 2 minutes   0.0.0.0:8000-&amp;gt;80/tcp   CloudNativeOps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;terraform/docker on î‚  main [!?] via ğŸ’  default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ curl localhost:8000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;title&amp;gt;Welcome to nginx!&amp;lt;/title&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;style&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;html { color-scheme: light dark; }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;body { width: 35em; margin: 0 auto;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;font-family: Tahoma, Verdana, Arial, sans-serif; }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/style&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h1&amp;gt;Welcome to nginx!&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;p&amp;gt;If you see this page, the nginx web server is successfully installed and
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;working. Further configuration is required.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;p&amp;gt;For online documentation and support please refer to
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;a href=&amp;#34;http://nginx.org/&amp;#34;&amp;gt;nginx.org&amp;lt;/a&amp;gt;.&amp;lt;br/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Commercial support is available at
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;a href=&amp;#34;http://nginx.com/&amp;#34;&amp;gt;nginx.com&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;p&amp;gt;&amp;lt;em&amp;gt;Thank you for using nginx.&amp;lt;/em&amp;gt;&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;é”€æ¯åŸºç¡€è®¾æ–½&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„ï¼š&lt;/code&gt; destroy å‘½ä»¤ç”¨äºé”€æ¯å½“å‰åŸºç¡€è®¾æ–½ï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹åŸºç¡€è®¾æ–½å¯èƒ½å­˜åœ¨ä¾èµ–èµ„æºï¼Œæ¯”å¦‚ container ä¾èµ– imageï¼Œæ­¤æ—¶å°±ä¼šå‘ç°åŸºç¡€è®¾æ–½é”€æ¯ä¸å¹²å‡€ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨åˆ° &lt;code&gt;terraform apply&lt;/code&gt; æŒ‡ä»¤é‡Œçš„ &lt;code&gt;-destroy&lt;/code&gt; å‚æ•°äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹å½“å‰é¡¹ç›®ä¸­å­˜åœ¨å“ªäº›çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥çœ‹åˆ°å½“å‰é¡¹ç›®ä¸‹ï¼Œå­˜åœ¨docker çš„ image å’Œ container ä¸¤ç§èµ„æº
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â¯ terraform state list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker_container.nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker_image.nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# é”€æ¯å½“å‰ç¯å¢ƒ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;terraform apply -destroy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;çœ‹åˆ°è¿™é‡Œï¼Œæœ‰äººä¼šè¯´ï¼Œè¿™ä¸å°±æ˜¯ä»¥å‰çš„ docker compose å—ï¼Œå®é™…ä¸Šè¿˜æ²¡æœ‰ docker-compose æ›´ä¼˜é›…æ›´å¥½ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®çš„ç¡®æ˜¯çš„ï¼Œä¸è®ºæ˜¯ &lt;code&gt;docker-compose&lt;/code&gt; è¿˜æ˜¯ &lt;code&gt;ansible-playbooks&lt;/code&gt; éƒ½æ˜¯å±äº åŸºç¡€è®¾æ–½å³ä»£ç (IaC) é¢†åŸŸé‡Œæœ€æ—©å®è·µå£°æ˜å¼æ— å·®åˆ«äº¤ä»˜åŸºç¡€è®¾æ–½çš„ä¸€ç§æ–¹å¼ï¼Œåªæ˜¯å¤§å®¶éƒ½ä»…å±€é™äºæŸä¸€ç§ç‰¹å®šåœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œéšç€ äº‘åŸç”Ÿ(CloudNative) çš„å‘å±•ï¼Œå¤§éƒ¨åˆ†ä¼ä¸šçš„åŸºç¡€è®¾æ–½å’Œä¸šåŠ¡éƒ½ç”Ÿäºäº‘ï¼Œé•¿äºäº‘ï¼Œä½†æ˜¯å¯¹äºåŸºç¡€è®¾æ–½ä»¥åŠ SRE äººå‘˜æ¥è¯´ï¼Œå´æ²¡æœ‰ä¸€ä¸ªå¯ä»¥ç”¨äºå£°æ˜å¼äº¤ä»˜äº‘ä¸ŠåŸºç¡€è®¾æ–½çš„å·¥å…·å’Œæ ‡å‡†ï¼Œå› æ­¤&lt;a href=&#34;https://www.hashicorp.com/&#34;&gt;HashiCorp&lt;/a&gt; çœ‹åˆ°äº†è¿™å—çš„é—®é¢˜ï¼Œå¹¶ä»¥æ­¤æ¥è®¾è®¡å¹¶å¼€å‘äº† &lt;a href=&#34;https://www.hashicorp.com/products/terraform&#34;&gt;Terraform&lt;/a&gt;ï¼Œå¹¶ä¸”åŸºäº plugins çš„æ–¹å¼æ¥æ‹“å±•ç”Ÿæ€ï¼Œè¿™æ ·å°±ä½¿å¾—ä½¿ç”¨è€…åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è‡ªå·±æ ¹æ®å®é™…éœ€æ±‚æ¥å¼€å‘æˆ–è€…æä¾› Providerï¼Œä»è€ŒçœŸæ­£å®ç°äº‘ä¸ŠåŸºç¡€è®¾æ–½çš„ç»Ÿä¸€äº¤ä»˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“å‰ terraform ç¤¾åŒºå·²ç»æ”¯æŒå¤šå®¶äº‘å‚å•†çš„ providerï¼Œå¹¶ä¸”åœ¨åŸºç¡€è®¾ç½®è½¯ä»¶é¢†åŸŸä¹Ÿæ”¯æŒäº†å¾ˆå¤šï¼Œæ¯”å¦‚ Dockerã€Kubernetes ç­‰ï¼ŒåŒæ—¶ terraform å†…éƒ¨ä¹Ÿæ”¯æŒ modules æœºåˆ¶ï¼Œå› æ­¤ï¼Œå¦‚æœä½ ä»¬çš„åŸºç¡€è®¾ç½®å’Œä¸šåŠ¡æœ‰ä¾èµ–äº‘ï¼Œé‚£ terraform ä¸€å®šæ˜¯ä¸€ä¸ªå€¼å¾—ç ”ç©¶çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„ï¼š&lt;/code&gt; terraform modules æœºåˆ¶å¯ä»¥ä½¿å¾—ä»æœ¬åœ°æ–‡ä»¶å’Œè¿œç¨‹æ–‡ä»¶ä¸­åŠ è½½æ¨¡å—ï¼Œå½“å‰ terraform æ”¯æŒå„ç§è¿œç¨‹èµ„æºï¼ŒåŒ…æ‹¬ Terraform Registryï¼Œå„ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ŒHTTP URLs ä»¥åŠ Terraform Cloudç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;terraform-é…ç½®æŒ‡ä»¤å’Œå®è·µ&#34;&gt;terraform é…ç½®æŒ‡ä»¤å’Œå®è·µ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;required_providers&lt;/code&gt;: åœ¨é¡¹ç›®ä¸­å£°æ˜éœ€è¦ä¾èµ–çš„ providers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;provider&lt;/code&gt;:  æŒ‡å®š provider&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resource&lt;/code&gt;: å£°æ˜ èµ„æº&lt;/li&gt;
&lt;li&gt;&lt;code&gt;module&lt;/code&gt;: å£°æ˜æ¨¡å—ï¼Œä¸€èˆ¬ç”¨äºäº¤ä»˜æ¯”è¾ƒå¤æ‚çš„åŸºç¡€è®¾æ–½æ—¶ï¼Œå¤ç”¨å…¶ä»–åŸºç¡€è®¾æ–½&lt;/li&gt;
&lt;li&gt;&lt;code&gt;variable&lt;/code&gt;: å®šä¹‰å˜é‡ï¼Œå¯ä»¥ç”¨äºé¡¹ç›®ä¼ å‚æˆ–ä½¿ç”¨ module æ—¶ä¼ å‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Modules æœ€ä½³å®è·µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å»ºè®®æ¯ä¸ª terrform ä»ä¸šè€…éƒ½éµå¾ªè¿™äº›æœ€ä½³å®è·µæ¥ä½¿ç”¨æ¨¡å—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘½å provider ä¸º &lt;code&gt;terraform-&amp;lt;PROVIDER&amp;gt;-&amp;lt;NAME&amp;gt;&lt;/code&gt; æ ¼å¼ï¼Œ&lt;/li&gt;
&lt;li&gt;åœ¨ç¼–å†™é…ç½®ä¸€å¼€å§‹ï¼Œå°±è€ƒè™‘ä½¿ç”¨ modules æœºåˆ¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŠæ—¶æ˜¯ä¸€ä¸ªäººç®¡ç†çš„å¤æ‚é…ç½®ï¼Œåœ¨ä¸€å¼€å§‹ä¹Ÿåº”è¯¥è®¾è®¡æˆæ¨¡å—å¼æ¶æ„&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æœ¬åœ°æ¨¡å—æ¥ç»„ç»‡å’Œå°è£…ä»£ç ã€‚å³ä½¿ä¸€å¼€å§‹ä½ å¹¶æ²¡æœ‰ä½¿ç”¨æˆ–å‘å¸ƒè¿œç¨‹æ¨¡å—ï¼Œ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…¬å…±çš„ Terraform Registry ä»“åº“æ¥å¯»æ‰¾å¯ç”¨çš„ modules&lt;/li&gt;
&lt;li&gt;å’Œä½ çš„å›¢é˜Ÿå‘å¸ƒå’Œå…±äº«æ¨¡å—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ terraform ä¸€é”®äº¤ä»˜ è…¾è®¯äº‘ VPC èµ„æº&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cd tencent-cloud/vpc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initializing modules...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initializing the backend...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initializing provider plugins...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Reusing previous version of tencentcloudstack/tencentcloud from the dependency lock file
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Using previously-installed tencentcloudstack/tencentcloud v1.78.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform plan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;module.vpc.data.tencentcloud_instance_types.default: Reading...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;module.vpc.data.tencentcloud_instance_types.default: Still reading... [10s elapsed]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;module.vpc.data.tencentcloud_instance_types.default: Read complete after 19s [id=867170707]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform apply
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;module.vpc.data.tencentcloud_instance_types.default: Reading...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;module.vpc.data.tencentcloud_instance_types.default: Still reading... [10s elapsed]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;module.vpc.data.tencentcloud_instance_types.default: Read complete after 16s [id=867170707]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Outputs:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;route_entry_id = [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;877637.rtb-qv5c5hrb&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;route_table_id = [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;rtb-qv5c5hrb&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subnet_id = [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;subnet-5jv90zw7&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vpc_id = &amp;#34;vpc-j6bkuhts&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# terraform output å¯ä»¥æ ¼å¼åŒ–è¾“å‡ºä»»åŠ¡çš„è¾“å‡ºç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform output
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;route_entry_id = [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;877637.rtb-qv5c5hrb&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;route_table_id = [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;rtb-qv5c5hrb&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subnet_id = [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;subnet-5jv90zw7&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vpc_id = &amp;#34;vpc-j6bkuhts&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç­‰å®Œå…¨ apply å®Œæˆä¹‹åï¼Œå³å¯ä»¥åœ¨ äº‘æ§åˆ¶å°ä¸Šçœ‹åˆ°å¯¹åº”çš„èµ„æºå·²ç»äº¤ä»˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006y8mN6gy1h6r136shhrj317908baav.jpg&#34; alt=&#34;terraform-tencent-vpc&#34;&gt;&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è¿™é‡Œå¯èƒ½æœ‰äººä¼šè¦é—®äº†ï¼Œä¸ºä½•é»˜è®¤æŒ‡å®šçš„æ˜¯ &lt;code&gt;åŒ—äº¬&lt;/code&gt; çš„èµ„æºå‘¢ï¼Œè¿™æ˜¯å› ä¸ºä¸€èˆ¬å¯¹äº äº‘å‚å•†è€Œè¨€ï¼Œprovider ä¸­éœ€è¦æŒ‡å®š ç›¸å…³çš„tokenï¼Œä¾‹å¦‚:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;provider &amp;#34;tencentcloud&amp;#34; {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  secret_id  = &amp;#34;************************************&amp;#34; # äº‘ API å¯†é’¥ SecretId
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  secret_key = &amp;#34;********************************&amp;#34; # äº‘ API å¯†é’¥ SecretKey
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  region     = &amp;#34;ap-chengdu&amp;#34; # åœ°åŸŸï¼Œå®Œæ•´å¯ç”¨åœ°åŸŸåˆ—è¡¨å‚è€ƒ: https://cloud.tencent.com/document/product/213/6091
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½†æ˜¯ä¸€èˆ¬å¯¹äºåŸºç¡€è®¾æ–½è€Œè¨€ï¼Œè¿™ç§ hard code çš„æ–¹å¼å°±æ˜¾çš„ä¸é‚£ä¹ˆå®‰å…¨ä¸”ä¸ä¸“ä¸šäº†ï¼Œå› æ­¤ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å¦‚ä¸‹ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œä»¥æ­¤æ¥è®© tencentcloud çš„ provider èƒ½å¤Ÿè‡ªåŠ¨åŠ è½½å¯†é’¥å’Œregion ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    $ export TENCENTCLOUD_SECRET_ID=&amp;#34;your_fancy_accessid&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    $ export TENCENTCLOUD_SECRET_KEY=&amp;#34;your_fancy_accesskey&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    $ export TENCENTCLOUD_REGION=&amp;#34;ap-beijing&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;åˆ›å»ºCVM&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cd tencent-cloud/cvm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform plan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform apply
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ terraform show --json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å½“æˆ‘ä»¬å†æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šå‘ç°è‡ªåŠ¨æ£€æµ‹åˆ°å½“å‰é…ç½®å·²ç»å­˜åœ¨ä¸”æ²¡æœ‰å˜æ›´
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ â¯ terraform plan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data.tencentcloud_image.ubuntu: Reading...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tencentcloud_security_group.gogoops: Refreshing state... [id=sg-75dkfn3n]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tencentcloud_vpc.CloudNativeOps: Refreshing state... [id=vpc-c12uxxwo]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data.tencentcloud_image.ubuntu: Read complete after 1s [id=2103607329]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tencentcloud_security_group_rule.sg_rule_test: Refreshing state... [id=eyJzZ19pZCI6InNnLTc1ZGtmbjNuIiwicG9saWN5X3R5cGUiOiJpbmdyZXNzIiwiY2lkcl9pcCI6IjAuMC4wLjAvMCIsInByb3RvY29sIjoidGNwIiwicG9ydF9yYW5nZSI6IjIyLDgwIiwiYWN0aW9uIjoiYWNjZXB0Iiwic291cmNlX3NnX2lkIjoiIiwiZGVzY3JpcHRpb24iOiIifQ==]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tencentcloud_route_table.rtb_goops: Refreshing state... [id=rtb-mpnyhghz]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tencentcloud_subnet.subnet_6: Refreshing state... [id=subnet-67qb95dl]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tencentcloud_instance.CloudNativeOps[0]: Refreshing state... [id=ins-q85xkkvd]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;No changes. Your infrastructure matches the configuration.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Terraform has compared your real infrastructure against your configuration and found no differences, so no changes are needed.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€æ¬¡æ€§åˆ›å»º VPCï¼Œsubnetï¼Œsecurity groupï¼Œcvm ç­‰å¤šä¸ªèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006y8mN6gy1h6r2ydhbobj315g09775i.jpg&#34; alt=&#34;tencent-vpc-subnet&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006y8mN6gy1h6r2znmsmyj31420c60um.jpg&#34; alt=&#34;tencent-cvm&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å‚è€ƒåœ°å€&#34;&gt;å‚è€ƒåœ°å€&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.terraform.io/downloads&#34;&gt;terraform &lt;/a&gt;: &lt;a href=&#34;https://www.terraform.io/downloads&#34;&gt;https://www.terraform.io/downloads&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://registry.terraform.io/&#34;&gt;terraform registry&lt;/a&gt;: &lt;a href=&#34;https://registry.terraform.io/&#34;&gt;https://registry.terraform.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs&#34;&gt;tencent cloud provider docs&lt;/a&gt;: &lt;a href=&#34;https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs&#34;&gt;https://registry.terraform.io/providers/tencentcloudstack/tencentcloud/latest/docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/goops-top/terraform-exercises&#34;&gt;terraform-exercises&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>2022 10 02 DevOps SREå¤–éƒ¨æ–‡æ¡£</title>
      <link>https://bgbiao.top/devops/</link>
      <pubDate>Sun, 02 Oct 2022 13:35:12 +0800</pubDate>
      
      <guid>https://bgbiao.top/devops/</guid>
      
        <description>&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;GitOps&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://opengitops.dev/&#34;&gt;GitOps æ ‡å‡†ä»¥åŠæœ€ä½³å®è·µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SRE&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://sre.google/books/&#34;&gt;Google SRE Books&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://sre.google/resources/practices-and-processes/enterprise-roadmap-to-sre/&#34;&gt;RoadMap of SRE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://learning.oreilly.com/library/view/incident-metrics-in/9781098103163/ch01.html#introduction&#34;&gt;SRE ä¸­çš„æ•…éšœæŒ‡æ ‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;chrome-extension://cdonnmffkdaoajfknoeeecmchibpmkmg/assets/pdf/web/viewer.html?file=https%3A%2F%2Fstatic.googleusercontent.com%2Fmedia%2Fsre.google%2Fzh-CN%2F%2Fstatic%2Fpdf%2Flogin_winter20_10_torres.pdf&#34;&gt;SREæœ€ä½³å®è·µä¹‹-å®¹é‡ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://sre.google/workbook/table-of-contents/&#34;&gt;SRE workbook&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tech RoadMap: roadmap.sh&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–°æŠ€æœ¯æ ˆï¼š &lt;a href=&#34;https://thenewstack.io/ebooks/&#34;&gt;the-new-stack&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
      
    </item>
    
    <item>
      <title>2022 10 02 2022DevOpsè·¯çº¿å›¾</title>
      <link>https://bgbiao.top/devops/</link>
      <pubDate>Sun, 02 Oct 2022 13:13:39 +0800</pubDate>
      
      <guid>https://bgbiao.top/devops/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼šå‰é¢æˆ‘ç¿»è¯‘äº†ä¸€ç¯‡å…³äº&lt;a href=&#34;https://bgbiao.top/post/2022%E5%B9%B4%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E8%87%AA%E5%8A%A8%E5%8C%96%E5%92%8C%E7%9B%91%E6%8E%A7%E7%9A%8417%E4%B8%AA%E6%9C%80%E4%BD%B3devops%E5%B7%A5%E5%85%B7/&#34;&gt;DevOps æœ€ä½³å®è·µå·¥å…·&lt;/a&gt; çš„æ–‡ç« ï¼Œæ¥ä¸‹æ¥ä»¥å›¾å½¢ç»“æ„çš„æ–¹å¼æ¥å±•ç°ä¸€äº›æ•´ä¸ª SREã€DevOps çš„æŠ€èƒ½è·¯çº¿å›¾ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006y8mN6gy1h6qv6o03bqj30u024tk90.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¬ä¼—å·: CloudNativeOps&lt;/p&gt;
&lt;/blockquote&gt;
</description>
      
    </item>
    
    <item>
      <title>2022å¹´åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–å’Œç›‘æ§çš„17ä¸ªæœ€ä½³DevOpså·¥å…·</title>
      <link>https://bgbiao.top/post/2022%E5%B9%B4%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E8%87%AA%E5%8A%A8%E5%8C%96%E5%92%8C%E7%9B%91%E6%8E%A7%E7%9A%8417%E4%B8%AA%E6%9C%80%E4%BD%B3devops%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Fri, 16 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/2022%E5%B9%B4%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E8%87%AA%E5%8A%A8%E5%8C%96%E5%92%8C%E7%9B%91%E6%8E%A7%E7%9A%8417%E4%B8%AA%E6%9C%80%E4%BD%B3devops%E5%B7%A5%E5%85%B7/</guid>
      
        <description>&lt;p&gt;è®©æˆ‘ä»¬ä»åŸºç¡€è®¾æ–½ä»£ç (IaC)å’Œé…ç½®ç®¡ç†å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h68dklrpemj212w0m474k.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;infrastructure-as-code--configuration-management&#34;&gt;Infrastructure as Code / Configuration Management&lt;/h3&gt;
&lt;p&gt;Infrastructure as code (IaC) å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨çš„æä¾›äº‘åŸºç¡€æ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯VMã€æ•°æ®åº“ã€äº‘ç½‘ç»œã€å®‰å…¨ç­‰ï¼Œæ‚¨éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»†èŠ‚çš„JSONæˆ–YAMLæ¨¡æ¿ï¼Œç„¶åå°†å…¶ç”¨ä½œè‡ªåŠ¨åˆ›å»ºç±»ä¼¼ç¯å¢ƒçš„è“å›¾ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œé…ç½®ç®¡ç†å¹¶ä¸ä»¥ä»»ä½•åŸºç¡€è®¾æ–½çš„ä¾›åº”ä¸ºç›®æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒç®¡ç†ä¸€ä¸ªæœåŠ¡å™¨é›†ç¾¤çš„æœåŠ¡å™¨é…ç½®ï¼Œå¹¶ç¡®ä¿åœ¨æœåŠ¡å™¨é›†ç¾¤ä¸­çš„æ‰€æœ‰æœåŠ¡å™¨ä¸­è‡ªåŠ¨ç»´æŠ¤æœåŠ¡å™¨é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;åŸºç¡€è®¾æ–½å³ä»£ç ä½¿åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–ï¼Œè€Œé…ç½®ç®¡ç†åˆ™ä½¿æœåŠ¡å™¨çš„é…ç½®è‡ªåŠ¨åŒ–ã€‚è®©æˆ‘ä»¬å›é¡¾ä¸€äº›ç”¨äºIaCå’Œé…ç½®ç®¡ç†çš„é¡¶çº§å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Terraform&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.terraform.io/&#34;&gt;Terraform&lt;/a&gt; æ˜¯ä¸€ä¸ªç‹¬ç«‹äºä¾›åº”å•†çš„åŸºç¡€è®¾æ–½é…ç½®å·¥å…·ã€‚å®ƒç”± Hashicorp æ‹¥æœ‰ï¼Œå¯ç”¨äºè‡ªåŠ¨åˆ›å»ºä»»ä½•äº‘æœåŠ¡ï¼ŒåŒ…æ‹¬ç½‘ç»œï¼ŒæœåŠ¡ï¼Œé˜²ç«å¢™ï¼Œæ•°æ®åº“ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Terraform ä¹‹æ‰€ä»¥å¦‚æ­¤å—æ¬¢è¿ï¼Œæ˜¯å› ä¸ºå®ƒä¸ä¸ä»»ä½•ç‰¹å®šçš„äº‘ä¾›åº”å•†ç»‘å®šï¼Œå› æ­¤æ‚¨å¯ä»¥è½»æ¾åœ°ä»ä¸€ä¸ªäº‘ç§»åŠ¨åˆ°å¦ä¸€ä¸ªäº‘ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡æ˜¯å¼€æºçš„ï¼Œæœ‰å¾ˆå¤§çš„ç¤¾åŒºæ”¯æŒï¼Œterrform ä»£ç æ˜¯ç”¨å®ƒè‡ªå·±çš„é¢†åŸŸç‰¹å®šè¯­è¨€(ç§°ä¸ºHCL)ç¼–å†™çš„ï¼Œè¿™æ„å‘³ç€å®ƒæœ‰ä¸€ä¸ªè½»å¾®çš„å­¦ä¹ æ›²çº¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Pulumi&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.pulumi.com/&#34;&gt;Pulumi&lt;/a&gt; ä¹Ÿæ˜¯ä¸€ä¸ªå’Œ terraform ç›¸ä¼¼çš„ IaC å·¥å…·ã€‚ ä½ å¯ä»¥ä½¿ç”¨ Pulumi æ¥æä¾›å‡ ä¹æ‰€æœ‰çš„äº‘æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æµ‹è¯•å’Œæ„å»ºè„šæœ¬æ–¹é¢ï¼ŒPulumi æ¯”Terraform å…·æœ‰ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ terrraform ä¸åŒçš„æ˜¯ï¼ŒPulumi å…è®¸æ‚¨ä½¿ç”¨ä»»ä½•ç°ä»£ç¼–ç¨‹è¯­è¨€(å¦‚pythonã€javaã€golangã€typescriptç­‰)ç¼–å†™ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ºè°ƒè¯•å’Œæµ‹è¯•æä¾›äº†æ›´å¥½çš„æ”¯æŒï¼Œä½†æ˜¯ï¼ŒPulumi çš„ç¤¾åŒºæ”¯æŒä¸ terrform ç›¸æ¯”è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è¦çŸ¥é“æ¥ä¸‹æ¥å¦‚ä½•é€‰æ‹© Terraform å’Œ Pulumiï¼Œå¯ä»¥è¯¦ç»†é˜…è¯»è¯¥æ–‡ç« ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.qovery.com/blog/terraform-vs-pulumi-what-to-use-in-2022&#34;&gt;https://www.qovery.com/blog/terraform-vs-pulumi-what-to-use-in-2022&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. Ansible&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ansible.com/&#34;&gt;Ansible&lt;/a&gt; æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„é…ç½®ç®¡ç†å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨åŒ–ç‰ˆæœ¬åŒ–çš„è½¯ä»¶ç»„ä»¶å®‰è£…ã€æ“ä½œç³»ç»Ÿé…ç½®ä»»åŠ¡ã€ç½‘ç»œå’Œé˜²ç«å¢™é…ç½®ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ç”¨äºç™»å°å’Œç”Ÿäº§çš„ç‹¬ç«‹æœåŠ¡å™¨é›†ï¼Œé‚£ä¹ˆ ansible å¯ä»¥å¸®åŠ©æ‚¨ç¼–å†™è„šæœ¬ï¼Œè¿™äº›è„šæœ¬å¯ç”¨äºè‡ªåŠ¨åŒ–å’Œç®¡ç†è¿™äº›æœåŠ¡å™¨é›†çš„æœåŠ¡å™¨é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;Ansible è„šæœ¬æ˜¯ç”¨ Yaml ç¼–å†™çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;continuous-integration&#34;&gt;Continuous Integration&lt;/h3&gt;
&lt;p&gt;æŒç»­é›†æˆæ˜¯é¢‘ç¹ç»„åˆå’Œåˆå¹¶ä¸åŒå¼€å‘äººå‘˜ä»£ç çš„å®è·µï¼Œä»¥ä¾¿å°½å¯èƒ½é¢‘ç¹åœ°æµ‹è¯•åº”ç”¨ç¨‹åºæ„å»ºã€‚ä¸€æ—¦æ‚¨æäº¤äº†ä»£ç ï¼Œæ„å»ºè¿‡ç¨‹å°±ä¼šè¿è¡Œå¹¶åˆ›å»ºç”¨äºæµ‹è¯•çš„æ„å»ºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç”¨äºæŒç»­é›†æˆçš„æœ€ä½³å·¥å…·:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. CircleCI&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://circleci.com/&#34;&gt;CircleCI&lt;/a&gt; æ˜¯ä¸€ä¸ªCI/CDå¹³å°ï¼Œå¯å¸®åŠ©æ‚¨æ„å»ºå’Œè¿è¡Œæ„å»ºç®¡é“ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ CircleCiï¼Œæ‚¨å¯ä»¥åœ¨æ¯ä¸ªæäº¤ä¸­è‡ªåŠ¨åŒ–åº”ç”¨ç¨‹åºçš„æ„å»ºå’Œæµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå…·æœ‰ç°ä»£ä¸”éå¸¸å‹å¥½çš„ç•Œé¢ã€‚å®ƒæ”¯æŒè®¸å¤šå¤æ‚çš„æ„å»ºç®¡é“ã€‚å®ƒå…·æœ‰å…è´¹çš„å’Œä»˜è´¹ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. Github Actions&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°½ç®¡è®¸å¤šå…¬å¸å·²ç»ä½¿ç”¨ GitHub è¿›è¡Œä»£ç æ‰˜ç®¡ï¼Œä½†ä»–ä»¬æ­£åœ¨å¯»æ‰¾ç°æœ‰çš„ä»£ç å­˜å‚¨åº“æ¥æ”¯æŒå…¶è‡ªå·±çš„é›†æˆ CI/CD å·¥ä½œæµã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/features/actions&#34;&gt;Github Actions&lt;/a&gt; æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯ä»¥è®©æ‚¨åœ¨ä¸åŒçš„å¹³å°ä¸Šæ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²æ‚¨çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨å·²ç»ä½¿ç”¨ Github ä½œä¸ºæ‚¨çš„æºä»£ç åº“ï¼Œé‚£ä¹ˆæ‚¨æŒç»­é›†æˆçš„é¦–é€‰å°†æ˜¯ Github actionsã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. Gitlab CI&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.gitlab.com/ee/ci/&#34;&gt;Gitlab CI&lt;/a&gt; ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¼ºå¤§çš„æŒç»­é›†æˆå·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;å’Œ Github Actions ä¸€æ ·ï¼Œå®ƒä½¿ç”¨ YAML æ–‡ä»¶å¹¶æ”¯æŒ dockerã€‚&lt;/p&gt;
&lt;p&gt;Gitlab çš„ DevOps ç‰¹æ€§å¯ä»¥å¸®åŠ©ç”¨æˆ·å®Œæˆä¸åŒçš„ä»»åŠ¡ï¼ŒåŒ…æ‹¬æ„å»ºå’Œæµ‹è¯•åº”ç”¨ç¨‹åºã€æ£€æµ‹ä»£ç è¯­è¨€ã€éƒ¨ç½²åº”ç”¨ç¨‹åºä»¥åŠæ‰«ææ¼æ´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;deployment-tools&#34;&gt;Deployment tools&lt;/h3&gt;
&lt;p&gt;æ‰§è¡Œä»£ç çš„è¿ç»­é›†æˆåï¼Œä¸‹ä¸€æ­¥æ˜¯è¿ç»­éƒ¨ç½²å’Œäº¤ä»˜ã€‚è®©æˆ‘ä»¬å›é¡¾ä¸€äº›è¿ç»­äº¤ä»˜/éƒ¨ç½²çš„æœ€ä½³å·¥å…·ï¼Œè¿™äº›å·¥å…·ä¸ä»…è¦ç…§é¡¾éƒ¨ç½²è‡ªåŠ¨åŒ–ï¼Œè¿˜è¦ç…§é¡¾åŸºç¡€æ¶æ„è‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7. Harness&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://harness.io/&#34;&gt;Harness&lt;/a&gt; æ˜¯ä¸€ä¸ªç°ä»£è½¯ä»¶äº¤ä»˜å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¯¹ä»£ç è¿›è¡ŒæŒç»­é›†æˆå¹¶å‡†å¤‡å¥½æ„å»ºä¹‹åï¼ŒHarness å°†æŠŠæ„å»ºå·¥ä»¶ä»æ„å»ºé˜¶æ®µå¸¦åˆ°ç”Ÿäº§é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä»¥SaaSçš„å½¢å¼è¿è¡Œï¼Œæ”¯æŒ GitOps é£æ ¼çš„å¼€å‘ï¼Œä¸ Git å­˜å‚¨åº“æŒ‚é’©ï¼Œå¹¶å…·æœ‰ç§˜å¯†ç®¡ç†åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¸Kubernetesæœ‰å¾ˆå¥½çš„é›†æˆã€‚Harness ä¼šæä¾›åˆ¶å“å’Œ Kubernetes manifestsæ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬éƒ¨ç½²åˆ°æ‰€éœ€çš„ Kubernetes é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8. CodeFresh&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://codefresh.io/&#34;&gt;CodeFresh&lt;/a&gt; æ˜¯ä¸€ä¸ª All-in-One çš„è§£å†³æ–¹æ¡ˆï¼Œä»å¤´åˆ°å°¾éƒ½å®ç°äº†æ•´ä¸ªä»£ç ç®¡é“ã€‚&lt;/p&gt;
&lt;p&gt;ä»åˆ›å»ºæäº¤ç›´åˆ°éƒ¨ç½²åˆ°ç”Ÿäº§çš„é‚£ä¸€åˆ»èµ·ï¼Œå®ƒå°±ä¼šå¤„ç† DevOps çš„æ‰€æœ‰æ–¹é¢ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå…·æœ‰ä¸€ç»„å¼ºå¤§çš„æ’ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬ Helm å’Œè®¸å¤šå…¶ä»–æµè¡Œçš„ CI/CD å·¥å…·ï¼Œä¾‹å¦‚ Jenkinsã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå…·æœ‰å¯¹Kubernetesç¾¤é›†çš„æœ¬åœ°æ”¯æŒï¼Œä¸ä»…ç”¨äºéƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œè€Œä¸”è¿˜ç”¨äºåœ¨Kubernetesä¸Šè¿è¡Œç®¡é“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9. Helm&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://helm.sh/&#34;&gt;Helm&lt;/a&gt; æ˜¯ä¸€ä¸ª Kubernetes éƒ¨ç½²ç®¡ç†å™¨ï¼Œç”¨äºè‡ªåŠ¨åŒ–åº”ç”¨ç¨‹åºçš„åˆ›å»ºã€æ‰“åŒ…ã€é…ç½®å’Œéƒ¨ç½²åˆ° Kubernetes é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;ç®¡ç†Kubernetes YAMLæ¸…å•æ–‡ä»¶ï¼Œå³ä½¿æ˜¯ç®€å•çš„éƒ¨ç½²ï¼Œä¹Ÿæ˜¯éå¸¸è€—æ—¶å’Œå®¹æ˜“å‡ºé”™çš„ï¼ŒHelmé€šè¿‡åˆ›å»ºä¸€ä¸ªå¯ä»¥éƒ¨ç½²åˆ°æ‚¨çš„ Kubernetes é›†ç¾¤çš„åŒ…æ¥ç®€åŒ–å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10. Kubernetes&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kubernetes.io/&#34;&gt;Kubernetes&lt;/a&gt; å¤§è§„æ¨¡äº‘åŸç”Ÿåº”ç”¨ç¨‹åºçš„è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œæ“ä½œç³»ç»Ÿã€‚å®ƒæ˜¯å¸‚åœºä¸Šæœ€å¥½çš„å¼€æºå®¹å™¨ç¼–æ’å·¥å…·ã€‚Kubernetesè‡ªåŠ¨åŒ–è·¨ä¸åŒåŸºç¡€è®¾æ–½ç¯å¢ƒçš„å®¹å™¨éƒ¨ç½²ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰èµ„æºéƒ½å¾—åˆ°æœ‰æ•ˆåˆ©ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;environment-as-service&#34;&gt;Environment-as-Service&lt;/h3&gt;
&lt;p&gt;Environment as service (EaaS) æ˜¯ä¸€ä¸ªæ–°å…´çš„ç±»åˆ«ï¼Œè¢«è®¸å¤šDevOpså›¢é˜Ÿæ‰€é‡‡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡EaaSï¼Œæ‚¨å¯ä»¥å¿«é€Ÿéƒ¨ç½²å¹¶æ–¹ä¾¿åœ°æŒ‰éœ€éƒ¨ç½²é¢„é…ç½®ç¯å¢ƒã€‚æŒ‰éœ€ç¯å¢ƒæ˜¯EaaSçš„æ ¸å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰éœ€ç¯å¢ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„éƒ¨ç½²ç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡EaaSè‡ªåŠ¨æä¾›ã€‚ç¯å¢ƒçš„è‡ªåŠ¨ä¾›åº”å¯ä»¥å¸®åŠ©æ‚¨æ›´å¿«åœ°æ¨é”€æ‚¨çš„äº§å“ï¼Œæé«˜å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„ç›¸äº’åä½œï¼Œå¹¶é€šè¿‡å¿«é€Ÿå‘å¸ƒå‘¨æœŸå°†æ‚¨çš„äº§å“æå‡åˆ°ä¸‹ä¸€ä¸ªå±‚æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;11. Qovery&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.qovery.com/&#34;&gt;Qovery&lt;/a&gt; å»ºç«‹äº†ä¸€ä¸ªç°ä»£åŒ–çš„å¹³å°ï¼Œåªéœ€å‡ ç§’é’Ÿå°±å¯ä»¥åœ¨ AWS ä¸Šéƒ¨ç½²æŒ‰éœ€ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ Clone ç¯å¢ƒç‰¹æ€§ï¼Œæ‚¨å¯ä»¥éå¸¸ç®€å•åœ°åˆ›å»º Stagingã€UATã€Production æˆ–ä»»ä½•å…¶ä»–ç¯å¢ƒçš„æŒ‰éœ€å‰¯æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªè‡´å‘½çš„ç‰¹æ€§æ˜¯é¢„è§ˆç¯å¢ƒï¼Œæ‚¨å¯ä»¥åœ¨æ¯ä¸ªæ‹‰è¯·æ±‚ä¸­è‡ªåŠ¨è·å¾—ç”Ÿäº§ç¯å¢ƒ(åŒ…æ‹¬åº”ç”¨ç¨‹åºã€æ•°æ®åº“å’Œé…ç½®)çš„å‰¯æœ¬ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨ä¸å½±å“ç”Ÿäº§çš„æƒ…å†µä¸‹è‡ªä¿¡åœ°æµ‹è¯•æ›´æ”¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;configsecret-management&#34;&gt;Config/Secret Management&lt;/h3&gt;
&lt;p&gt;ä¿æŠ¤æ‚¨çš„é…ç½®æ˜¯å®‰å…¨SDLCçš„ä¸€ä¸ªå…³é”®æ–¹é¢ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç”¨äºä»¥å®‰å…¨å½¢å¼ä¿å­˜ç¯å¢ƒå˜é‡å’Œé…ç½®çš„é¡¶çº§å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;12. Doppler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.doppler.com/&#34;&gt;Doppler&lt;/a&gt; æ˜¯å¼€å‘äººå‘˜å’Œå®‰å…¨å›¢é˜Ÿä½¿ç”¨çš„å¤šäº‘çš„ SecretOps å¹³å°ï¼Œä»¥å®‰å…¨çš„æ–¹å¼ç®¡ç†å…¶åº”ç”¨ç¨‹åºç§˜å¯†ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¸ºå¯†é’¥å’Œåº”ç”¨ç¨‹åºé…ç½®æä¾›äº†ä¸€ä¸ªå¯ä¿¡ä»»çš„ä¸­å¿ƒæºï¼Œå®ƒæ”¯æŒDockerï¼Œæ— æœåŠ¡å™¨å’Œæ‰€æœ‰äº‘ä¾›åº”å•†ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå…·æœ‰é€šè¿‡å¾®æœåŠ¡ï¼ŒCI/CD å’Œå¤šäº‘éƒ¨ç½²å¹³å°ç»„ç»‡çš„ç§˜å¯†ï¼Œåˆ™æ˜¯å¼€å‘äººå‘˜çš„é¦–é€‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;13. Vault&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.vaultproject.io/&#34;&gt;Vault&lt;/a&gt; æ˜¯ç”± Hashicorp å¼€å‘çš„ å¯†é’¥ç®¡ç†å·¥å…·ï¼Œå’Œ Terraform å½’å±äºä¸€å®¶å…¬å¸ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå…·æœ‰å¹¿æ³›çš„é›†æˆåˆ—è¡¨ï¼Œä¸»è¦å…³æ³¨èº«ä»½éªŒè¯å’Œç§˜å¯†å­˜å‚¨ã€‚å®ƒæ˜¯åŸºäºé”®å€¼çš„å®‰å…¨å­˜å‚¨ï¼Œæ‚¨å¯ä»¥ä¿æŠ¤å¯¹ä»¤ç‰Œï¼Œå¯†ç ï¼Œè¯ä¹¦ï¼ŒåŠ å¯†å¯†é’¥ç­‰çš„è®¿é—®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;infrastructure-monitoring&#34;&gt;Infrastructure Monitoring&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›ç”¨äºè§‚æµ‹äº‘åŸºç¡€è®¾æ–½çš„é¡¶çº§å·¥å…·:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;14. Grafana&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://grafana.com/&#34;&gt;Grafana&lt;/a&gt; æ˜¯å¯è§‚å¯Ÿæ€§å’Œæ•°æ®å¯è§†åŒ–çš„å¼€æºå¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä½¿æ‚¨å¯ä»¥é€šè¿‡åœ¨çº¿å¯ç”¨çš„ç”¨æˆ·å‹å¥½ä»ªè¡¨æ¿æŸ¥çœ‹äº‘æœåŠ¡ï¼ŒåŸºç¡€æ¶æ„å’Œç½‘ç»œï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šè®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;15. Datadog&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.datadoghq.com/&#34;&gt;Datadog&lt;/a&gt; ä¸€ä¸ªä¸“ä¸º DevOps å›¢é˜Ÿæä¾›çš„åŸºäº SaaS çš„åˆ†æå’Œç›‘æ§å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ datdogï¼Œå›¢é˜Ÿå¯ä»¥ç¡®å®šåŸºäºäº‘çš„åŸºç¡€è®¾æ–½çš„æ€§èƒ½æŒ‡æ ‡å’Œäº‹ä»¶ç›‘æ§ï¼Œå’ŒGrafanaä¸€æ ·ï¼Œdatdogä¹Ÿæ”¯æŒKubernetesç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;16. Newrelic&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://newrelic.com/&#34;&gt;Newrelic&lt;/a&gt; ä¹Ÿæ˜¯ä¸€ä¸ªSaaSå·¥å…·ï¼Œç”¨äºç›‘è§†åº”ç”¨ç¨‹åºå’ŒåŸºç¡€è®¾æ–½çš„æ€§èƒ½å’Œå¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Newrelic è¿˜æä¾›åº”ç”¨ç¨‹åºçš„å®æ—¶ç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨å¸Œæœ›å¯¹åŸºäºäº‘çš„åº”ç”¨ç¨‹åºè¿›è¡Œè¯¦ç»†çš„æ€§èƒ½ç›‘è§†ï¼Œé‚£ä¹ˆå®ƒæ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;17. Prometheus&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://prometheus.io/&#34;&gt;Prometheus&lt;/a&gt; æ˜¯ä¸€ä¸ªäº‘åŸç”Ÿç›‘æ§å·¥å…·å’Œç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å®ƒç”¨äºäº‹ä»¶ç›‘è§†å’Œè­¦æŠ¥ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæ˜¯å¼€æºçš„ï¼Œå¯¹Kubernetesç›‘è§†æœ‰å¾ˆå¼ºçš„æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæ˜¯ç›‘è§†åŸºç¡€è®¾æ–½å’Œåº”ç”¨ç¨‹åºçš„æœ€ç®€å•ã€æœ€ç®€å•çš„å·¥å…·ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h3&gt;
&lt;p&gt;åŸºç¡€æ¶æ„è‡ªåŠ¨åŒ–æ˜¯æ¯ä¸ªDevOpså›¢é˜ŸæˆåŠŸçš„å…³é”®ã€‚é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„åŸºç¡€æ¶æ„è‡ªåŠ¨åŒ–å’Œç›‘è§†å·¥å…·å¹¶ä¸å®¹æ˜“ã€‚æˆæœ¬ï¼ŒæŠ€èƒ½ï¼ŒåŠŸèƒ½ï¼ŒUI/UXç­‰è®¸å¤šå› ç´ åœ¨ä¸ºæ‚¨çš„ä¸šåŠ¡é€‰æ‹©åˆé€‚çš„å·¥å…·æ–¹é¢èµ·ç€å†³å®šæ€§çš„ä½œç”¨ã€‚æœ€å¥½çš„é€‰æ‹©æ˜¯ä¸ä½¿ç”¨ä¸€ç§å·¥å…·ã€‚ç›¸åï¼Œä½¿ç”¨é€‚åˆæ‚¨éœ€æ±‚çš„å·¥å…·ç»„åˆã€‚&lt;/p&gt;
&lt;p&gt;è€Œä½œè€…æ‰€åœ¨çš„å›¢é˜Ÿæ­£æ˜¯&lt;a href=&#34;https://www.qovery.com/&#34;&gt;EaaS å‚å•† Qovery&lt;/a&gt; ï¼Œè€Œä»–ä»¬åœ¨æ•´ä¸ª DevOps çš„ç¯èŠ‚ä¸­ä¹Ÿä½¿ç”¨äº†å¦‚ä¸‹çš„å·¥å…·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IaC: Terraform&lt;/li&gt;
&lt;li&gt;CI/CD:  GitHub Actions, Gitlab CI&lt;/li&gt;
&lt;li&gt;Deployment tools: Helm, Kubernetes&lt;/li&gt;
&lt;li&gt;Environment as a Service: Qovery&lt;/li&gt;
&lt;li&gt;Secret Management: Vault, AWS KMS&lt;/li&gt;
&lt;li&gt;Observability &amp;amp; Monitoring: Datadog, Grafana (including Loki &amp;amp; Promtail), Prometheus (including Alertmanager)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸæ–‡ï¼š &lt;a href=&#34;https://medium.com/@rphilogene/17-best-devops-tools-to-use-in-2022-for-infrastructure-automation-and-monitoring-b3470cf9e00f&#34;&gt;https://medium.com/@rphilogene/17-best-devops-tools-to-use-in-2022-for-infrastructure-automation-and-monitoring-b3470cf9e00f&lt;/a&gt;   &lt;br&gt;
å…¬ä¼—å·ï¼šCloudNativeOps   &lt;br&gt;
ç¿»è¯‘ï¼šGoOps&lt;/p&gt;
&lt;/blockquote&gt;</description>
      
    </item>
    
    <item>
      <title>åˆè¯† WebSocket ä»¥åŠ Golang å®ç°</title>
      <link>https://bgbiao.top/post/websocket%E4%BB%A5%E5%8F%8Agolang%E5%AE%9E%E7%8E%B0/</link>
      <pubDate>Fri, 09 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/websocket%E4%BB%A5%E5%8F%8Agolang%E5%AE%9E%E7%8E%B0/</guid>
      
        <description>&lt;h2 id=&#34;åˆè¯†-websocket-ä»¥åŠ-golang-å®ç°&#34;&gt;åˆè¯† WebSocket ä»¥åŠ Golang å®ç°&lt;/h2&gt;
&lt;h3 id=&#34;ä¸€-websocket-ä»‹ç»&#34;&gt;ä¸€ã€ WebSocket ä»‹ç»&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1.1 WebSocket çš„è¯ç”ŸèƒŒæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç½‘ç»œå†²æµªä¸­ï¼Œæˆ‘ä»¬æ¥è§¦åˆ°æœ€å¤šçš„åè®®å¿…å®šæ˜¯ HTTP/HTTPS åè®®ï¼Œè¿™ä¸¤ç§åè®®çš„å·¥ä½œåŸç†å¯ç®€è¿°ä¸ºï¼šå®¢æˆ·ç«¯é€šè¿‡æµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨åœ¨æ¥å—åˆ°è¯·æ±‚åè¿›è¡Œå¤„ç†å¹¶å°†å¾—åˆ°çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œç”±å®¢æˆ·ç«¯å¤„ç†ç»“æœã€‚å¯è§å…¶ä¸»è¦ä¸ºä¸€ç§ â€œæ‹‰å–â€ ä¿¡æ¯çš„å½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;éšç€æ—¶ä»£çš„å‘å±•ï¼Œå‡ºç°äº†ä¸€äº›éœ€è¦å®æ—¶å‘é€ä¿¡æ¯çš„åœºæ™¯ï¼Œæ¯”å¦‚ä½“è‚²å®å†µæ›´æ–°ã€é‡‘èè¯åˆ¸çš„å®æ—¶ä¿¡æ¯ã€å®æ—¶æ•°æ®ç›‘æ§ç­‰ã€‚è€Œå¦‚ä½•å®ç° â€œæ¨é€â€ ä¿¡æ¯çš„å½¢å¼å‘¢ï¼Ÿåœ¨ WebSocket è¿˜æœªè¯ç”Ÿçš„æ—¶å€™ï¼Œé‡‡ç”¨çš„æ˜¯è½®è¯¢æŠ€æœ¯æ¥å®ç°ä¿¡æ¯çš„æ¨é€ï¼šæ¯é—´éš”ä¸€å®šçš„æ—¶é—´ï¼Œæµè§ˆå™¨è‡ªåŠ¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œä»¥æ­¤ä¸»åŠ¨æ‹‰å–æœåŠ¡å™¨çš„æœ€æ–°æ¶ˆæ¯ã€‚ä½¿ç”¨è½®è¯¢æŠ€æœ¯ï¼Œéœ€è¦ä¸åœå‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼Œè¿™æ ·ä¼šå ç”¨å¾ˆå¤šçš„å¸¦å®½å’ŒæœåŠ¡å™¨èµ„æºï¼Œå¹¶ä¸”è¿˜æ˜¯ä¸èƒ½å®ç°æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šè¿°èƒŒæ™¯ä¸‹ï¼Œä¸€ç§å…¨åŒå·¥çš„é€šä¿¡åè®® WebSocket åº”è¿è€Œç”Ÿï¼Œå®ƒå®ç°äº†æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ï¼Œä½¿å¾—å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é—´çš„ä¿¡æ¯äº¤äº’æ›´ä¸ºä¾¿æ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.2 WebSocket çš„æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;WebSocket æ˜¯ä¸€ç§åŸºäº TCP çš„ç½‘ç»œé€šä¿¡åè®®ï¼Œå¯åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡ï¼Œä½äº OSI 7 å±‚æ¨¡å‹çš„åº”ç”¨å±‚ã€‚WebSocket ä½¿ç”¨ ws æˆ– wss çš„ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦ï¼ˆURIï¼‰ï¼Œä¾‹å¦‚ï¼šws://localhost:8080/testï¼Œ å…¶ä¸­ wss è¡¨ç¤ºåŸºäº TLS çš„ WebSocketã€‚é»˜è®¤æƒ…å†µä¸‹ WebSocket åè®®ä½¿ç”¨ 80 ç«¯å£ï¼›è‹¥è¿è¡Œåœ¨ TLS ä¹‹ä¸Šæ—¶ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ 443 ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60a3sl9bcj20bm08omxe.jpg&#34; alt=&#34;HTTP HTTPS WS WSS å¯¹æ¯”&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.3 WebSocket ä¸ HTTP çš„å…³ç³»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;WebSocket ä¸ HTTP åè®®ä¸€æ ·éƒ½æ˜¯åŸºäº TCP çš„ï¼ŒäºŒè€…å‡ä¸ºå¯é çš„é€šä¿¡åè®®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebSocket ä¸ HTTP åè®®å‡ä¸ºåº”ç”¨å±‚åè®®ï¼Œä½† WebSocket æ˜¯ä¸€ç§ç‹¬ç«‹äº HTTP çš„åè®®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebSocket åœ¨å»ºç«‹æ¡æ‰‹è¿æ¥æ—¶ï¼Œæ•°æ®æ˜¯é€šè¿‡ HTTP åè®®ä¼ è¾“çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WebSocket å»ºç«‹å¥½è¿æ¥åï¼ŒçœŸæ­£é€šä¿¡é˜¶æ®µçš„æ•°æ®ä¼ è¾“ä¸ä¾èµ–äº HTTP åè®®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1.4 WebSocket ä¸ HTTP è½®è¯¢æŠ€æœ¯çš„å¯¹æ¯”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;HTTP å®ç°å®æ—¶ â€œæ¨é€â€ ç”¨åˆ°çš„è½®è¯¢æŠ€æœ¯ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼šçŸ­è½®è¯¢ä¸é•¿è½®è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;çŸ­è½®è¯¢ï¼šå®¢æˆ·ç«¯æ¯é—´éš”ç‰¹å®šæ—¶é—´å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚æ‹‰å–æ•°æ®ï¼Œè€ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åä¸ç®¡æ˜¯å¦æœ‰æ–°çš„æ•°æ®ä¿¡æ¯éƒ½ç›´æ¥å“åº”è¯·æ±‚ã€‚å¯è§çŸ­è½®è¯¢æœ‰å¦‚ä¸‹ç¼ºç‚¹ï¼šä¸å¿…è¦è¯·æ±‚è¿‡å¤šï¼Œæµªè´¹å¸¦å®½ä¸æœåŠ¡å™¨èµ„æºï¼›å¹¶ä¸èƒ½è·å¾—çœŸæ­£å®æ—¶ä¿¡æ¯ï¼Œé™¤éæœåŠ¡å™¨æ•°æ®æ›´æ–°çš„é—´éš”æ—¶é—´å›ºå®šä¸”ç­‰äºè®¾ç½®çš„è½®è¯¢é—´éš”æ—¶é—´ï¼Œå¦åˆ™æœåŠ¡å™¨å“åº”ç›¸å¯¹äºæ•°æ®æ›´æ–°å¿…å®šå­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿæ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;é•¿è½®è¯¢ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ· HTTP è¯·æ±‚åï¼ŒæœåŠ¡å™¨ä¸€ç›´ä¿æŒè¿æ¥æ‰“å¼€å¹¶é˜»å¡ï¼Œç›´åˆ°æœåŠ¡å™¨æœ‰æ–°æ•°æ®æ›´æ–°å¹¶å¯ä»¥å‘é€ï¼Œæˆ–è€…ç­‰å¾…ä¸€å®šæ—¶é—´ç›´è‡³è¶…æ—¶åæ‰ä¼šè¿”å›ã€‚æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åæµè§ˆå™¨å…³é—­è¿æ¥ï¼Œéšå³åˆå‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚ä¸Šè¿°è¿‡ç¨‹åœ¨æµè§ˆå™¨é¡µé¢æ‰“å¼€æœŸé—´ä¸€ç›´æŒç»­ä¸æ–­ã€‚é•¿è½®è¯¢è™½ç„¶å‡å°‘äº†è¯·æ±‚é‡ï¼Œå¹¶ä¸”ä¸å†å­˜åœ¨å»¶æ—¶ï¼›ä½†åœ¨æœªæœ‰æ•°æ®æ›´æ–°æ—¶ä¼šé•¿æ—¶é—´éœ¸å æœåŠ¡å™¨èµ„æºï¼Œé€ æˆæœåŠ¡å™¨èµ„æºæµªè´¹ï¼Œå®æ—¶äº¤äº’èƒ½åŠ›ä¹Ÿä¸å¤Ÿå¼ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60a5f92fpj20lf0b93z2.jpg&#34; alt=&#34;çŸ­è½®è¯¢å’Œé•¿è½®è¯¢&#34;&gt;&lt;/p&gt;
&lt;p&gt;WebSocket æ˜¯ä¸€ç§ TCP é•¿è¿æ¥é€šè®¯æ¨¡å¼ã€‚åœ¨ WebSocket è¿æ¥å»ºç«‹åï¼Œæ•°æ®éƒ½ä»¥å¸§åºåˆ—çš„å½¢å¼ä¼ è¾“ã€‚åœ¨å®¢æˆ·ç«¯æ–­å¼€ WebSocket è¿æ¥æˆ–æœåŠ¡ç«¯ä¸­æ–­è¿æ¥å‰ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é‡æ–°å‘èµ·è¿æ¥è¯·æ±‚ã€‚åœ¨æµ·é‡å¹¶å‘åŠå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨äº¤äº’è´Ÿè½½æµé‡å¤§çš„æƒ…å†µä¸‹ï¼Œæå¤§çš„èŠ‚çœäº†ç½‘ç»œå¸¦å®½èµ„æºçš„æ¶ˆè€—ï¼Œæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¼˜åŠ¿ã€‚ç”±äºæ˜¯å…¨åŒå·¥æ¨¡å¼ï¼Œæ¥æ”¶ä¸å‘é€å‡åœ¨åŒä¸€ä¿¡é“è¿›è¡Œï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨æ•°æ®æ›´æ–°æ—¶ä¸»åŠ¨æ¨é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ï¼Œå®æ—¶æ€§å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60a5zmvoyj209r0dh74i.jpg&#34; alt=&#34;WebSocket åè®®&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.5 WebSocket ä¸ HTTP2.0 å¯¹æ¯”&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;WebSocket æ˜¯ç›´æ¥ä»æœåŠ¡å™¨å°†æ•°æ®æ¨é€ç»™ Web App çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTTP2.0 æ‰€æ”¯æŒçš„ Server Push æ˜¯ä¸»åŠ¨å°†èµ„æºæ¨é€åˆ°å®¢æˆ·ç«¯ç¼“å­˜ï¼Œå¹¶ä¸å…è®¸å°†æ•°æ®æ¨é€åˆ°å®¢æˆ·ç«¯çš„ Web App ã€‚ä¾‹å¦‚ï¼Œåœ¨æµè§ˆå™¨è¯·æ±‚æŸä¸ª html æ—¶ï¼Œé™¤äº†å°† html å“åº”ç»™å®¢æˆ·ç«¯ï¼Œè¿˜å°† cssã€png ç­‰ç½‘é¡µæ‰€éœ€çš„å…¨éƒ¨èµ„æºæ–‡ä»¶æ¨é€ç»™æµè§ˆå™¨ã€‚Server Push åªèƒ½ç”±æµè§ˆå™¨å¤„ç†ï¼Œä¸ä¼šåœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­å¼¹å‡ºæœåŠ¡å™¨æ•°æ®ï¼Œå› æ­¤åº”ç”¨ç¨‹åºæ²¡æœ‰ API æ¥è·å–è¿™äº›äº‹ä»¶çš„é€šçŸ¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1.6 WebSocket çš„å¸§&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;WebSocket ä½¿ç”¨äº†è‡ªå®šä¹‰çš„äºŒè¿›åˆ¶åˆ†å¸§æ ¼å¼ï¼Œå°†æ¯ä¸ªåº”ç”¨æ¶ˆæ¯åˆ‡åˆ†æˆä¸€ä¸ªæˆ–å¤šä¸ªå¸§ï¼Œå¯¹ç«¯ç­‰åˆ°æ¥æ”¶åˆ°å®Œæ•´çš„æ¶ˆæ¯åå†è¿›è¡Œç»„è£…ä¸å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60a6w24shj21cm0u0433.jpg&#34; alt=&#34;WebSocket åè®®æ¡¢&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FIN ï¼š1 bit è¡¨ç¤ºæ¶ˆæ¯ç»“æŸæ ‡å¿—ä½ã€‚0 è¡¨ç¤ºè¿˜æœ‰åç»­å¸§ï¼Œ 1 è¡¨ç¤ºæœ€åä¸€å¸§ã€‚ä¸€ä¸ªæ¶ˆæ¯å¯èƒ½æ‹†åˆ†æˆå¤šä¸ªå¸§ï¼Œæ¥æ”¶æ–¹åˆ¤æ–­ä¸ºæœ€åä¸€å¸§åå°†å‰é¢çš„å¸§æ‹¼æ¥ç»„æˆæ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RSV1 ã€ RSV2 ã€ RSV3 ï¼š1 bit ä¿ç•™å­—æ®µï¼Œé™¤éä¸€ä¸ªæ‰©å±•ç»è¿‡åå•†èµ‹äºˆäº†éé›¶å€¼çš„æŸç§å«ä¹‰ï¼Œå¦åˆ™å¿…é¡»ä¸º 0ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;opcode ï¼š4 bit è§£é‡Š payload data çš„ç±»å‹ã€‚å¦‚æœæ”¶åˆ°è¯†åˆ«ä¸äº†çš„ opcodeï¼Œä¼šç›´æ¥æ–­å¼€ã€‚0 è¡¨ç¤ºè¿ç»­çš„å¸§ï¼› 1 è¡¨ç¤º textï¼ˆçº¯æ–‡æœ¬ï¼‰å¸§ï¼› 2 è¡¨ç¤º binaryï¼ˆäºŒè¿›åˆ¶ï¼‰å¸§ ï¼› 8 è¡¨ç¤º closeï¼ˆå…³é—­è¿æ¥ï¼‰å¸§ï¼› 9 è¡¨ç¤º ping å¸§ ï¼›10 è¡¨ç¤º pong å¸§ï¼›å…¶ä½™ä¸ºéæ§åˆ¶å¸§è€Œé¢„ç•™ã€‚ping/pong ç±»å‹å¸§æ˜¯ä¸ºäº†åœ¨é•¿æ—¶é—´æ— æ¶ˆæ¯é€šä¿¡æ—¶ï¼Œæ£€æµ‹è¿æ¥æ˜¯å¦æ–­å¼€ï¼Œç›®å‰åªèƒ½ç”±æœåŠ¡å™¨å‘ ping ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨è¿”å› pong æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MASK ï¼š1 bit æ ‡è¯† Payload data æ˜¯å¦ç»è¿‡æ©ç å¤„ç†ï¼Œå¦‚æœæ˜¯ 1ï¼ŒMasking-key åŸŸçš„æ•°æ®å³ä¸ºæ©ç å¯†é’¥ï¼Œç”¨äºè§£ç  Payload dataã€‚åœ¨æ ‡å‡†è§„å®šï¼Œå®¢æˆ·ç«¯å‘é€æ•°æ®å¿…é¡»ä½¿ç”¨æ©ç ï¼Œè€ŒæœåŠ¡å™¨å‘é€åˆ™ä¸€å®šä¸ä½¿ç”¨æ©ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Payload len ï¼š7 bit | 7+16 bit | 7+64 bit è¡¨ç¤ºäº† â€œæœ‰æ•ˆè´Ÿè·æ•°æ® Payload dataâ€ çš„é•¿åº¦ï¼šï¼ˆ1ï¼‰å¦‚æœæ˜¯ 0~125ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¡¨ç¤ºäº† payload é•¿åº¦ ï¼ˆ2ï¼‰ å¦‚æœæ˜¯ 126ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºçš„ 16 ä½æ— ç¬¦å·æ•´å‹æ•°çš„å€¼å°±æ˜¯ payload é•¿åº¦ ï¼ˆ3ï¼‰å¦‚æœæ˜¯ 127ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„å…«ä¸ªå­—èŠ‚è¡¨ç¤ºçš„ 64 ä½æ— ç¬¦å·æ•´å‹æ•°çš„å€¼å°±æ˜¯ payload é•¿åº¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Masking-key ï¼š0 | 4 bytes æ©ç å¯†é’¥ã€‚æ‰€æœ‰ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡ç«¯çš„å¸§éƒ½åŒ…å«ä¸€ä¸ª 32bits çš„æ©ç ï¼ˆå¦‚æœ mask è¢«è®¾ç½®æˆ 1ï¼‰ï¼Œå¦åˆ™ä¸º 0ã€‚ä¸€æ—¦æ©ç è¢«è®¾ç½®ï¼Œæ‰€æœ‰æ¥æ”¶åˆ°çš„ payload data éƒ½å¿…é¡»ä¸è¯¥å€¼ä»¥ä¸€ç§ç®—æ³•åšå¼‚æˆ–è¿ç®—æ¥è·å–çœŸå®å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Payload data ï¼š(x+y) bytes å®ƒæ˜¯ Extension data å’Œ Application data æ•°æ®çš„æ€»å’Œï¼Œä½†æ˜¯ä¸€èˆ¬æ‰©å±•æ•°æ®ä¸ºç©ºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Extension data ï¼šx bytes é™¤éæ‰©å±•è¢«å®šä¹‰ï¼Œå¦åˆ™å°±æ˜¯ 0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Application data ï¼šy bytes å æ® Extension data åé¢çš„æ‰€æœ‰ç©ºé—´&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1.7 Websocket å»ºç«‹è¿æ¥çš„æ­¥éª¤&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥ï¼Œè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ã€‚è¿™å‘ç”Ÿäºä¼ è¾“å±‚ï¼Œæ˜¯ç½‘ç»œé€šä¿¡çš„åŸºç¡€ï¼Œå¦‚æœå¤±è´¥åˆ™åç»­æ­¥éª¤å°†ä¸å†æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å½“ TCP è¿æ¥æˆåŠŸåï¼Œè¿›è¡Œ HTTP çš„é€šä¿¡æ¡æ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯é€šè¿‡ HTTP åè®®å‘æœåŠ¡å™¨ä¼ é€å¸¦æœ‰ WebSocket æ”¯æŒçš„ç‰ˆæœ¬å·ç­‰ä¿¡æ¯çš„æ¡æ‰‹è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„æ¡æ‰‹è¯·æ±‚åï¼ŒåŒæ ·é‡‡ç”¨ HTTP åè®®è¿”å›åº”ç­”æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“å®¢æˆ·ç«¯æ”¶åˆ°äº†è¿æ¥æˆåŠŸçš„åº”ç­”æ¶ˆæ¯ä¹‹åï¼ŒæŒç»­é€šè¿‡ TCP é€šé“è¿›è¡Œä¼ è¾“é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ WebSocket åœ¨å»ºç«‹æ¡æ‰‹æ—¶ï¼Œè¿æ¥ä¿¡æ¯æ˜¯é€šè¿‡ HTTP ä¼ è¾“çš„ã€‚ä½†æ˜¯å»ºç«‹ä¹‹åï¼Œåœ¨çœŸæ­£ä¼ è¾“é€šä¿¡æ•°æ®æ—¶å€™æ˜¯ä¸éœ€è¦ HTTP åè®®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡ WebSocket çš„æ¡æ‰‹è¯·æ±‚ä¸åº”ç­”çš„å…¸å‹æŠ¥æ–‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;WebSocket æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰è¿æ¥æŠ¥æ–‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GET /websocket/ HTTP/1.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host: localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Upgrade: websocket
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection: Upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sec-WebSocket-Key: xqBt3ImNzJbYqRINxEFlkg==
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Origin: http://localhost:8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sec-WebSocket-Version: 13
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»ä¸Šè¿°æŠ¥æ–‡ä¸­å¯ä»¥çœ‹å‡ºï¼Œæµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰å‘èµ·çš„ WebSocket è¿æ¥æŠ¥æ–‡ä¸ä¼ ç»Ÿ HTTP æŠ¥æ–‡ç±»ä¼¼ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»ç¬¬ä¸€è¡Œä¸­å¯è§ï¼Œè¿æ¥æŠ¥æ–‡ä¸€å®šæ˜¯ GET æ–¹æ³•ï¼Œä¸”å¿…é¡»åŸºäº HTTP/1.1ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰è¡Œä¸­ï¼ŒUpgradeï¼šwebsocket å‚æ•°å€¼è¡¨æ˜è¿™æ˜¯ WebSocket ç±»å‹çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬å››è¡Œä¸­ï¼ŒConnection: Upgrade è¡¨æ˜æœ¬æ¬¡é€šä¿¡è¦å¯¹ HTTP åè®®è¿›è¡Œå‡çº§ã€‚ç»“åˆä¸‰å››è¡Œï¼Œå³è¡¨æ˜æœ¬æ¬¡é€šä¿¡éœ€è¦å°† HTTP åè®®å‡çº§è‡³ WebSocket åè®®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢æ™®é€šçš„ HTTP æ¶ˆæ¯è¢« â€œæ„å¤–â€ è¯†åˆ«æˆ WebSocketï¼Œæ¡æ‰‹æ¶ˆæ¯è¿˜å¢åŠ äº†ä¸¤ä¸ªé¢å¤–çš„è®¤è¯ç”¨é€”çš„å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;Sec-WebSocket-Key æ˜¯ WebSocket å®¢æˆ·ç«¯å‘é€çš„ä¸€ä¸ª base64 ç¼–ç çš„å¯†æ–‡ï¼Œè¦æ±‚æœåŠ¡ç«¯å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹åº”åŠ å¯†çš„ Sec-WebSocket-Accept åº”ç­”ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¼šæŠ›å‡º â€œError during WebSocket handshakeâ€ é”™è¯¯ï¼Œå¹¶å…³é—­è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;Sec-WebSocket-Versionï¼šåè®®çš„ç‰ˆæœ¬å·ï¼Œå½“å‰å¿…é¡»æ˜¯ 13 ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨æ”¶åˆ° HTTP è¯·æ±‚æŠ¥æ–‡ï¼Œçœ‹åˆ°ä¸Šè¿° 4 ä¸ªç‰¹æ®Šå­—æ®µï¼ŒçŸ¥é“è¿™æ˜¯ WebSocket çš„å‡çº§è¯·æ±‚ï¼Œäºæ˜¯å°±ä¸æ‰§è¡Œæ™®é€šçš„ HTTP å¤„ç†æµç¨‹ï¼Œè€Œæ˜¯æ„é€ ä¸€ä¸ªç‰¹æ®Šçš„åº”ç­”æŠ¥æ–‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HTTP/1.1 101 Switching Protocols
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Upgrade: websocket
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection: Upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sec-WebSocket-Accept:K7DJLdLooIwIG/MOpvWFB3y3FE8=
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;HTTP/1.1 101 Switching Protocols&lt;/code&gt;ï¼Œ101 ä¸ºå‡çº§æˆåŠŸçš„è¿”å›ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æ¥å— WebSocket åè®®çš„å®¢æˆ·ç«¯è¿æ¥ï¼ŒåŒæ–¹æ¡æ‰‹æˆåŠŸï¼Œä¹‹ååˆ‡æ¢ä¸º WebSocket åè®®è¿›è¡Œé€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Sec-WebSocket-Accept&lt;/code&gt; çš„å€¼æ˜¯æœåŠ¡ç«¯é‡‡ç”¨ä¸å®¢æˆ·ç«¯ä¸€è‡´çš„å¯†é’¥è®¡ç®—å‡ºæ¥åè¿”å›å®¢æˆ·ç«¯çš„ï¼Œè¯¥å­—æ®µæ˜¯ä¸ºäº†éªŒè¯å®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡ï¼Œé˜²æ­¢è¯¯è¿æ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒwebsocket-çš„-golang-å®ç°&#34;&gt;äºŒã€WebSocket çš„ Golang å®ç°&lt;/h3&gt;
&lt;p&gt;å¼€æºç¤¾åŒºä¸­æœ‰å‡ ä¸ªæ¯”è¾ƒå¥½çš„ Golang åº“ï¼Œæœ¬æ–‡é€‰æ‹©åŸºäº &lt;a href=&#34;https://github.com/gorilla/websocket&#34;&gt;gorilla/websocket&lt;/a&gt; è¿›è¡Œæ„å»º WebSocketæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„demoï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;var upgrader = websocket.Upgrader{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	ReadBufferSize:  1024,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	WriteBufferSize: 1024,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;func handler(w http.ResponseWriter, r *http.Request) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	conn, err := upgrader.Upgrade(w, r, nil)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	if err != nil {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		log.Println(err)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		return
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	for {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		messageType, p, err := conn.ReadMessage()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		if err != nil {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			log.Println(err)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			return
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		if err := conn.WriteMessage(messageType, p); err != nil {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			log.Println(err)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			return
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é¦–å…ˆï¼Œéœ€è¦åˆå§‹åŒ–ä¸€ä¸ª Upgrader å¯¹è±¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;type Upgrader struct {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	HandshakeTimeout time.Duration //æ¡æ‰‹è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	ReadBufferSize, WriteBufferSize int //è¯»ã€å†™ç¼“å†²åŒºå¤§å°ï¼ˆé»˜è®¤4096å­—èŠ‚ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	WriteBufferPool BufferPool //å†™ç¼“å†²åŒºæ± 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	Subprotocols []string //å­åè®®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	Error func(w http.ResponseWriter, r *http.Request, status int, reason error) //é”™è¯¯å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	CheckOrigin func(r *http.Request) bool //æ ¡éªŒå‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	EnableCompression bool //æ˜¯å¦å‹ç¼©
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ¥ç€ï¼Œè°ƒç”¨ &lt;code&gt;func (u *Upgrader) Upgrade(w http.ResponseWriter, r *http.Request, responseHeader http.Header) (*Conn, error)&lt;/code&gt; å‡½æ•°ï¼Œå°† HTTP åè®®å‡çº§åˆ° WebSocket åè®®ï¼Œå³æ„é€ æ¡æ‰‹è¯·æ±‚ä¸­æœåŠ¡å™¨å“åº”çš„è¿‡ç¨‹ã€‚å‡çº§æˆåŠŸä¼šè¿”å›ä¸€ä¸ª Conn å¯¹è±¡ï¼Œæ­¤åå°†ç”¨ Conn ä¸­çš„æ–¹æ³•å»è¿›è¡Œæ•°æ®é€šä¿¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;func (u *Upgrader) Upgrade(w http.ResponseWriter, r *http.Request, responseHeader http.Header) (*Conn, error) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	c := newConn(netConn, true, u.ReadBufferSize, u.WriteBufferSize, u.WriteBufferPool, br, writeBuf)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	p := buf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	if len(c.writeBuf) &amp;gt; len(p) {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		p = c.writeBuf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	p = p[:0]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	p = append(p, &amp;#34;HTTP/1.1 101 Switching Protocols\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nSec-WebSocket-Accept: &amp;#34;...)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	p = append(p, &amp;#34;\r\n&amp;#34;...)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	// Clear deadlines set by HTTP server. 		netConn.SetDeadline(time.Time{})
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	if u.HandshakeTimeout &amp;gt; 0 {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		netConn.SetWriteDeadline(time.Now().Add(u.HandshakeTimeout))
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	if _, err = netConn.Write(p); err != nil {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		netConn.Close()
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		return nil, err
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	if u.HandshakeTimeout &amp;gt; 0 {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		netConn.SetWriteDeadline(time.Time{})
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	return c, nil
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¯»å–æ¶ˆæ¯å¯ä»¥ä½¿ç”¨ &lt;code&gt;func (c *Conn) ReadMessage() (messageType int, p []byte, err error) &lt;/code&gt; æ–¹æ³•ï¼Œå®ƒä¼šä»è¯»ç¼“å†²åŒºä¸­è¯»å–æ¶ˆæ¯å¹¶è¿”å›ï¼ŒåŒæ—¶ä¹Ÿè¿”å›æ¶ˆæ¯ç±»å‹ (Text, Binary, Close, Ping and Pong)ã€‚è¯¥å‡½æ•°ä¼šé˜»å¡çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å‘é€æ¶ˆæ¯å¯ä»¥ä½¿ç”¨ &lt;code&gt;func (c *Conn) WriteMessage(messageType int, data []byte) error&lt;/code&gt; æ–¹æ³•ï¼Œå®ƒä¼šå‘å†™ç¼“å†²åŒºä¸­å†™å…¥æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;é™¤ä¸Šè¿°ä¸¤ä¸ªè¯»å†™é€šç”¨æ¥å£å¤–ï¼ŒConn è¿˜æä¾›äº† &lt;code&gt;func (c *Conn) ReadJSON(v interface{}) error&lt;/code&gt; ä¸ &lt;code&gt;func (c *Conn) WriteJSON(v interface{}) error&lt;/code&gt; ä¸¤ä¸ªæ¥å£ï¼Œæ–¹ä¾¿æ”¶å‘ json æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥åº“ä¸­è¿˜æä¾›äº† &lt;code&gt;Dialer&lt;/code&gt; ç»“æ„ä½“å’Œ &lt;code&gt;func (d *Dialer) Dial(urlStr string, requestHeader http.Header) (*Conn, *http.Response, error) &lt;/code&gt; æ–¹æ³•ï¼Œå®ç°äº†ä½œä¸ºå®¢æˆ·ç«¯æ‹¨å·è¿æ¥è‡³å¯¹åº”çš„ WebSocket æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;u := url.URL{Scheme: &amp;#34;ws&amp;#34;, Host: &amp;#34;10.0.0.1:6666&amp;#34;, Path: /WS, RawQuery: &amp;#34;&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ws_c, _, err := websocket.DefaultDialer.Dial(u.String(), nil)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;ä¸‰ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹&#34;&gt;ä¸‰ã€ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;flag&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;html/template&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;net/http&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;github.com/gorilla/websocket&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;addr&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;localhost:8080&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;http service address&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;upgrader&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;websocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Upgrader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// use default options
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;upgrader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Upgrade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;upgrade:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ReadMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;read:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;recv: %s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;WriteMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;write:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;homeTemplate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Execute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ws://&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/echo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Parse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SetFlags&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/echo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HandleFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fatal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ListenAndServe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;homeTemplate&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Must&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Parse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;meta charset=&amp;#34;utf-8&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;script&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;window.addEventListener(&amp;#34;load&amp;#34;, function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    var output = document.getElementById(&amp;#34;output&amp;#34;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    var input = document.getElementById(&amp;#34;input&amp;#34;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    var ws;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    var print = function(message) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        var d = document.createElement(&amp;#34;div&amp;#34;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        d.textContent = message;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        output.appendChild(d);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        output.scroll(0, output.scrollHeight);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    document.getElementById(&amp;#34;open&amp;#34;).onclick = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        if (ws) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            return false;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws = new WebSocket(&amp;#34;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;{{&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;}}&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws.onopen = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            print(&amp;#34;OPEN&amp;#34;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws.onclose = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            print(&amp;#34;CLOSE&amp;#34;);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            ws = null;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws.onmessage = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            print(&amp;#34;RESPONSE: &amp;#34; + evt.data);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws.onerror = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            print(&amp;#34;ERROR: &amp;#34; + evt.data);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return false;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    document.getElementById(&amp;#34;send&amp;#34;).onclick = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        if (!ws) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            return false;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        print(&amp;#34;SEND: &amp;#34; + input.value);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws.send(input.value);
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return false;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    document.getElementById(&amp;#34;close&amp;#34;).onclick = function(evt) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        if (!ws) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            return false;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ws.close();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return false;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/script&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;table&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;tr&amp;gt;&amp;lt;td valign=&amp;#34;top&amp;#34; width=&amp;#34;50%&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;p&amp;gt;Click &amp;#34;Open&amp;#34; to create a connection to the server,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Send&amp;#34; to send a message to the server and &amp;#34;Close&amp;#34; to close the connection.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;You can change the message and send multiple times.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;form&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;button id=&amp;#34;open&amp;#34;&amp;gt;Open&amp;lt;/button&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;button id=&amp;#34;close&amp;#34;&amp;gt;Close&amp;lt;/button&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;p&amp;gt;&amp;lt;input id=&amp;#34;input&amp;#34; type=&amp;#34;text&amp;#34; value=&amp;#34;Hello world!&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;button id=&amp;#34;send&amp;#34;&amp;gt;Send&amp;lt;/button&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/form&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/td&amp;gt;&amp;lt;td valign=&amp;#34;top&amp;#34; width=&amp;#34;50%&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;div id=&amp;#34;output&amp;#34; style=&amp;#34;max-height: 70vh;overflow-y: scroll;&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢ä»£ç æ˜¯å®˜æ–¹çš„ WebSocket ç¤ºä¾‹ï¼Œå†…éƒ¨åŒ…å«äº†ä¸€ä¸ªç®€å•çš„ HTTP Clientç«¯ï¼Œå½“æˆ‘ä»¬æ­£å¸¸è¿è¡Œæ—¶ï¼Œè®¿é—® &lt;code&gt;http://127.0.0.1:8080&lt;/code&gt; å°†ä¼šæœ‰å¦‚ä¸‹é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60gpy0iu5j21de0bamyi.jpg&#34; alt=&#34;WebSocket Demo&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬å¼€å§‹é€šè¿‡ç½‘é¡µå¾€æœåŠ¡ç«¯å‘é€ WebSocket æ¶ˆæ¯æ—¶ï¼Œä¼šå®æ—¶æ˜¾ç¤ºæ¶ˆæ¯çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60grqxy1kj21q80de411.jpg&#34; alt=&#34;WebSocket æ¶ˆæ¯&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/e6c9d24egy1h60gse85x7j20ga05qdg0.jpg&#34; alt=&#34;æœåŠ¡ç«¯æ¥æ”¶åˆ°çš„æ¶ˆæ¯&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>CoreDNS loop æ’ä»¶å¼‚å¸¸é—®é¢˜</title>
      <link>https://bgbiao.top/post/coredns-loop/</link>
      <pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/coredns-loop/</guid>
      
        <description>&lt;p&gt;å…³é”®æŠ€æœ¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kubernetes.io/&#34;&gt;Kubernetes&lt;/a&gt;: åˆ†å¸ƒå¼çš„å®¹å™¨ç¼–æ’ä¸è°ƒåº¦ç³»ç»Ÿï¼Œå½“å‰å…¬è®¤çš„äº‘åŸç”ŸæŠ€æœ¯åŸºç¡€è®¾æ–½&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://coredns.io&#34;&gt;CoreDNS&lt;/a&gt;: DNS and Service Discovery ï¼Œå½“å‰å…¬è®¤çš„äº‘åŸç”ŸåŸºç¡€è®¾æ–½ä¹‹åå­—æœåŠ¡ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://coredns.io/plugins/loop/&#34;&gt;CoreDNS-plugins-loop&lt;/a&gt;: CoreDNS loop æ’ä»¶æ–‡æ¡£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h3&gt;
&lt;p&gt;æœ€è¿‘æœ‰é‡åˆ°ä¸€ä¸ªå®¢æˆ·é›†ç¾¤ï¼Œå‘ç°é›†ç¾¤ä¸­çš„ CoreDNS è€æ˜¯å¼‚å¸¸(loop æ’ä»¶æ£€æµ‹åˆ°æœ‰å›è·¯åè¿›è¡Œ panic)ï¼Œå› æ­¤æ€€ç–‘æ˜¯ K8S é›†ç¾¤åœ¨äº¤ä»˜æˆ–è€…åˆå§‹åŒ–è¿‡ç¨‹ä¸­åšäº†ä¸€äº›é¢å¤–çš„åŠ¨ä½œï¼Œä¸ºäº†æŸ¥æ˜çœŸç›¸æˆ‘ä»¬å¯¹å®¢æˆ·ç¯å¢ƒè¿›è¡Œä¸€æ¬¡æ’æŸ¥å’ŒçŠ¶å†µæ¨¡æ‹Ÿï¼Œé¡ºä¾¿æ¥ä¸€èµ·å­¦ä¹ ä¸€ä¸‹åœ¨ CoreDNS ä¸­ loop æ’ä»¶çš„ç›¸å…³çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é—®é¢˜ç°è±¡&#34;&gt;é—®é¢˜ç°è±¡&lt;/h3&gt;
&lt;p&gt;åœ¨æŸ¥çœ‹ coredns pod å¯åŠ¨æ—¥å¿—æ—¶ï¼Œå‘ç°æœ‰å¦‚ä¸‹å¯¹åº”å¼‚å¸¸:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl  get pods -n kube-system | grep dns
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;coredns-bdbc5564-8qldp              0/1     CrashLoopBackOff   8          22m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl  logs -n kube-system coredns-bdbc5564-8qldp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[INFO] plugin/kubernetes: Watching Endpoints instead of EndpointSlices in k8s versions &amp;lt; 1.19
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.:53
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[INFO] plugin/reload: Running configuration MD5 = 045400f7bc8c9f6aaf8ca5dade224266
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CoreDNS-1.8.4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;linux/amd64, go1.16.4, 053c4d5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[INFO] 127.0.0.1:34652 - 36041 &amp;#34;HINFO IN 2066162189351134310.8810881223121065474. udp 57 false 512&amp;#34; NOERROR - 0 6.002536937s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ERROR] plugin/errors: 2 2066162189351134310.8810881223121065474. HINFO: read udp 127.0.0.1:48503-&amp;gt;127.0.0.53:53: i/o timeout
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[FATAL] plugin/loop: Loop (127.0.0.1:48066 -&amp;gt; :53) detected for zone &amp;#34;.&amp;#34;, see https://coredns.io/plugins/loop#troubleshooting. Query: &amp;#34;HINFO 2066162189351134310.8810881223121065474.&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;çœ‹åˆ°è¯¥å¼‚å¸¸æ—¶ï¼Œç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯ å®¢æˆ·åº”è¯¥åœ¨é›†ç¾¤ä¸­åšäº†ä¸€äº› dns çš„è‡ªå®šä¹‰é…ç½®(å› ä¸ºæˆ‘ä»¬äº¤ä»˜æ¨¡ç‰ˆä¸­å¹¶æ²¡æœ‰ä¸º CoreDNS å¼€å¯ loop æ’ä»¶)ï¼Œè€Œé…ç½®ååˆè§¦å‘äº†ä¸€äº›å†²çªï¼Œè¿›è€Œå¯¼è‡´æœåŠ¡å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶åŸºæœ¬å·²ç»ç¡®å®šäº†æ˜¯å®¢æˆ·è‡ªè¡Œä¿®æ”¹çš„é…ç½®å¯¼è‡´çš„å¼‚å¸¸ï¼Œä½†ä¸ºä½•æˆ–è€…å…·ä½“å¦‚ä½•å‡ºç°çš„è¯¥é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é—®é¢˜æ’æŸ¥å’Œå¤„ç†&#34;&gt;é—®é¢˜æ’æŸ¥å’Œå¤„ç†&lt;/h3&gt;
&lt;p&gt;å…¶å®å¯¹äº CoreDNS è¿™ç§å¼€æºç•Œæ¯”è¾ƒä¼˜ç§€çš„è½¯ä»¶ï¼Œå¯¹å¼‚å¸¸çš„å¤„ç†ä»¥åŠä¿®å¤éƒ½å·²ç»åšçš„ç‰¹åˆ«å¥½äº†ï¼Œæ¯”å¦‚ä¸Šè¿°çš„æ—¥å¿—ä¸­å·²ç»æ˜æ˜¾æç¤ºï¼Œå¯¹äºè¿™ç§é”™è¯¯å¦‚ä½•è¿›è¡Œ troubleshooting äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è·Ÿéšå®˜æ–¹æ–‡æ¡£ï¼Œå…¶å®å°±å¯ä»¥çŸ¥é“ï¼Œå¯¹äºç›¸å…³é—®é¢˜å·²ç»è¯´çš„æ¯”è¾ƒæ˜ç™½ï¼Œæˆ‘åœ¨è¿™é‡Œæ€»ç»“ä»¥ä¸‹å‡ ç‚¹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;loop æ’ä»¶çš„ä½œç”¨:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è¯¥æ’ä»¶ä¼šæ£€æµ‹ç®€å•è½¬å‘ç¯è·¯ï¼Œå¹¶ä¸”å½“å‘ç°å›è·¯æ—¶ä¼šä½¿æœåŠ¡å™¨&lt;code&gt;åœæ­¢&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å›è·¯çš„å½±å“:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å½“ CoreDNS è½¬å‘ä¸­å­˜åœ¨ç¯è·¯æ—¶ï¼Œä¼šä¸æ–­å‘è‡ªå·±è½¬å‘ï¼Œå¦‚æ­¤å½¢æˆæ­»å¾ªç¯ï¼Œä¼šå¯¼è‡´èµ„æºæ— ç©·å ç”¨ï¼Œæœ€ç»ˆå¯¼è‡´ä¸»æœº OOM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¸ºä½•ä¼šå¯¼è‡´å›è·¯:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;CoreDNSç›´æ¥å°†è¯·æ±‚è½¬å‘ç»™è‡ªå·±ï¼Œæ¯”å¦‚é€šè¿‡ 127.0.0.1, ::1, æˆ–è€… 127.0.0.53&lt;/li&gt;
&lt;li&gt;CoreDNSå°†è¯·æ±‚è½¬å‘åˆ°ä¸Šæ¸¸æœåŠ¡å™¨ï¼Œåè€…å†å°†è¯·æ±‚è½¬å‘å› CoreDNS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;loop æ’ä»¶ç”Ÿæ•ˆçš„æ¡ä»¶:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å›è·¯å¿…é¡»åœ¨ coredns å¯åŠ¨æ—¶å‡ºç°&lt;/li&gt;
&lt;li&gt;å›è·¯å¿…é¡»å‡ºç°åœ¨ä¸€ä¸ª &lt;code&gt;HINFO&lt;/code&gt; ç±»å‹çš„æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä¸Šå››ä¸ªç‚¹ï¼Œçœ‹å®Œä¹‹åï¼ŒåŸºæœ¬ä¸Šå°±çŸ¥é“ä¸ºä½• coredns å¯åŠ¨å¤±è´¥äº†ï¼Œæ­¤æ—¶æŸ¥çœ‹äº† coredns çš„é…ç½®é¡¹å¹¶æ— å¼‚å¸¸ï¼Œæ ¸å¿ƒé…ç½®å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# coredns ä¸­çš„æ ¸å¿ƒé…ç½®ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å¼€å¯äº†loop é…ç½®çš„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .:53 {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        errors
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        health {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          lameduck 5s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ready
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        kubernetes cluster.local in-addr.arpa ip6.arpa {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          fallthrough in-addr.arpa ip6.arpa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        log . {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          class all
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        prometheus :9153
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        forward . /etc/resolv.conf {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          max_concurrent 1000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        cache 30
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        loop
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        reload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        loadbalance
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šé…ç½®å¯ä»¥çœ‹åˆ°ï¼ŒCoreDNS çš„ç¡®å¼€å¯äº† loop æ’ä»¶ï¼Œå¹¶ä¸”æ²¡æœ‰æ˜¾å¼å£°æ˜ä¼šè®²è¯·æ±‚è½¬å‘åˆ° &lt;code&gt;127.0.0.1&lt;/code&gt; æˆ–è€… &lt;code&gt;127.0.0.53&lt;/code&gt; ä¹‹ç±»çš„æœ¬åœ°åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»¬ä¹Ÿè§‚å¯Ÿåˆ°ä¼šå°†è¯·æ±‚è½¬å‘åˆ° &lt;code&gt;/etc/resolv.conf&lt;/code&gt;ï¼Œè€Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨ K8S é›†ç¾¤ä¸­çš„ workload çš„ &lt;code&gt;dnsPolicy&lt;/code&gt; é€šå¸¸ä¸º &lt;code&gt;Default&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯å½“ CoreDNS  pod è°ƒåº¦åˆ°å“ªä¸ªèŠ‚ç‚¹ï¼Œå°†ä¼šè½¬å‘åˆ°èŠ‚ç‚¹çš„ &lt;code&gt;/etc/resolv.conf&lt;/code&gt; é…ç½®ä¸­ï¼Œå› æ­¤æ¥ä¸‹æ¥å¯ä»¥å»æŸ¥çœ‹èŠ‚ç‚¹çš„é…ç½®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹coredns è¢«è°ƒåº¦åˆ°çš„èŠ‚ç‚¹ä¸Šçš„resolv.conf é…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# cat /etc/resolv.conf  | grep -v ^#
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nameserver 127.0.0.53
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;options edns0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nameserver 183.60.83.19
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nameserver 183.60.82.98
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ­¤æ—¶ï¼Œå¯¹äºä¸Šé¢ coredns å¼‚å¸¸çš„åŸå› å°±å·²ç»å¤§æ¦‚æ¸…æ¥šäº†ï¼Œå°±æ˜¯èŠ‚ç‚¹ä¸Šçš„ &lt;code&gt;/etc/resolv.conf&lt;/code&gt; é…ç½®äº† &lt;code&gt;127.0.0.53&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§ &lt;code&gt;loop&lt;/code&gt; æ’ä»¶çš„è¯´æ³•ï¼Œå°±æ˜¯å¯åŠ¨äº† &lt;code&gt;loop&lt;/code&gt; æ¨¡å—ï¼Œå¹¶æˆåŠŸæ£€æµ‹åˆ°äº†å›è·¯ï¼Œé‚£æ­¤æ—¶ï¼ŒæŠŠå›è·¯æ¸…ç†æ‰ï¼Œåº”è¯¥å°±å¯ä»¥æ¢å¤æ­£å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•æŠŠå¯¹åº”èŠ‚ç‚¹ä¸Šçš„ &lt;code&gt;nameserver 127.0.0.53&lt;/code&gt; åˆ é™¤æ‰ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ­¤æ—¶ä¿®æ”¹èŠ‚ç‚¹çš„çš„é…ç½®ååˆ é™¤podå‘ç°å¯ä»¥é‡æ–°å¯åŠ¨äº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl  delete pods -n kube-system coredns-bdbc5564-8qldp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod &amp;#34;coredns-bdbc5564-8qldp&amp;#34; deleted
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl  get pods -n kube-system | grep dns
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;coredns-bdbc5564-j6nwl              1/1     Running   0          100s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;æ ¹å› å’Œè§£å†³æ–¹æ¡ˆ&#34;&gt;æ ¹å› å’Œè§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;ç›®å‰ï¼Œå®¢æˆ·çš„é—®é¢˜å·²ç»è§£å†³ï¼Œä½†æ˜¯å®¢æˆ·åé¦ˆè‡ªå·±æ²¡æœ‰ä¿®æ”¹è¿‡èŠ‚ç‚¹ä¸Šçš„é…ç½®ï¼Œå¹¶ä¸”ä¾ç„¶è®¤ä¸ºæ˜¯ K8S é›†ç¾¤äº¤ä»˜å’Œåˆå§‹åŒ–æ–¹åšäº†åŠ¨ä½œï¼Œå¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°èŠ‚ç‚¹ä¸Šçš„ &lt;code&gt;127.0.0.53&lt;/code&gt; æ˜¯å¦‚ä½•æ¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºå¹³å°æ–¹ï¼Œåœ¨æ–°å¢èŠ‚ç‚¹æˆ–è€…äº¤ä»˜é›†ç¾¤æ—¶ï¼Œçš„ç¡®ä¼šè¿›è¡Œåˆå§‹åŒ–èŠ‚ç‚¹ï¼Œä½†å¯¹äºåœ¨ &lt;code&gt;/etc/resolv.conf&lt;/code&gt; ä¸­å¢åŠ  &lt;code&gt;127.0.0.53&lt;/code&gt; æ˜¯è‚¯å®šä¸ä¼šåšçš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆé€šè¿‡ä¸æ–­æŸ¥è¯¢ç›¸å…³èµ„æ–™ï¼Œå‘ç°å®¢æˆ·ç”¨çš„æ˜¯ &lt;code&gt;Ubuntu&lt;/code&gt; çš„æ“ä½œç³»ç»Ÿï¼Œè€Œåœ¨ &lt;code&gt;Ubuntu&lt;/code&gt; çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œé»˜è®¤ä¼šä½¿ç”¨åˆ°&lt;code&gt;systemd-resolved&lt;/code&gt; è¿›è¡Œç®¡ç† dns serverï¼Œå¹¶ä¸”ä¼šè®¾ç½®ä¸€ä¸ª &lt;code&gt;127.0.0.53&lt;/code&gt; çš„åœ°å€ç”¨äºæœ¬åœ°dns ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.codenong.com/jsba6d4c63c1ef/#:~:text=ubuntu%E4%B8%8A%E7%BD%91%E6%85%A2%E7%9A%84%E4%B8%80%E4%B8%AA%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0%20%E5%B0%B1%E6%98%AF%E5%9B%A0%E4%B8%BA%2Fetc%2Fresolve.conf%E4%B8%AD%E5%AD%98%E5%9C%A8%20nameserver,127.0.0.53%E5%9B%9E%E7%8E%AF%E5%9C%B0%E5%9D%80%E3%80%82%20%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BAubuntu%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%AA%E9%85%8D%E7%BD%AEDNS%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%BA%94%E7%94%A8%E9%BB%98%E8%AE%A4%E7%9A%84127.0.0.53%EF%BC%8C%E8%BF%99%E4%B8%AA%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%94%B5%E8%84%91%E8%BF%9E%20wifi%20%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%99%B7%E5%85%A5%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%81%9C%E5%9C%B0%E8%BF%9B%E8%A1%8Cdns%E8%A7%A3%E6%9E%90%E7%9A%84%E6%AD%BB%E5%BE%AA%E7%8E%AF%E3%80%82&#34;&gt;Ubuntu 127.0.0.53 é—®é¢˜å’Œè§£å†³åŠæ³•&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç»è¿‡æµ‹è¯•çš„ç¡®æ˜¯å‘ç° &lt;code&gt;Ubuntu&lt;/code&gt; çš„æ“ä½œç³»ç»Ÿä¼šå¢åŠ è¯¥ name Server ï¼Œåˆ°è¿™é‡Œä¹Ÿå°±åŸºæœ¬ä¸Šæ¸…æ¥šäº†ï¼ŒèŠ‚ç‚¹ä¸Šçš„ &lt;code&gt;127.0.0.53&lt;/code&gt; è®°å½•çš„æ¥æºã€‚&lt;/p&gt;
&lt;p&gt;é‚£çœ‹åˆ°è¿™é‡Œè¦å¦‚ä½•è§£å†³å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ ¹æ®è¯¥é—®é¢˜ï¼Œä¸ªäººè®¤ä¸ºä¼šæœ‰å¦‚ä¸‹æ–¹æ¡ˆå¯ä¾›é€‰æ‹©:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;CoreDNS å…³é—­ &lt;code&gt;loop&lt;/code&gt; æ’ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æœ€ç²—æš´ç›´æ¥çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç»§ç»­å¼€å¯&lt;code&gt;loop&lt;/code&gt; æ’ä»¶ï¼Œä½†æ˜¯å°è¯•å¯¹ &lt;code&gt;HINFO&lt;/code&gt; ç±»å‹çš„è¯·æ±‚åšå¹²é¢„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ‰‹åŠ¨ä¿®æ”¹èŠ‚ç‚¹ä¸Šçš„ &lt;code&gt;/etc/resolv.conf&lt;/code&gt; é…ç½®ï¼Œç¡®ä¿æ²¡æœ‰ &lt;code&gt;nameserver 127.0.0.53&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ä¿®æ”¹ coredns çš„äº²å’Œæ€§å’Œå‡¡äº²å’Œæ€§ç­–ç•¥ï¼Œä»…è°ƒåº¦åˆ°é Ubuntu èŠ‚ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºå¦‚ä¸Šå››ç§æ–¹æ¡ˆï¼Œå‰ä¸¤è€…é€‰æ‹©å¯¹ CoreDNS çš„é…ç½®è¿›è¡Œç›´æ¥å¹²é¢„ï¼Œæ¥æ•´ä½“å½±å“ CoreDNS çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è€Œåä¸¤ç§æ–¹æ¡ˆåˆ™æ˜¯é€šè¿‡äººå·¥å¹²é¢„é›†ç¾¤èŠ‚ç‚¹å’Œé»˜è®¤çš„è°ƒåº¦è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¯¹äº K8S é›†ç¾¤è€Œè¨€ï¼Œå¦‚æœä¸è®¾ç½®ç‰¹æ®Šçš„è§„åˆ™(æ¯”å¦‚labelï¼Œaffinityï¼ŒnodeSelector)å»å½±å“é»˜è®¤çš„è°ƒåº¦ç­–ç•¥ï¼Œé»˜è®¤æ˜¯æ— æ³•æ ¹æ® OS ä¿¡æ¯å»å½±å“è°ƒåº¦çš„ï¼Œå¹¶ä¸”å¯¹äºå¼€æ”¾çš„ k8s é›†ç¾¤ï¼Œä¹Ÿä¸åº”è¯¥ç¦æ­¢ç”¨æˆ·ä½¿ç”¨ Ubuntu æ“ä½œç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¸ºäº†æœ€å°åŒ–çš„æ”¹åŠ¨å¹¶ä¸”èƒ½å¤Ÿæœ€å¤§é™åº¦æ”¯æ’‘ç°æœ‰éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ–¹æ¡ˆ2è¿›è¡Œé—®é¢˜çš„å…œåº•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹é…ç½®æ¥å¯¹&lt;code&gt;HINFO&lt;/code&gt; çš„è¯·æ±‚ï¼Œå¼ºåˆ¶è¿”å› &lt;code&gt;NXDOMAIN&lt;/code&gt; ï¼Œå¦‚æ­¤ä¸€æ¥ä¹Ÿå°±ä¸å›ç›´æ¥äº§ç”Ÿ &lt;code&gt;HINFO&lt;/code&gt; çš„å¼‚å¸¸è¯·æ±‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$  kubectl  edit -n kube-system cm coredns
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .:53 {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            template ANY HINFO . {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                rcode NXDOMAIN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯¹ HINFO ç±»å‹æŸ¥è¯¢åšäº†å¹²é¢„åï¼Œå¯ä»¥æŸ¥çœ‹å…·ä½“çš„è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ dig  +short  @172.16.0.80 kubernetes.default.svc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ dig  +short  @172.16.0.80  kubernetes.default.svc HINFO
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯¹åº”coredns pod çš„æŸ¥è¯¢æ—¥å¿—å¦‚ä¸‹:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2022-03-05T06:08:39.299Z [INFO] 10.0.1.80:45430 - 60055 &amp;#39;A IN kubernetes.default.svc. udp 63 false 4096&amp;#39; NXDOMAIN qr,aa,rd,ra 115 0.000093025s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2022-03-05T06:09:03.685Z [INFO] 10.0.1.80:35006 - 61274 &amp;#39;HINFO IN kubernetes.default.svc. udp 63 false 4096&amp;#39; NXDOMAIN qr,aa,rd 40 0.000109837s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿç®—æ˜¯æ‰¾åˆ°äº†é—®é¢˜çš„æ ¹å› ï¼Œå¹¶ä¸”ç»™å‡ºäº†æ¯”è¾ƒåˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œä¹Ÿå­¦ä¹ åˆ°äº† CoreDNS è¿™ç§æ¯”è¾ƒä¼˜ç§€çš„å¼€æºè½¯ä»¶çš„è®¾è®¡ï¼Œé’ˆå¯¹äºä¸€äº›é£é™©æ£€æµ‹çš„è§„é¿å’Œå’Œé»˜è®¤è¡Œä¸ºï¼Œèƒ½å¤Ÿå¿æˆ‘ä»¬æ›´æ—©çš„å‘ç°ç³»ç»Ÿçš„é£é™©å’Œé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>ä»é›¶æ„å»º SRE ä½“ç³»</title>
      <link>https://bgbiao.top/post/%E4%BB%8E0%E6%9E%84%E5%BB%BAsre%E4%BD%93%E7%B3%BB/</link>
      <pubDate>Sun, 12 Dec 2021 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/%E4%BB%8E0%E6%9E%84%E5%BB%BAsre%E4%BD%93%E7%B3%BB/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;å‰è¨€: è¯¥æ–‡ç« ä¸º19å¹´ Ernese Norelus å‘è¡¨åœ¨ &lt;a href=&#34;https://medium.com/&#34;&gt;medium&lt;/a&gt; ä¸Šçš„&lt;a href=&#34;https://medium.com/ibm-garage/building-sre-from-scratch-485e23985bbd&#34;&gt;Building SRE from Scratch&lt;/a&gt;ï¼Œç°åœ¨çœ‹æ¥ä¹Ÿä¾ç„¶ä¸ä¼šè§‰å¾—è¿‡æ—¶ï¼Œä¸€èµ·å†æ¥å›é¡¾ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆä»ä¸€å¼ æ„å»º SRE ä½“ç³»å›¾å¼€å§‹ï¼Œä»ä¸ºä»€ä¹ˆæ„å»º SREã€SRE ç›®æ ‡ä»¥åŠå¦‚ä½•å®ç° SREã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxaz5duqxij30q90ksmzz.jpg&#34; alt=&#34;ä»0å¼€å§‹æ„å»ºSRE&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨äº‘æ—¶ä»£ï¼Œå®¢æˆ·ä½“éªŒæ˜¯ä»»ä½•ä¸¥è‚ƒä¼ä¸šçš„æ–°å£å·ï¼Œå³ä½¿å‘½å®£è¨€ã€‚å®¢æˆ·ä½“éªŒã€å¯ç”¨æ€§å’Œå¯è®¿é—®æ€§æ˜¯åœ¨è¾¹ç¼˜ç¡®å®šçš„ï¼Œç½‘ç«™é¢„è®¡å§‹ç»ˆå¯ç”¨ [24/7/365]ã€‚æ¯•ç«Ÿå¯¹ç”¨æˆ·æ¥è¯´ï¼Œå¯é æ€§æ‰æ˜¯æœ€é‡è¦çš„ï¼›æœªä½¿ç”¨çš„åº”ç”¨ç¨‹åºå¯¹ç”¨æˆ·å’Œä¼ä¸šæ²¡æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä»Šï¼Œæ¯å®¶å…¬å¸éƒ½æ˜¯æ¨åŠ¨å˜é©çš„æŠ€æœ¯å…¬å¸ã€‚å…¬å¸å›´ç»•äº‘åŠŸèƒ½æ„å»ºå…¶æ•´ä¸ªä¸šåŠ¡æˆ˜ç•¥ã€‚è¿™å¯¹ä»–ä»¬æ¥è¯´æ˜¯ä¸€é¡¹é‡å¤§çš„è¿è¥æŒ‘æˆ˜ã€‚ä»»ä½•æ€§èƒ½å’Œå®¢æˆ·ä½“éªŒçš„ä¸‹é™éƒ½å°†å¯¼è‡´é‡‘é’±ã€æ”¶å…¥å’Œæœºä¼šçš„æŸå¤±ï¼Œå¹¶å¯¼è‡´ä¼ ç»Ÿè¿è¥ [è¿ä½œæ–¹å¼] æ— æ³•åº”å¯¹å¯è§‚å¯Ÿæ€§ï¼ˆåŒ…æ‹¬å®æ—¶ç›‘æ§å’Œå‘Šè­¦ï¼‰çš„å¤§é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå­˜åœ¨ç«™ç‚¹å¯é æ€§å·¥ç¨‹ (SRE)ï¼Ÿæ•æ·è¿åŠ¨ä¿ƒè¿›äº†è·¨èŒèƒ½å›¢é˜Ÿä¹‹é—´åä½œåŠªåŠ›çš„é‡è¦æ€§ï¼Œè¿™å‚¬ç”Ÿäº† DevOpsã€‚DevOps æ˜¯å…³äºæ·±å…¥ç ”ç©¶æ‚¨è‡ªå·±ç»„ç»‡çš„å…·ä½“é—®é¢˜å’ŒæŒ‘æˆ˜ã€‚å®ƒè¿˜å…³ä¹å®ç°é€Ÿåº¦ã€æ•ˆç‡å’Œè´¨é‡ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒæ˜¯ä¸€ç§æ–‡åŒ–ã€ä¸€ç§è¿åŠ¨ã€ä¸€ç§ä»·å€¼è§‚ã€åŸåˆ™ã€æ–¹æ³•å’Œå®è·µï¼Œä»¥å®ç°ç»„ç»‡çš„é¢„æœŸç»“æœã€‚è¿™ç§é€Ÿåº¦é€ æˆäº†ä¸€äº›ä¸ç¨³å®šæ€§ï¼Œå¼€å‘äººå‘˜çš„è¡ŒåŠ¨é€Ÿåº¦æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½å¿«ï¼Œè¿™ç»™è¿è¥å›¢é˜Ÿå¸¦æ¥äº†æŒ‘æˆ˜ã€‚IT è¿è¥å›¢é˜Ÿæ²¡æœ‰èƒ½åŠ›åº”å¯¹è¿™æ ·çš„é€Ÿåº¦ï¼Œä¸ºä»–ä»¬å¸¦æ¥äº†ä¸¥é‡çš„ç“¶é¢ˆå’Œç§¯å‹ï¼Œæ— æ³•åº”å¯¹è¿™ç§é€Ÿåº¦ï¼Œå¯¼è‡´ç”Ÿäº§ä¸­ä¸å—æ§åˆ¶çš„ä¸ç¨³å®šï¼Œç³»ç»Ÿå˜å¾—ä¸å¯é ã€‚å› æ­¤ï¼Œéœ€è¦ç”± Google åˆ›å»ºçš„ SREï¼šâ€œä¸€ç»„å¯ä»¥å°†å·¥ç¨‹ä¸“ä¸šçŸ¥è¯†åº”ç”¨äºè¿è¥é—®é¢˜çš„å¼€å‘äººå‘˜ã€‚â€&lt;/p&gt;
&lt;p&gt;SRE æ˜¯ä¸€ç§è§„èŒƒçš„ DevOps æ–¹å¼ã€‚å®ƒæ˜¯ç³»ç»Ÿç®¡ç†ä»»åŠ¡çš„ä¸€ç§æ€ç»´æ–¹å¼ï¼Œå®ƒä¾§é‡äºé€šè¿‡ç¼©çŸ­äº¤ä»˜å’Œäº‹ä»¶ç®¡ç†ç”Ÿå‘½å‘¨æœŸæ—¶é—´å¹¶å‡å°‘å·¥ä½œé‡æ¥æ”¯æŒå¼€å‘äººå‘˜å’Œè¿è¥äººå‘˜æ¥è¿è¥æœåŠ¡çš„åŸåˆ™ã€‚SRE å›¢é˜Ÿçš„æ—¥å¸¸ä»»åŠ¡åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨æ€§&lt;/li&gt;
&lt;li&gt;å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;æ€§èƒ½&lt;/li&gt;
&lt;li&gt;æ•ˆç‡&lt;/li&gt;
&lt;li&gt;å˜æ›´ç®¡ç†&lt;/li&gt;
&lt;li&gt;ç›‘æ§å’Œå‘Šè­¦&lt;/li&gt;
&lt;li&gt;ç´§æ€¥å“åº”&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å“åº”&lt;/li&gt;
&lt;li&gt;å‡†å¤‡&lt;/li&gt;
&lt;li&gt;å®¹é‡è§„åˆ’&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯ç«™ç‚¹å¯é æ€§å·¥ç¨‹-sre&#34;&gt;ä»€ä¹ˆæ˜¯ç«™ç‚¹å¯é æ€§å·¥ç¨‹ (SRE)&lt;/h3&gt;
&lt;p&gt;SRE å›¢é˜Ÿçš„è§’è‰²æ˜¯è¿è¥ç”Ÿäº§ç¯å¢ƒä¸­çš„â€œå…³é”®ä»»åŠ¡ç³»ç»Ÿâ€çš„åº”ç”¨ç¨‹åºï¼Œå¹¶åšä»»ä½•å¿…è¦çš„äº‹æƒ…æ¥ä¿æŒç«™ç‚¹æ­£å¸¸è¿è¡Œã€‚å®ƒé€šå¸¸è¢«å®šä¹‰ä¸ºä»äº‹è¿ç»´å·¥ä½œçš„è½¯ä»¶å·¥ç¨‹å¸ˆã€‚SRE å›¢é˜Ÿæœ‰è´£ä»»ä¸ºå…¶ç³»ç»Ÿç»´æŠ¤å’Œå»ºç«‹æœåŠ¡æ°´å¹³æŒ‡æ ‡ ( SLI )ã€ç›®æ ‡ ( SLO )ã€åè®® ( SLA ) å’Œ é”™è¯¯é¢„ç®—ï¼Œå¹¶ç¡®ä¿æ»¡è¶³è¿™äº›è¦æ±‚ã€‚ä»–ä»¬éœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´è¿›è¡Œè¿è¥å·¥ä½œï¼ˆç¡®ä¿ç³»ç»ŸæŒ‰é¢„æœŸå·¥ä½œï¼‰å¹¶æ”¹è¿›ä»–ä»¬ç®¡ç†çš„ç³»ç»Ÿã€‚SRE ä¸“æ³¨äºç¼–å†™è½¯ä»¶æ¥è‡ªåŠ¨åŒ–æµç¨‹å¹¶å‡å°‘å·¥ä½œé‡. è¾›è‹¦è¢«è®¤ä¸ºæ˜¯ç³»ç»Ÿä¸Šçš„æ‰‹åŠ¨æ´»åŠ¨ï¼Œä»»ä½•å½“å‰æœªè‡ªåŠ¨åŒ–çš„æ´»åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;SRE çš„æˆ˜ç•¥ç›®æ ‡æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿éƒ¨ç½²æ›´å®¹æ˜“&lt;/li&gt;
&lt;li&gt;æé«˜æˆ–ç»´æŒæ­£å¸¸è¿è¡Œæ—¶é—´&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹åº”ç”¨æ€§èƒ½å»å»ºè®¾å¯è§†åŒ–èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;è®¾ç½® SLI å’Œ SLO ä»¥åŠé”™è¯¯é¢„ç®—&lt;/li&gt;
&lt;li&gt;é€šè¿‡å‡è®¾è®¡ç®—é£é™©æ¥æé«˜æ•ˆç‡&lt;/li&gt;
&lt;li&gt;æ¶ˆé™¤è¾›è‹¦çš„å·¥ä½œ&lt;/li&gt;
&lt;li&gt;é™ä½æ•…éšœæˆæœ¬ä»¥ç¼©çŸ­æ–°åŠŸèƒ½çš„å‘¨æœŸæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¸¦æœ‰åæœçš„-sli-å’Œ-slo&#34;&gt;å¸¦æœ‰åæœçš„ SLI å’Œ SLO&lt;/h3&gt;
&lt;p&gt;æœåŠ¡æ°´å¹³ç›®æ ‡ (SLO) åªæ˜¯ SRE å›¢é˜Ÿä¸äº§å“æ‰€æœ‰è€…æˆ–ä¸šåŠ¡çº¿ (LOB) ä¹‹é—´çš„åè®®ã€‚æŒ‡æ ‡åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå›¢é˜Ÿç®¡ç†çš„ç³»ç»Ÿçš„æ€§è´¨ã€‚æœåŠ¡æ°´å¹³æŒ‡æ ‡ (SLI) æ˜¯ä¸ºç³»ç»Ÿå®šä¹‰çš„å®šé‡åº¦é‡ï¼Œä¹Ÿç§°ä¸º â€œæˆ‘ä»¬æ­£åœ¨åº¦é‡çš„å†…å®¹â€ã€‚â€ æŒ‡æ ‡å–å†³äºæ‰€ç®¡ç†çš„ç³»ç»Ÿã€‚å¯¹äºå…¸å‹çš„ Web åº”ç”¨ç¨‹åºï¼Œè¿™äº›æŒ‡æ ‡å¯èƒ½æ˜¯å¯ç”¨æ€§ã€è¯·æ±‚å»¶è¿Ÿæˆ–é”™è¯¯ç‡ã€‚ä½†æ˜¯ï¼Œä¾‹å¦‚ï¼ŒHyperledger Fabric åŒºå—é“¾åº”ç”¨ç¨‹åºå¯èƒ½ä¼šä½¿ç”¨æ¯ç§’èƒŒä¹¦å’Œåˆ†ç±»å¸æäº¤ç‡æ¥è¡¡é‡ç½‘ç»œçš„ååé‡ã€‚&lt;/p&gt;
&lt;p&gt;SRE å›¢é˜Ÿæœ€ç»ˆå°†ç®¡ç†å¤šä¸ªç³»ç»Ÿã€‚è·¨å„ç§åº”ç”¨ç¨‹åºå®šä¹‰ä¸€ç»„æ ‡å‡†çš„ SLI å°†å¸®åŠ©å›¢é˜Ÿæ ‡å‡†åŒ–æ•´ä¸ªå †æ ˆçš„ç›‘æ§ã€æ—¥å¿—è®°å½•å’Œè‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;SLO æ˜¯ç³»ç»Ÿåº”è¯¥è¿è¡Œçš„ç›®æ ‡å€¼æˆ–èŒƒå›´ â€œå®ƒåº”è¯¥æœ‰å¤šå¥½ã€‚â€ è¿™äº›æ˜¯ä¹‹å‰å®šä¹‰çš„ SLI çš„é¢„æœŸæ“ä½œå€¼ã€‚ä¾‹å¦‚ï¼ŒåŒºå—é“¾ç½‘ç»œå¿…é¡»ç»´æŒ 50 åˆ° 100 ä¸ªäº¤æ˜“æäº¤ç‡çš„äº¤æ˜“ååé‡ï¼Œç«¯åˆ°ç«¯å»¶è¿Ÿå°äº 5 ç§’ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½å­˜åœ¨è¿‡åº¦è®¾è®¡ SLI å’Œ SLO çš„å€¾å‘ã€‚ä¸€å¼€å§‹å°±è®©å®ƒä»¬ä¿æŒç®€å•æ˜¯å¾ˆé‡è¦çš„ã€‚éšç€æ‚¨å¯¹ç³»ç»Ÿçš„äº†è§£éšç€æ—¶é—´çš„æ¨ç§»è€Œå¢é•¿ï¼Œæ‚¨å¯ä»¥è®¾å®šæ›´ä¸¥æ ¼çš„ç›®æ ‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;sla-å…³é”®ä¸šåŠ¡ä»·å€¼&#34;&gt;SLA å…³é”®ä¸šåŠ¡ä»·å€¼&lt;/h3&gt;
&lt;p&gt;å½“å®¢æˆ·å¯¹æ‰€æä¾›çš„æœåŠ¡ä¸æ»¡æ„ï¼Œæœªèƒ½æŒ‰ç…§ç›¸å…³åè®®äº¤ä»˜æ—¶ï¼ŒæœåŠ¡æ°´å¹³åè®® ( SLA ) å°±ä¼šå‘æŒ¥ä½œç”¨ï¼›å®ƒå¯èƒ½æ˜¯ä¸€ä¸ªç³»ç»Ÿçš„å¯é æ€§ã€‚SLA æ˜¯äº§å“ä¸å…¶æœ€ç»ˆç”¨æˆ·ä¹‹é—´çš„åè®®ï¼Œæ˜¯ ä¸å®¢æˆ·å°±æœåŠ¡å¯é æ€§ç­¾è®¢çš„åˆåŒï¼Œç®€å•è¡¨è¿°ä¸º â€œ SLA = SLO + åæœã€‚â€ SRE å›¢é˜Ÿå¯èƒ½ä¸å‚ä¸å®šä¹‰ SLA çš„è¿‡ç¨‹ã€‚ä½†æ˜¯ï¼Œä»–ä»¬éœ€è¦ç¡®ä¿æ»¡è¶³ SLOã€‚&lt;/p&gt;
&lt;p&gt;SLA é€šå¸¸åŒ…å«ä¸€æ®µæ—¶é—´å†…æœåŠ¡æ­£å¸¸è¿è¡Œæ—¶é—´çš„åˆ†é’Ÿæ•°è®¡ç®—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxaze5djp4j30qt04zmya.jpg&#34; alt=&#34;ä»¥9çš„æ•°é‡æ¥è¡¨ç¤ºçš„SLAæŒ‡æ ‡&#34;&gt;&lt;/p&gt;
&lt;p&gt;99.9% æ˜¯ä¸‰ä¸ª 9 çš„æ­£å¸¸è¿è¡Œæ—¶é—´å…è®¸æ¯å¤© 100 ä¸‡ 44 ç§’çš„åœæœºæ—¶é—´ã€‚è¯¥åœæœºæ—¶é—´åˆ†åˆ«ä¸ºæ¯å‘¨ã€æ¯æœˆå’Œæ¯å¹´ 10.1mã€43.8m å’Œ 8.78 å°æ—¶çš„åœæœºæ—¶é—´ï¼Œå¦‚ä¸Šè¡¨æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒSLA å¯ä»¥ä¿è¯ç”µä¿¡çº¿è·¯çš„æ­£å¸¸è¿è¡Œæ—¶é—´ä¸º 99.9%ï¼›å› æ­¤ï¼ŒæœåŠ¡åªèƒ½å‡å°‘ 0.1% çš„åœæœºæ—¶é—´ï¼Œè¶…è¿‡å®ƒè¢«è§†ä¸ºè¿å SLAï¼Œåæœå°†ä»¥æƒ©ç½šçš„å½¢å¼å‡ºç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‡å°‘å·¥ä½œé‡å¹¶æ§åˆ¶-sre-å›¢é˜Ÿçš„å·¥ä½œé‡&#34;&gt;å‡å°‘å·¥ä½œé‡å¹¶æ§åˆ¶ SRE å›¢é˜Ÿçš„å·¥ä½œé‡&lt;/h3&gt;
&lt;p&gt;SRE å›¢é˜Ÿä¸­æ€»ä¼šå­˜åœ¨ä¸€äº›æ‰‹åŠ¨ã€ä¹å‘³çš„äº‹æƒ…éœ€è¦æ‰§è¡Œã€‚åœ¨æ‚¨çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œæ— è®ºæ‚¨æ˜¯è½¯ä»¶å¼€å‘äººå‘˜è¿˜æ˜¯æ¶æ„å¸ˆï¼Œæ‚¨éƒ½éœ€è¦å®Œæˆè‡ªå·±ä¸å–œæ¬¢çš„ä»»åŠ¡ã€‚è¿™äº›é€šå¸¸æ˜¯æ‰‹åŠ¨çš„ã€æ— èŠçš„å’Œé‡å¤çš„ä»»åŠ¡ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚SRE å›¢é˜Ÿä¹Ÿå¿…é¡»æ‰§è¡Œç±»ä¼¼çš„ä»»åŠ¡ã€‚ç„¶è€Œï¼Œè¿™æ˜¯ SRE å¯ä»¥ä½¿ç”¨ä»–ä»¬çš„å¼€å‘æŠ€èƒ½å¹¶å°½å¯èƒ½æ¶ˆé™¤æ‰‹åŠ¨æµç¨‹çš„ä¸€ä¸ªå®ä¾‹ã€‚è®© SRE èŠ±è´¹å¤šè¾¾ 50% çš„æ—¶é—´æ¥æ”¹è¿›ä»–ä»¬ç®¡ç†çš„ç³»ç»Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„åšæ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯ï¼ŒçœŸæ­£è®© SRE å›¢é˜Ÿèƒ½å¤Ÿæœ‰ä¸€åŠçš„æ—¶é—´æ¥å»æ”¹è¿›ç³»ç»Ÿæˆ–è€…å·¥å…·ï¼Œæ¥æ•´ä½“å‡å°‘è¿™ç§æ‰‹å·¥çš„ã€æ— èŠçš„ã€çç¢çš„å·¥ä½œã€‚å½“ç„¶äº†ï¼Œåœ¨å›½å†…ä¸è®ºæ˜¯ç»„ç»‡æ¶æ„è¿˜æ˜¯äººå‘˜è¦æ±‚ï¼Œéƒ½å¾ˆéš¾èƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é”™è¯¯é¢„ç®—&#34;&gt;é”™è¯¯é¢„ç®—&lt;/h3&gt;
&lt;p&gt;é”™è¯¯é¢„ç®—æ˜¯ SRE å›¢é˜Ÿç”¨æ¥å¹³è¡¡æœåŠ¡å¯é æ€§çš„å·¥å…·ï¼Œè®¡ç®—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¯ç”¨æ€§=ï¼ˆè‰¯å¥½äº‹ä»¶æ•° / äº‹ä»¶æ€»æ•°ï¼‰* 100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é”™è¯¯é¢„ç®—= (100 - å¯ç”¨æ€§) = å¤±è´¥çš„è¯·æ±‚ / (æˆåŠŸçš„è¯·æ±‚ + å¤±è´¥çš„è¯·æ±‚)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é”™è¯¯é¢„ç®—æ˜¯ 100 å‡å»æœåŠ¡çš„ SLOã€‚99.99% çš„ SLO æœåŠ¡æœ‰ 0.01% çš„é”™è¯¯é¢„ç®—ã€‚&lt;/p&gt;
&lt;p&gt;é”™è¯¯é¢„ç®—æ˜¯ SLO çš„å¦ä¸€ä¸ªç¤ºä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªæœåŠ¡éƒ½å—åˆ¶äºå…¶å¸¦æœ‰æƒ©ç½šæ¡æ¬¾çš„ SLAã€‚å®ƒè¡¡é‡æ‚¨æœ‰å¤šå°‘ç©ºé—´æ¥æ»¡è¶³å…¶ä»– SLOã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªæœåŠ¡æ°´å¹³æŒ‡æ ‡ï¼Œå®ƒè¡¨ç¤º 99.99% çš„äº¤æ˜“å¿…é¡»åœ¨ 5 ç§’å†…æäº¤åˆ°è´¦æœ¬ï¼Œé‚£ä¹ˆåªæœ‰ 0.01% çš„äº¤æ˜“å¯ä»¥è¶…è¿‡ 5 ç§’ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç‰ˆæœ¬å‘å¸ƒåçš„ç¾å¥½ä¸€å¤©ï¼Œæ‚¨å¯èƒ½ä¼šæ„è¯†åˆ°ç³»ç»Ÿè¿è¡Œç¼“æ…¢å¹¶çªç„¶è€—å°½æ‰€æœ‰é”™è¯¯é¢„ç®—ã€‚&lt;/p&gt;
&lt;p&gt;è¯·è®°ä½ï¼Œå˜æ›´æ˜¯é€ æˆä¸­æ–­çš„æœ€é‡è¦åŸå› ï¼Œè€Œå‘å¸ƒæ˜¯å˜æ›´çš„é‡è¦æ¥æºã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨ä¸€ç›´è¶…å‡ºé”™è¯¯é¢„ç®—ï¼Œå°†éœ€è¦é‡æ–°å®¡è§†æ‚¨çš„ä¸€äº› SLO å’Œæµç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‚¨æ˜¯å¦åœ¨å•ä¸ªç‰ˆæœ¬ä¸­å¼•å…¥äº†å¤ªå¤šæ›´æ”¹ï¼Ÿè¯·ä¿æŒç®€å•ï¼Œå¹¶å°†æ‚¨çš„ç‰ˆæœ¬åˆ†æˆæ›´å°çš„å—ã€‚&lt;/li&gt;
&lt;li&gt;SLO æ˜¯å¦è¿‡äºä¸¥æ ¼ï¼Ÿæ‚¨å¯èƒ½éœ€è¦åå•†å¹¶æ”¾å®½ SLOã€‚&lt;/li&gt;
&lt;li&gt;æ‚¨çš„å‘å¸ƒè¿‡ç¨‹ä¸­æ˜¯å¦æœ‰ä»»ä½•å¯¼è‡´é—®é¢˜çš„æ‰‹åŠ¨æ­¥éª¤ï¼Ÿå°è¯•è‡ªåŠ¨åŒ–å’Œæµ‹è¯•ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿçš„æ¶æ„æ˜¯å¦å®¹é”™ï¼Ÿç¡¬ä»¶æ•…éšœã€ç½‘ç»œåŒ…ä¸¢å¤±ã€ä¸Šæ¸¸æˆ–ä¸‹æ¸¸åº”ç”¨ç¨‹åºå¯èƒ½ä¼šå‡ºç°å¼‚å¸¸è¡Œä¸ºã€‚æ‚¨çš„ç³»ç»Ÿæ¶æ„åº”è¯¥èƒ½å¤Ÿå®¹å¿è¿™äº›æ•…éšœã€‚&lt;/li&gt;
&lt;li&gt;å¼€å‘å›¢é˜Ÿæ˜¯å¦è§£å†³äº†æŠ€æœ¯å€ºåŠ¡é—®é¢˜ï¼Ÿåœ¨æ€¥äºå‘å¸ƒæ–°åŠŸèƒ½æ—¶ï¼ŒæŠ€æœ¯å€ºåŠ¡å¸¸å¸¸è¢«å¿½è§†ã€‚&lt;/li&gt;
&lt;li&gt;æ‚¨çš„ç›‘æ§å’Œå‘Šè­¦æ˜¯å¦æ•æ‰åˆ°é¢†å…ˆæŒ‡æ ‡ï¼Ÿä¸æ–­å¢é•¿çš„é˜Ÿåˆ—å¤§å°ã€ç½‘ç»œé€Ÿåº¦å˜æ…¢ã€æ½œåœ¨å®¢æˆ·å˜æ›´è¿‡å¤šç­‰éƒ½å¯èƒ½å¯¼è‡´ä¸‹æ¸¸äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;æ‚¨æ˜¯å¦å®šæœŸç›‘æ§æ—¥å¿—å¹¶ä¿æŒå…¶æ¸…æ´ï¼Ÿæ‚¨çš„æ—¥å¿—ä¸­å¯èƒ½å­˜åœ¨ä¸ä¼šç«‹å³å¯¼è‡´é—®é¢˜çš„è­¦å‘Šã€‚ä½†æ˜¯ï¼Œå†åŠ ä¸Šå…¶ä»–åŸºç¡€è®¾æ–½é—®é¢˜ï¼Œè¿™äº›è­¦å‘Šå¯èƒ½ä¼šå¯¼è‡´é‡å¤§äº‹æ•…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç›‘æ§åˆ†å¸ƒå¼ç³»ç»Ÿçš„å››ä¸ªé»„é‡‘æŒ‡æ ‡&#34;&gt;ç›‘æ§åˆ†å¸ƒå¼ç³»ç»Ÿçš„å››ä¸ªé»„é‡‘æŒ‡æ ‡&lt;/h3&gt;
&lt;p&gt;SRE çš„å››ä¸ªé»„é‡‘æŒ‡æ ‡æ˜¯æ„å»ºæˆåŠŸçš„ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿçš„ä¸€äº›åŸºæœ¬åŸåˆ™å’Œæœ€ä½³å®è·µã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä»¬æ˜¯å¤§å‹ç”Ÿäº§åº”ç”¨ç¨‹åºçš„æœåŠ¡çº§åˆ«ç›®æ ‡ (SLO) çš„å…³é”®éƒ¨åˆ†ã€‚ä»–ä»¬çš„ç›®æ ‡æ˜¯å¸®åŠ©è¯†åˆ«å’Œä¿®å¤æ‚¨ç³»ç»Ÿä¸­çš„ä»»ä½•æ½œåœ¨å¼±ç‚¹ã€‚ä»–ä»¬ä¸»åŠ¨è§£å†³æ‚¨çš„åŸºç¡€è®¾æ–½é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å½“æ‚¨çš„è¿è¥å›¢é˜Ÿéœ€è¦å¿«é€Ÿäº†è§£é—®é¢˜ï¼Œå¹¶éœ€è¦è¿‘ä¹å®æ—¶åœ°è·Ÿè¸ªæ‰€æœ‰æœåŠ¡çš„å»¶è¿Ÿã€æµé‡ã€é”™è¯¯å’Œé¥±å’Œåº¦æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ç®€è¦æè¿°æ¯ä¸ªä¿¡å·ï¼Œç„¶åçœ‹çœ‹å¦‚ä½•åˆ©ç”¨å››ä¸ªå…³é”®æŒ‡æ ‡æ¥ç›‘æ§æ‚¨çš„ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;å»¶è¿Ÿ&lt;/code&gt;ï¼šå»¶è¿Ÿæ˜¯ä¿¡æ¯çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´çš„æ—¶é—´å»¶è¿Ÿï¼Œä»¥æ¯«ç§’ï¼ˆmsï¼‰ä¸ºå•ä½ã€‚å…¶åŸå› é€šå¸¸æ˜¯ç”±äºæ•°æ®åŒ…ä¸¢å¤±ã€ç½‘ç»œæ‹¥å¡å’Œç§°ä¸º â€œæ•°æ®åŒ…å»¶è¿Ÿå·®å¼‚â€ çš„ç½‘ç»œæŠ–åŠ¨ã€‚å»¶è¿Ÿç›´æ¥å½±å“å®¢æˆ·ä½“éªŒï¼Œè½¬åŒ–ä¸ºæˆåŠŸè¯·æ±‚çš„å»¶è¿Ÿå’Œå¤±è´¥è¯·æ±‚çš„å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æµé‡&lt;/code&gt;ï¼šæµé‡æ˜¯ç³»ç»Ÿä¸Šå®Œæˆçš„å·¥ä½œé‡æ‰€å¸¦æ¥çš„å‹åŠ›ã€‚å®ƒé€šè¿‡æ¯ç§’æŸ¥è¯¢æ•° (QPS) æˆ–æ¯ç§’äº‹åŠ¡æ•° (TPS) æ¥è¡¡é‡ã€‚ä¼ä¸šé€šè¿‡æ•°é‡æ¥è¡¡é‡è¿™ä¸€ç‚¹ï¼šå…³é”®ç»©æ•ˆæŒ‡æ ‡ (KPI) æ˜¯åœ¨ç»™å®šæ—¶é—´è®¿é—®ç½‘ç«™çš„äººæ•°ã€‚è¿™æ˜¯ä¸å•†ä¸šä»·å€¼çš„ç›´æ¥å…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;é”™è¯¯&lt;/code&gt;ï¼šé”™è¯¯æ˜¯æ ¹æ®æ•´ä¸ªç³»ç»Ÿä¸­å‘ç”Ÿçš„é”™è¯¯æ¥è¡¡é‡çš„ã€‚ä»€ä¹ˆè¢«è§†ä¸ºæœåŠ¡é”™è¯¯ç‡çš„é‡è¦æŒ‡æ ‡ï¼æœ‰ä¸¤ç±»é”™è¯¯ï¼Œæ˜¾å¼é”™è¯¯ï¼Œä¾‹å¦‚å¤±è´¥çš„ HTTP è¯·æ±‚ï¼ˆä¾‹å¦‚ï¼Œ500 ä¸ªé”™è¯¯ä»£ç ï¼‰ã€‚è€Œä¸€ä¸ªéšå«çš„é”™è¯¯å°†æ˜¯ä¸€ä¸ªæˆåŠŸçš„å“åº”ï¼Œä½†ä¸é”™è¯¯çš„å†…å®¹æˆ–å“åº”æ—¶é—´é•¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;é¥±å’Œåº¦&lt;/code&gt;ï¼šé¥±å’Œåº¦å®šä¹‰äº†æœåŠ¡çš„è¿‡è½½ç¨‹åº¦ã€‚å®ƒè¡¡é‡ç³»ç»Ÿåˆ©ç”¨ç‡ï¼Œå¼ºè°ƒèµ„æºå’ŒæœåŠ¡çš„æ•´ä½“èƒ½åŠ›ã€‚è¿™é€šå¸¸é€‚ç”¨äº CPU ä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜å®¹é‡å’Œæ¯ç§’æ“ä½œæ•°ç­‰èµ„æºã€‚ä»ªè¡¨æ¿å’Œç›‘æ§å‘Šè­¦æ˜¯å¸®åŠ©æ‚¨å¯†åˆ‡å…³æ³¨è¿™äº›èµ„æºå¹¶å¸®åŠ©æ‚¨åœ¨å®¹é‡å˜å¾—é¥±å’Œä¹‹å‰ä¸»åŠ¨è°ƒæ•´å®¹é‡çš„ç†æƒ³å·¥å…·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;åˆ©ç”¨ç‡&lt;/code&gt;ï¼šè™½ç„¶ä¸æ˜¯ â€œå››å¤§é‡‘ä¿¡å·â€ çš„ä¸€éƒ¨åˆ†ï¼Œä½†å€¼å¾—ä¸€æï¼›åˆ©ç”¨ç‡å‘Šè¯‰èµ„æºæˆ–ç³»ç»Ÿæœ‰å¤šå¿™ã€‚å®ƒä»¥ %ï¼ˆç™¾åˆ†æ¯”ï¼‰è¡¨ç¤ºï¼ŒèŒƒå›´ä¸º 0â€“100%ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½åŒæ„è¿™äº›ä¿¡å·å¾ˆé‡è¦ï¼Œå¿…é¡»åŠ ä»¥ç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å¼€å§‹ï¼Ÿä¸ºç®€å•èµ·è§ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªéå¸¸åŸºæœ¬çš„çŸ©é˜µï¼Œé¦–å…ˆè€ƒè™‘éå¸¸åŸºæœ¬å’Œä¼ ç»Ÿçš„èµ„æºï¼Œä¾‹å¦‚ CPUã€ç£ç›˜ã€ç½‘ç»œå’Œ RAMã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxazicftjzj30np04774i.jpg&#34; alt=&#34;åŸºç¡€èµ„æºçš„é»„é‡‘æŒ‡æ ‡&#34;&gt;&lt;/p&gt;
&lt;p&gt;é»„é‡‘æŒ‡æ ‡çš„ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿå‘å‡ºå‘Šè­¦ã€æ’é™¤æ•…éšœä»¥åŠè°ƒæ•´å’Œå®¹é‡è§„åˆ’ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘Šè­¦å¯ä»¥é€šçŸ¥æ‚¨å‡ºç°é—®é¢˜&lt;/li&gt;
&lt;li&gt;æ•…éšœæ’é™¤å¯ä»¥å¸®åŠ©æ‰¾åˆ°å¹¶è§£å†³é—®é¢˜çš„æ ¹æœ¬åŸå› &lt;/li&gt;
&lt;li&gt;è°ƒæ•´å’Œå®¹é‡è§„åˆ’å¯ä»¥å¸®åŠ©éšç€æ—¶é—´çš„æ¨ç§»ä½¿ç”¨æ­£ç¡®çš„æŒ‡æ ‡ã€æ—¥å¿—å’Œä»ç›‘æ§ç³»ç»Ÿæ”¶é›†çš„è·Ÿè¸ªæ¥æ”¹å–„é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxazjf5dj9j30ht05z74f.jpg&#34; alt=&#34;å»¶è¿Ÿå’Œæµé‡çš„é»„é‡‘æŒ‡æ ‡&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxazjnq2gij30hv05w0sz.jpg&#34; alt=&#34;é”™è¯¯å’Œé¥±å’Œåº¦çš„é»„é‡‘æŒ‡æ ‡&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;é£é™©åˆ†æ&#34;&gt;é£é™©åˆ†æ&lt;/h3&gt;
&lt;p&gt;é£é™©åˆ†æå®šä¹‰å¦‚ä¸‹ï¼šå¯èƒ½å¯¼è‡´è¿å SLO çš„é¡¹ç›®åˆ—è¡¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TDD: æ£€æµ‹æ—¶é—´(time-to-detect)&lt;/li&gt;
&lt;li&gt;TTR: ä¿®å¤æ—¶é—´(time-to-resolve)&lt;/li&gt;
&lt;li&gt;Freq/Yr: æ¯å¹´çš„é”™è¯¯é¢‘ç‡(frequency of error per year)&lt;/li&gt;
&lt;li&gt;Users: å—å½±å“çš„ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;Bad/Yr: æ¯å¹´æœ‰å¼‚å¸¸çš„åˆ†é’Ÿæ•°ï¼Œç›¸å½“äºé”™è¯¯é¢„ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;SRE é€šè¿‡ä½¿ç”¨é”™è¯¯é¢„ç®—æ¥æ§åˆ¶å¯æ¥å—çš„é£é™©çº§åˆ«å’Œé£é™©å¹¶åšå‡ºæ˜æ™ºçš„å†³ç­–ï¼Œä»è€Œä»¥å—æ§æ–¹å¼æ¥å—é£é™©å…³äºä½•æ—¶åº”ç»“åˆ SLI å’Œ SLO è¿›è¡Œæ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦ï¼ŒSRE å›¢é˜Ÿå¯ä»¥æ§åˆ¶å‘å¸ƒå‘¨æœŸã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Risk = TTD * TTR * (Freq /Yr) * (% of users)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;If TTD = 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Risk = TTR * (Freq /Yr) * (% of users)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxazoxk2uqj30lu05pmy0.jpg&#34; alt=&#34;é£é™©åˆ†æçš„åº¦é‡&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç›‘æ§å’Œå‘Šè­¦&#34;&gt;ç›‘æ§å’Œå‘Šè­¦&lt;/h3&gt;
&lt;p&gt;ç›‘æ§æ˜¯è§‚å¯Ÿç³»ç»Ÿè¿è¡Œæ–¹å¼çš„ä¸€ç§å¥½æ–¹æ³•ï¼Œå‘Šè­¦æ˜¯ç³»ç»Ÿå´©æºƒæˆ–å³å°†å´©æºƒæ—¶å¯ä»¥è§¦å‘çš„äº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼ŒSRE å›¢é˜Ÿå¿…é¡»æ„å»ºå¯é ä¸”æœ‰æ„ä¹‰çš„ç›‘æ§ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›å·¥å…·æ¥æ„å»ºè‰¯å¥½çš„ç›‘æ§ç³»ç»Ÿã€‚Prometheus æ˜¯ä¸€ä¸ªå¼€æºåº”ç”¨ç¨‹åºï¼Œç”¨äºäº‹ä»¶ç›‘æ§å’Œå‘Šè­¦ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒåœ¨ä½¿ç”¨ HTTP æ‹‰æ¨¡å‹æ„å»ºçš„æ—¶é—´åºåˆ—æ•°æ®åº“ä¸­è®°å½•å®æ—¶æŒ‡æ ‡ã€‚ä¾‹å¦‚ï¼ŒPrometheus å¯ä»¥é…ç½®ä¸ºä» Hyperledger Fabric åŒºå—é“¾èŠ‚ç‚¹æå–æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxazq8p9wxj30av09n0t6.jpg&#34; alt=&#34;ç›‘æ§å’Œå‘Šè­¦&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‚¨å¯ä»¥é…ç½® Grafana æ¥æ„å»ºå¯è§†åŒ–å’Œä»ªè¡¨æ¿æ¥æŸ¥è¯¢ Prometheusã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxazqwwq2zj30eq0aajs0.jpg&#34; alt=&#34;ä½¿ç”¨å››ä¸ªé»„é‡‘æŒ‡æ ‡æ¥ç›‘æ§ä¸€ä¸ªæœåŠ¡çš„ Grafana dashboard &#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¿ƒè¿›äº‹ååˆ†æ&#34;&gt;ä¿ƒè¿›äº‹ååˆ†æ&lt;/h3&gt;
&lt;p&gt;å½“æ‚¨åœ¨ç»„ç»‡ä¸­æ„å»º SRE è§’è‰²æ—¶ï¼Œä¸€ä¸ªé‡è¦ä½†ç»å¸¸è¢«é—å¿˜çš„æ–¹é¢æ˜¯äº‹ååˆ†æï¼Œâ€œäº‹ååˆ†ææ„å‘³ç€æ— å¯æŒ‡è´£â€ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå¯ä»¥è¢«å®šä¹‰ä¸ºä¸€ä¸ªç»„ç»‡ä»å®ƒæ‰€çŠ¯çš„é”™è¯¯ä¸­å¸å–æ•™è®­çš„æœºä¼šã€‚æ•…éšœè§£å†³ååº”å°½å¿«è¿›è¡Œäº‹ååˆ†æä»¥åŠå¤ç›˜ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¤æ‚çš„ä¼ä¸š IT ç¯å¢ƒä¸­ï¼Œç»„ä»¶å’Œåº”ç”¨ç¨‹åºæœ€ç»ˆä¼šå¤±è´¥ï¼Œè¿™äº›å¤±è´¥å¯èƒ½æ˜¯ç”±äºéƒ¨ç½²é”™è¯¯ï¼Œæœ€è¿‘ç‰ˆæœ¬ä¸­å¼•å…¥çš„è½¯ä»¶bug æˆ– ä»…ä»…æ˜¯ç¡¬ä»¶æ•…éšœã€‚&lt;/p&gt;
&lt;p&gt;å°†äº‹ä»¶çš„æ ¹æœ¬åŸå› å’ŒçŸ­é•¿æœŸä¿®å¤æ–¹æ¡ˆä¸€èµ·å½’æ¡£ï¼Œå¹¶åœ¨å¼€å‘å’ŒSREå›¢é˜Ÿä¸­è¿›è¡Œä¼ æ’­ï¼Œå¯¹äºçŸ¥è¯†åœ¨ä¼ä¸šçš„ä¼ æ‰¿æ˜¾å¾—å¾ˆé‡è¦ã€‚æ•…éšœçš„å‘ç°å¯ä»¥ç”¨ä½œå…¶ä»–ç³»ç»Ÿçš„é¢„é˜²æ€§ä¿®å¤ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæœªæ¥ç±»ä¼¼äº‹ä»¶çš„å‚è€ƒç‚¹ã€‚æ—¶å€™åˆ†æå¦‚æœåšçš„å¥½ï¼Œè¿™äº›åˆ†æåº”è¯¥å¾ˆå®¹æ˜“è®¿é—®ï¼Œå¹¶ä¸”å¯ä¿ç•™ä¸ºå°†æ¥è®¿é—®çš„å­˜å‚¨åº“ï¼Œç”¨äºå»ºè®¾å†…éƒ¨çŸ¥è¯†åº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•è·å–ä¸€ä¸ªå¯é çš„æœåŠ¡&#34;&gt;å¦‚ä½•è·å–ä¸€ä¸ªå¯é çš„æœåŠ¡ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;SRE å›¢é˜Ÿçš„è§’è‰²æ˜¯è¿è¥åº”ç”¨ç¨‹åºå¹¶é€šè¿‡æ‰§è¡Œå¿…è¦çš„æ“ä½œæ¥ä¿æŒç³»ç»Ÿæ­£å¸¸è¿è¡Œã€‚ä»¥ä¸‹æ˜¯ SRE åœ¨å„ä¸ªé˜¶æ®µæ‰§è¡Œæ—¥å¸¸æ´»åŠ¨çš„ä¸€äº›ç­–ç•¥å’Œå·¥å…·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;é˜¶æ®µ1: Development&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµæ°´çº¿(Pipelining)&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å’Œå®¹é‡è€ƒé‡(load and scale)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;é˜¶æ®µ2: Pilot&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›‘æ§(Monitoring)&lt;/li&gt;
&lt;li&gt;è½®å€¼å’Œæ— æŒ‡è´£çš„æ—¶å€™åˆ†æ(On-call + blameless postmortems)&lt;/li&gt;
&lt;li&gt;èšåˆå’Œå¯æ£€ç´¢çš„æ—¥å¿—ç³»ç»Ÿ(Consolidated + searchable logging)&lt;/li&gt;
&lt;li&gt;å’Œäº§å“è´Ÿè´£äººå®šæœŸå®¡æŸ¥ SLI/SLO&lt;/li&gt;
&lt;li&gt;åŸºç¡€è®¾æ–½å³ä»£ç (Infrastructure as code)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;é˜¶æ®µ3: Production&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç°åº¦éƒ¨ç½²å’Œè‡ªåŠ¨å›æ»š (Canary deployment + automated rollbacks)&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å’Œæ‰©å±•æ‰§è¡Œ (Load and scale implementation)&lt;/li&gt;
&lt;li&gt;åº”ç”¨æ€§èƒ½ç›‘æ§ (APM)&lt;/li&gt;
&lt;li&gt;æ··æ²Œå¼•æ“ (Chaos engineering)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h3&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¯é è¿è¡Œæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡åšæ–‡è¯•å›¾æ¶µç›–å»ºç«‹æˆåŠŸçš„ SRE å›¢é˜Ÿæ‰€éœ€çš„åŸºæœ¬æ¦‚å¿µå’ŒæŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒè®¨è®ºäº†å¦‚ä½•é€šè¿‡æ”¹è¿›çš„æŒ‡æ ‡ã€æ—¥å¿—ã€è·Ÿè¸ªå’Œä»ªè¡¨æ¿å…³æ³¨å¯è§‚å¯Ÿæ€§æ¥ ä¸»åŠ¨è¯†åˆ«å’Œè¡¥æ•‘äº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ä»€ä¹ˆæ˜¯ SLOã€SLI å’Œ SLAã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£å¦‚ä½•ä½¿ç”¨é”™è¯¯é¢„ç®—å’Œé£é™©åˆ†æç­‰åŸºæœ¬å·¥å…·æ¥æŒ‡å¯¼å¿…è¦çš„å†³ç­–ï¼Œä»¥å¹³è¡¡æ‚¨å¯¹å¯é æ€§çš„æŠ•å…¥ä¸å¯¹åº”ç”¨ç¨‹åºåŠŸèƒ½æˆ–å…¶ä»–ä¸šåŠ¡ä¼˜å…ˆçº§çš„æŠ•å…¥ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦ç»†é˜è¿°äº†ç›‘æ§åˆ†å¸ƒå¼ç³»ç»Ÿçš„å››ä¸ªé»„é‡‘æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gxb2kvpootj30ha086t9a.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>ä¸€åˆ†é’Ÿæ„å»ºé«˜å¯ç”¨çš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ-Jaeger</title>
      <link>https://bgbiao.top/post/kubernetes-helm-jaeger/</link>
      <pubDate>Sun, 30 May 2021 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/kubernetes-helm-jaeger/</guid>
      
        <description>&lt;p&gt;å…³é”®æŠ€æœ¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kubernetes.io/&#34;&gt;Kubernetes&lt;/a&gt;: åˆ†å¸ƒå¼çš„å®¹å™¨ç¼–æ’ä¸è°ƒåº¦ç³»ç»Ÿï¼Œå½“å‰å…¬è®¤çš„äº‘åŸç”ŸæŠ€æœ¯åŸºç¡€è®¾æ–½&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jaegertracing.io/&#34;&gt;Jaeger&lt;/a&gt;: å¼€æºç«¯åˆ°ç«¯çš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://helm.sh/&#34;&gt;Helm&lt;/a&gt;: Kubernetes ä¸­çš„åŒ…ç®¡ç†å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h3&gt;
&lt;p&gt;Kubernetes å·²ç»æˆä¸ºæ•´ä¸ªäº‘åŸç”Ÿå…¬è®¤çš„åŸºç¡€è®¾æ–½äº†ï¼Œéšç€äº’è”ç½‘ä¸šåŠ¡çš„å¿«é€Ÿå‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¸šåŠ¡ä¼šåœ¨ä¸€å¼€å§‹å°±é€‰æ‹©ä½¿ç”¨äº‘åŸç”Ÿçš„æ–¹å¼è¿›è¡Œå¼€å‘å’Œäº¤ä»˜ï¼Œè€Œ Helm å°±æ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­ç”¨æ¥äº¤ä»˜ç¯å¢ƒçš„å·¥å…·ï¼Œå°±å¥½æ¯”åœ¨è¿‡å»ï¼Œæˆ‘ä»¬ä¼šå°†å„ä¸ªä¸šåŠ¡æ‰“åŒ…æˆ tar åŒ…æˆ–è€… RPM åŒ…ï¼Œç„¶åäº¤ä»˜åˆ°ä¸åŒç¯å¢ƒè¿›è¡Œéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;è€Œäº‘åŸç”Ÿåº”ç”¨å¤©ç„¶çš„åˆ†å¸ƒå¼å’Œå¾®æœåŠ¡ç‰¹æ€§ä¼šä½¿å¾—æˆ‘ä»¬åœ¨ä¸šåŠ¡è¿è¡Œè¿‡ç¨‹ä¸­å¾ˆéš¾æ´å¯Ÿåˆ°ä¸šåŠ¡é—®é¢˜ï¼Œå¯¹äº SRE æ¥è®²ï¼Œå°±æ— ä»è°ˆèµ·å¯ç”¨æ€§å’Œç¨³å®šæ€§é—®é¢˜äº†ã€‚å› æ­¤ï¼Œå¯¹äºäº‘åŸç”Ÿç³»ç»Ÿè€Œè¨€ï¼Œä¸€ä¸ªå¯é çš„åˆ†å¸ƒå¼åº”ç”¨ç›‘æ§ä»¥åŠé“¾è·¯è¿½è¸ªç³»ç»Ÿå°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œç±»ä¼¼çš„åˆ†å¸ƒå¼åº”ç”¨ç›‘æ§å’Œè¿½è¸ªç³»ç»Ÿä¹Ÿæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ &lt;a href=&#34;http://skywalking.apache.org/&#34;&gt;SkyWaling&lt;/a&gt;ã€&lt;a href=&#34;https://zipkin.io/&#34;&gt;Zipkin&lt;/a&gt;ã€&lt;a href=&#34;https://github.com/dianping/cat&#34;&gt;Cat&lt;/a&gt;ã€&lt;a href=&#34;https://github.com/pinpoint-apm/pinpoint&#34;&gt;Pinpoint&lt;/a&gt; ã€‚&lt;/p&gt;
&lt;p&gt;è€Œå·¥ä½œä¸­ä½¿ç”¨åˆ°äº† Jaeger ä»¥åŠå¯¹ Golang è¯­è¨€ç›¸å¯¹è€Œè¨€æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä»è€Œæœ‰äº†æœ¬ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ€æœ¯ç‚¹ä»‹ç»&#34;&gt;æŠ€æœ¯ç‚¹ä»‹ç»&lt;/h3&gt;
&lt;p&gt;å¯¹äº Kubernetes è€Œè¨€ï¼Œä¸ç”¨å¤šè¯´ï¼Œæƒ³å¿…æŠ€æœ¯åŒå­¦åº”è¯¥éƒ½çŸ¥é“äº†ï¼Œä¸‹é¢ä¸»è¦ä»‹ç» Helm å’Œ Jaeger ï¼Œæ¯•ç«Ÿè¿™ä¿©æ‰æ˜¯å¿«é€Ÿæ„å»ºé«˜å¯ç”¨çš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿçš„å…³é”®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Helm&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Helm ä¸ºå›¢é˜Ÿæä¾›äº†åœ¨ Kubernetes å†…éƒ¨åˆ›å»ºã€å®‰è£…å’Œç®¡ç†åº”ç”¨ç¨‹åºæ—¶éœ€è¦åä½œçš„å·¥å…·ï¼Œæœ‰ç‚¹ç±»ä¼¼äº Ubuntu ä¸­çš„ APT æˆ– CentOS ä¸­çš„ YUM&lt;/p&gt;
&lt;p&gt;å¯¹äºæ“ä½œè€…è€Œè¨€ï¼Œä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥æ‰¾è¦å®‰è£…å’Œä½¿ç”¨çš„é¢„æ‰“åŒ…è½¯ä»¶ï¼ˆChartï¼‰&lt;/li&gt;
&lt;li&gt;è½»æ¾åˆ›å»ºå’Œæ‰˜ç®¡è‡ªå·±çš„è½¯ä»¶åŒ…&lt;/li&gt;
&lt;li&gt;å°†è½¯ä»¶åŒ…å®‰è£…åˆ°ä»»ä½• K8s é›†ç¾¤ä¸­&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢é›†ç¾¤ä»¥æŸ¥çœ‹å·²å®‰è£…å’Œæ­£åœ¨è¿è¡Œçš„ç¨‹åºåŒ…&lt;/li&gt;
&lt;li&gt;æ›´æ–°ã€åˆ é™¤ã€å›æ»šæˆ–æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶åŒ…çš„å†å²è®°å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¸å¿ƒç»„ä»¶:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;helm: Helm æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œä¸‹çš„å®¢æˆ·ç«¯å·¥å…·ã€‚ä¸»è¦ç”¨äº Kubernetes åº”ç”¨ç¨‹åº Chart çš„åˆ›å»ºã€æ‰“åŒ…ã€å‘å¸ƒä»¥åŠåˆ›å»ºå’Œç®¡ç†æœ¬åœ°å’Œè¿œç¨‹çš„ Chart ä»“åº“&lt;/li&gt;
&lt;li&gt;Chart: Helm çš„è½¯ä»¶åŒ…ï¼Œé‡‡ç”¨ TAR æ ¼å¼ã€‚ç±»ä¼¼äº APT çš„ DEB åŒ…æˆ–è€… YUM çš„ RPM åŒ…ï¼Œå…¶åŒ…å«äº†ä¸€ç»„å®šä¹‰ Kubernetes èµ„æºç›¸å…³çš„ YAML æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;Repoistory: Helm çš„è½¯ä»¶ä»“åº“ï¼ŒRepository æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œè¯¥æœåŠ¡å™¨ä¿å­˜äº†ä¸€ç³»åˆ—çš„ Chart è½¯ä»¶åŒ…ä»¥ä¾›ç”¨æˆ·ä¸‹è½½ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªè¯¥ Repository çš„ Chart åŒ…çš„æ¸…å•æ–‡ä»¶ä»¥ä¾›æŸ¥è¯¢ã€‚Helm å¯ä»¥åŒæ—¶ç®¡ç†å¤šä¸ªä¸åŒçš„ Repositoryã€‚&lt;/li&gt;
&lt;li&gt;Release: ä½¿ç”¨ helm install å‘½ä»¤åœ¨ Kubernetes é›†ç¾¤ä¸­éƒ¨ç½²çš„ Chart ç§°ä¸º Releaseã€‚å¯ä»¥ç†è§£ä¸º Helm ä½¿ç”¨ Chart åŒ…éƒ¨ç½²çš„ä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Jaeger&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Jaeger å— Dapper å’Œ OpenZipkin çš„å¯å‘ï¼Œæ˜¯ç”± Uber Technologies å‘å¸ƒçš„å¼€æºåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿã€‚å®ƒç”¨äº&lt;code&gt;ç›‘æ§å’Œæ’æŸ¥&lt;/code&gt;åŸºäºå¾®æœåŠ¡çš„åˆ†å¸ƒå¼ç³»ç»Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†å¸ƒå¼ä¸Šä¸‹æ–‡ä¼ æ’­&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼äº‹åŠ¡ç›‘æ§&lt;/li&gt;
&lt;li&gt;æ ¹å› åˆ†æ&lt;/li&gt;
&lt;li&gt;æœåŠ¡ä¾èµ–å…³ç³»åˆ†æ&lt;/li&gt;
&lt;li&gt;æ€§èƒ½/å»¶è¿Ÿä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jaeger æ¶æ„:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqzqp27hfqj30qo0f0dhs.jpg&#34; alt=&#34;ç›´æ¥å­˜å‚¨æ¶æ„&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqzqq9pnqmj30qo0f00uw.jpg&#34; alt=&#34;ä½¿ç”¨Kafkaä½œä¸ºä¸­é—´ç¼“å†²åŒºæ¶æ„&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä½“ä¸Šè®²ï¼Œä¸€ä¸ªåŸºç¡€çš„ Jaeger è¿½è¸ªç³»ç»ŸåŒ…å«ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jaeger-query: ç”¨äºå®¢æˆ·ç«¯æŸ¥è¯¢å’Œæ£€ç´¢ç»„ä»¶ï¼Œå¹¶åŒ…å«äº†ä¸€ä¸ªåŸºç¡€çš„UI&lt;/li&gt;
&lt;li&gt;jaeger-collector: æ¥æ”¶æ¥è‡ª jaeger-agent çš„ trace æ•°æ®ï¼Œå¹¶é€šè¿‡å¤„ç†ç®¡é“æ¥æ‰§è¡Œã€‚å½“å‰çš„å¤„ç†ç®¡é“åŒ…å«éªŒè¯ trace æ•°æ®ï¼Œåˆ›å»ºç´¢å¼•ï¼Œæ‰§è¡Œæ•°æ®è½¬æ¢ä»¥åŠå°†æ•°æ®å­˜å‚¨åˆ°å¯¹åº”çš„åç«¯&lt;/li&gt;
&lt;li&gt;jaeger-agent: ä¸€ä¸ªç½‘ç»œå®ˆæŠ¤è¿›ç¨‹ï¼Œä¾¦å¬é€šè¿‡ UDP å‘é€çš„ spans ï¼Œå®ƒå¯¹å…¶è¿›è¡Œæ‰¹å¤„ç†å¹¶å‘é€ç»™æ”¶é›†å™¨ã€‚å®ƒè¢«è®¾è®¡ä¸ºä½œä¸ºåŸºç¡€è®¾æ–½ç»„ä»¶éƒ¨ç½²åˆ°æ‰€æœ‰ä¸»æœºã€‚ä»£ç†å°†æ”¶é›†å™¨çš„è·¯ç”±å’Œå‘ç°ä»å®¢æˆ·æœºæŠ½è±¡å‡ºæ¥&lt;/li&gt;
&lt;li&gt;backend-storage: ç”¨äºæŒ‡æ ‡æ•°æ®å­˜å‚¨çš„å¯æ’æ‹”å¼åç«¯å­˜å‚¨ï¼Œæ”¯æŒ Cassandra, Elasticsearch and Kafka&lt;/li&gt;
&lt;li&gt;ingester: å¯é€‰ç»„ä»¶ï¼Œç”¨äºä» kafka ä¸­æ¶ˆè´¹æ•°æ®å¹¶å†™å…¥åˆ°å¯ç›´æ¥è¯»å–çš„ Cassandra æˆ– Elasticsearch å­˜å‚¨ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; trace å’Œ span æ˜¯é“¾è·¯è¿½è¸ªç³»ç»Ÿä¸­çš„ä¸“ä¸šå±äºï¼Œspan å°±è¡¨ç¤ºå…·ä½“çš„ä¸€ä¸ªå·¥ä½œå•å…ƒï¼Œå¹¶ä¸”åŒ…å«äº†è¯¥å•å…ƒçš„å…ƒæ•°æ®æ¯”å¦‚å…·ä½“æ˜¯ä»€ä¹ˆæ“ä½œï¼Œæ‰§è¡Œçš„æ—¶é—´ç­‰ç­‰ï¼Œè€Œ trace æ˜¯é€šè¿‡æ•´ä¸ªç³»ç»Ÿçš„æ•°æ®è·¯å¾„ï¼Œå¯ä»¥è¢«è®¤ä¸ºæ˜¯å°† Spans ç»„æˆä¸€ä¸ªæœ‰å‘æ— ç¯å›¾(DAG)&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºä¸€ä¸ªå¤šç»„ä»¶ç³»ç»Ÿæ¥è¯´ï¼Œä¹Ÿå­˜åœ¨å¤šä¸ªç½‘ç»œç«¯å£ç”¨äºæ•°æ®çš„ä¼ è¾“ï¼Œä¸‹å›¾å³ä¸ºå„ä¸ªç»„ä»¶çš„ç«¯å£ç”¨é€”:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqzr8ywyayj31o00s6aex.jpg&#34; alt=&#34;jaeger-ports&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;jaeger-ç¯å¢ƒå¿«é€Ÿåˆå§‹åŒ–&#34;&gt;Jaeger ç¯å¢ƒå¿«é€Ÿåˆå§‹åŒ–&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å‰é€‰ç”¨esä½œä¸ºåç«¯å­˜å‚¨ï¼Œå¿…é¡»ç‰ˆæœ¬æ˜¯6 (å› ä¸ºes-go çš„sdk æ˜¯å¼ºä¾èµ–ç‰ˆæœ¬çš„ï¼Œjaeger æœ€æ–°ç‰ˆæœ¬åªæ”¯æŒes6)&lt;/li&gt;
&lt;li&gt;esé‡‡ç”¨å¤–ç½®å®å®ä¾‹ï¼Œå› ä¸ºæœ‰çŠ¶æ€æœåŠ¡åœ¨k8sé›†ç¾¤ä¸­æš‚æ—¶ä¸å¥½ç»´æŠ¤æ•°æ®çŠ¶æ€ï¼Œä¾¿äºç”Ÿäº§ç¯å¢ƒç›´æ¥æ›¿æ¢ç‹¬ç«‹çš„ es é›†ç¾¤å®ä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å®‰è£…helm v3 ä»¥åŠåŸºç¡€ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ wget https://get.helm.sh/helm-v3.1.2-linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ tar -zxvf helm-v3.1.2-linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cd linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mv helm /usr/local/bin/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm --help
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ·»åŠ helm ä»“åº“
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm repo add stable https://kubernetes-charts.storage.googleapis.com/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm repo add bitnami https://charts.bitnami.com/bitnami
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹ä»“åº“åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm repo list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# chart è¯­æ³•æ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm lint chart
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# yaml æ¨¡ç‰ˆæ¸²æŸ“
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm template chart
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# chart éƒ¨ç½²(åˆ›å»ºæœåŠ¡çš„release)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ helm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ä¸‹è½½Jaeger Helm Chart&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# git clone https://gitee.com/BGBiao/sample-jaeger.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ç›®å½•ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# cd sample-jaeger/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# ls
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Chart.lock  charts  Chart.yaml	es  files  readme.md  templates  values.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# tree -L 2 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|-- Chart.lock
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|-- charts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|-- Chart.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|-- es
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   `-- elasticsearch.yml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|-- readme.md
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|-- templates
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- agent-deploy.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- agent-svc.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- collector-deploy.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- collector-svc.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- configmap.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- elasticsearch-secret.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- _helpers.tpl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- hotrod-deploy.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- hotrod-ingress.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- hotrod-svc.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   |-- query-deploy.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|   `-- query-svc.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;`-- values.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å‡†å¤‡ ElasticSearch åç«¯å­˜å‚¨&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä½¿ç”¨docker æ–¹å¼å‡†å¤‡ä¸€ä¸ªå¤–ç½®çš„es å®ä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker run --name jaeger-es  -itd -p 9200:9200 -p 9300:9300 -e &amp;#34;discovery.type=single-node&amp;#34; -v $PWD/es/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml elasticsearch:6.4.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl localhost:9200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;error&amp;#34;:{&amp;#34;root_cause&amp;#34;:[{&amp;#34;type&amp;#34;:&amp;#34;security_exception&amp;#34;,&amp;#34;reason&amp;#34;:&amp;#34;missing authentication token for REST request [/]&amp;#34;,&amp;#34;header&amp;#34;:{&amp;#34;WWW-Authenticate&amp;#34;:&amp;#34;Basic realm=\&amp;#34;security\&amp;#34; charset=\&amp;#34;UTF-8\&amp;#34;&amp;#34;}}],&amp;#34;type&amp;#34;:&amp;#34;security_exception&amp;#34;,&amp;#34;reason&amp;#34;:&amp;#34;missing authentication token for REST request [/]&amp;#34;,&amp;#34;header&amp;#34;:{&amp;#34;WWW-Authenticate&amp;#34;:&amp;#34;Basic realm=\&amp;#34;security\&amp;#34; charset=\&amp;#34;UTF-8\&amp;#34;&amp;#34;}},&amp;#34;status&amp;#34;:401}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å› ä¸ºes å¼€å¯äº†è®¤è¯ï¼Œéœ€è¦å…ˆè®¾ç½®å¯†ç è®¿é—®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# docker exec -it jaeger-es-tmp bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./bin/elasticsearch-setup-passwords
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sets the passwords for reserved users
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Commands
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auto - Uses randomly generated passwords
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;interactive - Uses passwords entered by a user
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Non-option arguments:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;command
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Option         Description
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------         -----------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-h, --help     show help
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-s, --silent   show minimal output
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-v, --verbose  show verbose output
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ERROR: Missing command
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è®¾ç½®elasticstack æ‰€æœ‰çš„å¯†ç 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[root@b90822f2c26b elasticsearch]# ./bin/elasticsearch-setup-passwords interactive
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initiating the setup of passwords for reserved users elastic,kibana,logstash_system,beats_system.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;You will be prompted to enter passwords as the process progresses.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Please confirm that you would like to continue [y/N]y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter password for [elastic]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Reenter password for [elastic]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter password for [kibana]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Reenter password for [kibana]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter password for [logstash_system]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Reenter password for [logstash_system]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter password for [beats_system]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Reenter password for [beats_system]:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Changed password for user [kibana]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Changed password for user [logstash_system]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Changed password for user [beats_system]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Changed password for user [elastic]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä½¿ç”¨å¯†ç è®¿é—®eså®ä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl -u &amp;#39;elastic:xxxxxxx&amp;#39; http://localhost:9200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;name&amp;#34; : &amp;#34;1xdrvFl&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;cluster_name&amp;#34; : &amp;#34;docker-cluster&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;cluster_uuid&amp;#34; : &amp;#34;CO76XmP0Qbexysev4Al2MQ&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;version&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;number&amp;#34; : &amp;#34;6.4.3&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;build_flavor&amp;#34; : &amp;#34;default&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;build_type&amp;#34; : &amp;#34;tar&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;build_hash&amp;#34; : &amp;#34;fe40335&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;build_date&amp;#34; : &amp;#34;2018-10-30T23:17:19.084789Z&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;build_snapshot&amp;#34; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;lucene_version&amp;#34; : &amp;#34;7.4.0&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;minimum_wire_compatibility_version&amp;#34; : &amp;#34;5.6.0&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;minimum_index_compatibility_version&amp;#34; : &amp;#34;5.0.0&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;tagline&amp;#34; : &amp;#34;You Know, for Search&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ Chart é…ç½®å¹¶å®‰è£… Release&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¿®æ”¹helm chart ä¸­çš„esåœ°å€ storage.elasticsearch.host/storage.elasticsearch.password
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#  éƒ¨ç½²æ•´ä¸ªjaeger æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# ls
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Chart.lock  charts  Chart.yaml	es  files  readme.md  templates  values.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# helm install -n sample-jaeger jaeger .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Error: create: failed to create: namespaces &amp;#34;sample-jaeger&amp;#34; not found
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2#
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# kubectl  create ns sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;namespace/sample-jaeger created
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# helm install -n sample-jaeger jaeger .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME: jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LAST DEPLOYED: Sun May 23 23:42:58 2021
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAMESPACE: sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;STATUS: deployed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;REVISION: 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TEST SUITE: None
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# helm list -n sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME  	NAMESPACE    	REVISION	UPDATED                               	STATUS  	CHART              	APP VERSION
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jaeger	sample-jaeger	1       	2021-05-23 23:42:58.75504002 +0800 CST	deployed	sample-jaeger-0.1.0	1.16.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# kubectl  get all -n sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                                       READY   STATUS    RESTARTS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-agent-579587cb85-rzd46                          1/1     Running   0          27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-collector-57c57bc788-682sn                      1/1     Running   0          27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-query-85d86d44d-dhj7g                           1/1     Running   0          27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-sample-jaeger-jaeger-example-7bf65bd75b-mlxhv   1/1     Running   0          27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                          TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)                                                          AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-agent                          NodePort   172.16.127.123   &amp;lt;none&amp;gt;        6831:31139/UDP,5775:31355/TCP,6832:30937/TCP,5778:32360/TCP      27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-agent-backup                   NodePort   172.16.125.116   &amp;lt;none&amp;gt;        6831:30036/UDP,5775:31138/TCP,6832:31179/TCP,5778:30568/TCP      27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-collector                      NodePort   172.16.127.93    &amp;lt;none&amp;gt;        14250:30708/TCP,14268:32354/TCP,9411:32312/TCP,14267:30986/TCP   27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-collector-backup               NodePort   172.16.125.137   &amp;lt;none&amp;gt;        14250:30477/TCP,14268:32513/TCP,9411:30679/TCP,14267:31237/TCP   27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-query                          NodePort   172.16.124.251   &amp;lt;none&amp;gt;        16686:30843/TCP,16687:30530/TCP                                  27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-query-backup                   NodePort   172.16.125.214   &amp;lt;none&amp;gt;        16686:30273/TCP,16687:30858/TCP                                  27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-sample-jaeger-jaeger-example   NodePort   172.16.125.35    &amp;lt;none&amp;gt;        80:31255/TCP                                                     27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                                  READY   UP-TO-DATE   AVAILABLE   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-agent                          1/1     1            1           27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-collector                      1/1     1            1           27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-query                          1/1     1            1           27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-sample-jaeger-jaeger-example   1/1     1            1           27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                                             DESIRED   CURRENT   READY   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-agent-579587cb85                          1         1         1       27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-collector-57c57bc788                      1         1         1       27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-query-85d86d44d                           1         1         1       27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-sample-jaeger-jaeger-example-7bf65bd75b   1         1         1       27s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¿™é‡Œæˆ‘ä»¬æµ‹è¯•ä¸‹jaeger-query çš„æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# curl 172.16.124.251:16686 -I
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HTTP/1.1 200 OK
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Type: text/html; charset=utf-8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Date: Sun, 23 May 2021 15:44:39 GMT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ­¤æ—¶å‘ç°æˆ‘ä»¬æ ¸å¿ƒçš„å‡ ä¸ªæœåŠ¡éƒ½æ²¡æœ‰é—®é¢˜(agent,collector,query)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ¥ä¸‹é‡Œå°±å¯ä»¥ç›´æ¥è®¿é—®æˆ‘ä»¬çš„jaeger çš„æœåŠ¡é¡µé¢äº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å› ä¸ºæˆ‘ä»¬çš„service é‡‡ç”¨äº†nodePort ç±»å‹ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ä¸»æœºçš„ip:port
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Jaeger ç³»ç»Ÿä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqssor4at5j316b0u0tj8.jpg&#34; alt=&#34;jaeger-é¦–é¡µ&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„: é»˜è®¤æˆ‘ä»¬æ²¡æœ‰åº”ç”¨çš„æ•°æ®é‡‡é›†ï¼Œå› æ­¤çœ‹ä¸åˆ°ä»»ä½•é“¾è·¯ç›¸å…³çš„æ•°æ®ï¼Œå…¶å®å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¸Šé¢ä¹Ÿéƒ¨ç½²äº†ä¸€ä¸ªæµ‹è¯•ç¨‹åº&lt;code&gt;jaeger-example&lt;/code&gt;ï¼Œå®ƒæ˜¯ä¸€ä¸ªç®€å•ä½†å´å®Œæ•´çš„ç¨‹åºï¼Œè´¯ç©¿äº†å‰åç«¯ï¼Œæ•°æ®åº“ç¼“å­˜ç­‰å…¨æµç¨‹çš„é€»è¾‘ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ¸…æ¥šçš„æŸ¥çœ‹æ•´ä¸ªè°ƒç”¨é“¾è·¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç›´æ¥æ‰“å¼€&lt;code&gt;jaeger-example&lt;/code&gt; å¯¹åº”çš„åœ°å€å³å¯ã€‚ &lt;code&gt;node:31255&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqsstii7c0j321a0qk434.jpg&#34; alt=&#34;jaeger-horod&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æ•´ä¸ªæœåŠ¡æä¾›äº†ä¸€ä¸ªå…¨å±€è§†è§’ï¼Œä»ç”¨æˆ·çš„å®¢æˆ·ç«¯idè¿›å…¥è¯·æ±‚å¼€å§‹ï¼Œæ¥æ¨¡æ‹Ÿå…¨æµç¨‹çš„æœåŠ¡è¯·æ±‚æµè½¬ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥éšæ„ç‚¹å‡»å‡ ä¸ªæœåŠ¡æ¨¡å—ï¼Œè®©æœåŠ¡ä¸»åŠ¨ä¸ŠæŠ¥ä¸€äº›æ•°æ®ç»™jaeger&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqst0eer6tj321k0sgqba.jpg&#34; alt=&#34;jaeger-hotROD-serving&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡æ‹Ÿä¸€äº›ç”¨æˆ·çš„è¯·æ±‚åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŸ¥çœ‹åˆ°æœåŠ¡çš„ä¸€äº›æŒ‡æ ‡äº†&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqst2f95flj31670u0gxc.jpg&#34; alt=&#34;choose-some-filter-find-trace&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°åˆšæ‰çš„æ¨¡æ‹Ÿè¯·æ±‚ä¸­ï¼Œæ€»å…±äº§ç”Ÿäº†5ä¸ªTracesï¼Œä¹Ÿå°±åˆ†åˆ«å¯¹åº”äº†æˆ‘ä»¬åœ¨ &lt;code&gt;hotROD&lt;/code&gt; æœåŠ¡ä¸­çš„5æ¬¡è¯·æ±‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œç‚¹è¿›å»ä»»ä½•ä¸€æ¡é“¾è·¯ï¼Œéƒ½å¯ä»¥æŸ¥çœ‹åˆ°æ•´ä¸ªè°ƒç”¨è¿‡ç¨‹çš„è€—æ—¶æƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqst58e03cj316c0u07he.jpg&#34; alt=&#34;tracing-timeline&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqst8iy9b1j315w0u0an4.jpg&#34; alt=&#34;tracing-troubshooting&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»è°ƒç”¨é“¾è·¯çš„æ–¹æ³•è°ƒç”¨ï¼Œä¹Ÿèƒ½å¾ˆå¿«æŸ¥çœ‹åˆ°è°ƒç”¨è¶…æ—¶ä»¥åŠå¼‚å¸¸æ¨¡å—&lt;/p&gt;
&lt;p&gt;ç„¶åå³ä¸Šè§’å¯ä»¥é€‰æ‹© trace æ•°æ®çš„æ–¹å¼ï¼Œæ¯”å¦‚å¯ä»¥çœ‹åˆ°è°ƒç”¨å…³ç³»ï¼Œè¿™æ ·å°±å¾ˆæ–¹ä¾¿æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€ä¸ªå®Œæ•´æœåŠ¡çš„å„ä¸ªè°ƒç”¨å…³ç³»&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/008i3skNly1gqstb2t7raj31jb0u0tn1.jpg&#34; alt=&#34;trace-graph&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨ helm å¿«é€Ÿéƒ¨ç½²äº†ä¸€ä¸ªåˆ†å¸ƒå¼çš„ jaeger é›†ç¾¤&lt;/p&gt;
&lt;p&gt;å½“ç„¶å•¦ï¼ŒhotROD æœåŠ¡ä»…ä»…æ˜¯æµ‹è¯•æœåŠ¡ï¼ŒéªŒè¯æˆ‘ä»¬çš„jaeger ç›‘æ§å¯ç”¨ï¼Œä¹‹åæˆ‘ä»¬éœ€è¦å°†å®ƒé”€æ¯ä»¥é‡Šæ”¾ç›¸å…³çš„èµ„æº&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹Helm Chartæ›´æ–°æœåŠ¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; ç”±äºæˆ‘ä»¬çš„ æœåŠ¡éƒ½æ˜¯é€šè¿‡åœ¨chart ä¸­çš„yamlå®šä¹‰çš„ï¼Œå› æ­¤æœåŠ¡çš„ç®¡æ§åªéœ€è¦æ”¹yamlå°±è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹&lt;code&gt;values.yaml&lt;/code&gt; æ–‡ä»¶ä¸­çš„&lt;code&gt;jaegerExample.enabled: false&lt;/code&gt; åï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åˆ¶å®šé…ç½®æ–‡ä»¶ï¼Œå¯¹æŒ‡å®šçš„release è¿›è¡Œæ›´æ–°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# helm  upgrade -n sample-jaeger -f ./values.yaml jaeger .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Release &amp;#34;jaeger&amp;#34; has been upgraded. Happy Helming!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME: jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LAST DEPLOYED: Mon May 24 00:18:46 2021
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAMESPACE: sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;STATUS: deployed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;REVISION: 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TEST SUITE: None
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥çœ‹åˆ°ï¼ŒREVISION å·²ç»æ›´æ–°åˆ°2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## å¹¶ä¸”æˆ‘ä»¬çš„jaeger-example æœåŠ¡å·²ç»ä¸‹çº¿
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# helm  list -n sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME  	NAMESPACE    	REVISION	UPDATED                                	STATUS  	CHART              	APP VERSION
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jaeger	sample-jaeger	2       	2021-05-24 00:18:46.865941544 +0800 CST	deployed	sample-jaeger-0.1.0	1.16.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh-4.2# kubectl get all -n sample-jaeger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                    READY   STATUS    RESTARTS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-agent-579587cb85-rzd46       1/1     Running   0          38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-collector-57c57bc788-682sn   1/1     Running   0          38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod/jaeger-query-85d86d44d-dhj7g        1/1     Running   0          38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                              TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)                                                          AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-agent              NodePort   172.16.127.123   &amp;lt;none&amp;gt;        6831:31139/UDP,5775:31355/TCP,6832:30937/TCP,5778:32360/TCP      38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-agent-backup       NodePort   172.16.125.116   &amp;lt;none&amp;gt;        6831:30036/UDP,5775:31138/TCP,6832:31179/TCP,5778:30568/TCP      38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-collector          NodePort   172.16.127.93    &amp;lt;none&amp;gt;        14250:30708/TCP,14268:32354/TCP,9411:32312/TCP,14267:30986/TCP   38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-collector-backup   NodePort   172.16.125.137   &amp;lt;none&amp;gt;        14250:30477/TCP,14268:32513/TCP,9411:30679/TCP,14267:31237/TCP   38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-query              NodePort   172.16.124.251   &amp;lt;none&amp;gt;        16686:30843/TCP,16687:30530/TCP                                  38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service/jaeger-query-backup       NodePort   172.16.125.214   &amp;lt;none&amp;gt;        16686:30273/TCP,16687:30858/TCP                                  38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                               READY   UP-TO-DATE   AVAILABLE   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-agent       1/1     1            1           38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-collector   1/1     1            1           38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deployment.apps/jaeger-query       1/1     1            1           38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                          DESIRED   CURRENT   READY   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-agent-579587cb85       1         1         1       38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-collector-57c57bc788   1         1         1       38m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;replicaset.apps/jaeger-query-85d86d44d        1         1         1       38m
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚æ­¤ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨helm æ¥å¾ˆä¼˜é›…çš„ç®¡ç†äº†æˆ‘ä»¬æœåŠ¡çš„éƒ¨ç½²ä»¥åŠå®ä¾‹çš„ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰å‘ç°ï¼Œç›´æ¥ä½¿ç”¨helm å¯èƒ½ä¼šæœ‰å‡ ä¸ªé—®é¢˜:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;å‘½åç©ºé—´æ²¡åŠæ³•å£°æ˜ï¼Œä¸”ä¸èƒ½è‡ªåŠ¨åˆ›å»º&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¸æ”¯æŒåƒkubectl applyå‘½ä»¤ï¼Œæ¥ç›´æ¥æ›´æ–°å¯¹åº”èµ„æºçš„é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ— æ³•åšåˆ°ç¯å¢ƒçš„åŒºåˆ†ä»¥åŠchartç‰ˆæœ¬æ§åˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶å®ï¼Œåœ¨ç¤¾åŒºé‡Œå·²ç»æœ‰ç›¸å…³çš„å·¥å…·æ¥è§£å†³è¿™äº›é—®é¢˜äº†ï¼Œå°±æ˜¯ &lt;a href=&#34;https://github.com/roboll/helmfile&#34;&gt;helmfile&lt;/a&gt; ï¼Œå®ƒå¯ä»¥é€šè¿‡&lt;code&gt;helmfile.yaml&lt;/code&gt; æ–‡ä»¶æ¥å¸®åŠ©ç”¨æˆ·ç®¡ç†å’Œç»´æŠ¤ä¼—å¤š helm chartï¼Œæé«˜éƒ¨ç½²çš„å¯è§‚æµ‹æ€§å’Œå¯é‡å¤æ€§ï¼ŒåŒºåˆ†ç¯å¢ƒï¼Œå…å»å„ç§ &lt;code&gt;--set&lt;/code&gt; å‚æ•°çš„å›°æ‰°ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»è¯•ä¸€è¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>å¦‚ä½•æ›´åŠ ä¼˜é›…çš„ä½¿ç”¨ Systemd ç®¡ç†æœåŠ¡</title>
      <link>https://bgbiao.top/post/systemd-doc/</link>
      <pubDate>Sun, 01 Nov 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/systemd-doc/</guid>
      
        <description>&lt;h2 id=&#34;å¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨-systemd-ç®¡ç†æœåŠ¡&#34;&gt;å¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨ Systemd ç®¡ç†æœåŠ¡&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;èƒŒæ™¯: æˆ‘ä»¬åœ¨æ„å»ºKuberneteså®¹å™¨åŒ–å¹³å°æ—¶ï¼Œä¼šåœ¨èŠ‚ç‚¹ä¸Šéƒ¨ç½²å„ç§ agent ï¼Œè™½ç„¶å®¹å™¨åŒ–å½“é“çš„ä»Šå¤©å¾ˆå¤šç¨‹åºå¯ä»¥ç›´æ¥é‡‡ç”¨dockeræ–¹å¼è¿›è¡Œè¿è¡Œï¼Œä½†æˆ‘ä»¬åœ¨æ•´ä¸ªé›†ç¾¤å†…éƒ¨ä»ç„¶å¤§é‡ä½¿ç”¨äº† &lt;code&gt;systemd&lt;/code&gt; æ¥ç®¡ç†åŸºç¡€æœåŠ¡ã€‚ä¸è¿‡åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°å¯èƒ½å‡ºç°ç›¸å…³ä¾èµ–çš„æœåŠ¡ç»„ä»¶å¼‚å¸¸åå¯¼è‡´èŠ‚ç‚¹ä¸ŠæœåŠ¡ä¸å¯ç”¨ï¼Œå…¶æ¬¡è¿˜æœ‰å¯èƒ½å‡ºç°ä¸ªåˆ«æœåŠ¡bugè€Œå¯¼è‡´æ•´ä¸ªèŠ‚ç‚¹èµ„æºæ¶ˆè€—æ®†å°½çš„æƒ…å†µ(å¹¸å¥½å‘ç°çš„æ—©ï¼ŒåŠæ—¶å¤„ç†åæ²¡æœ‰äº§ç”Ÿä¸šåŠ¡ä¸Šçš„åº”ç”¨)ï¼Œå› æ­¤ï¼Œè¯ç”Ÿäº†ä½¿ç”¨ systemd åœ¨ç®¡ç†æœåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œèƒ½å¸®æˆ‘ä»¬ç®¡ç†ä¸Šä¸‹æ¸¸ä¾èµ–æœåŠ¡çš„çŠ¶æ€ï¼Œä¸”èƒ½ç›¸å¯¹é™åˆ¶éƒ¨åˆ†èµ„æºçš„æƒ³æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ç”¨æˆ·è‡ªå·±ä½¿ç”¨systemdè¿›è¡Œç®¡ç†æœåŠ¡æ—¶ï¼Œéœ€è¦å…³æ³¨systemd service ä¸­çš„å¦‚ä¸‹å‡ ä¸ªé…ç½®å—:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Unit&lt;/code&gt;: ä¸»è¦ç”¨äºé…ç½®æ•´ä¸ªæœåŠ¡çš„è¯¦æƒ…ä¿¡æ¯ä»¥åŠæœåŠ¡ä¾èµ–ï¼Œç”¨äºå¿«é€Ÿè¯†åˆ«è¯¥æœåŠ¡çš„ç›¸å…³æƒ…å†µä»¥åŠä¾èµ–é¡¹ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Service&lt;/code&gt;: ä¸»è¦ç”¨äºé…ç½®æ•´ä¸ªæœåŠ¡ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†è¡Œä¸º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Install&lt;/code&gt;: ç”¨äºé…ç½®æœåŠ¡çš„å®‰è£…çº§åˆ«ï¼Œå½“æˆ‘ä»¬è®¾ç½®æœåŠ¡åœ¨Linuxçš„é‚£ç§çº§åˆ«ä¸‹å¯åŠ¨æˆ–å¼€æœºè‡ªå¯åŠ¨æ—¶ä¼šåŠ è½½è¯¥éƒ¨åˆ†(å…¸å‹çš„å½“chkconfig nginx onæˆ–è€…systemctl enable|disable nginx.serviceæ—¶ä¼šè¯»å–è¯¥éƒ¨åˆ†çš„é…ç½®)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;unit-å—&#34;&gt;Unit å—&lt;/h3&gt;
&lt;p&gt;Unit å—é™¤äº†å¯ä»¥ç®€å•æè¿°æ•´ä¸ªæœåŠ¡çš„ç›¸å…³è¯¦æƒ…å¤–ï¼Œè¿˜æœ‰æœ€é‡è¦çš„ä¸€ç‚¹å¯ä»¥ç”¨æ¥ç®¡ç†è¯¥æœåŠ¡çš„å¯åŠ¨é¡ºåºå’Œå¯åŠ¨ä¾èµ–(å¿…é¡»ä¹Ÿå¾—ç”±systemdç®¡ç†)ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚é€šå¸¸æˆ‘ä»¬æœ‰ä¸€äº›æœåŠ¡ï¼Œå¿…é¡»ä¾èµ–ä¸€äº›åŸºç¡€ç¯å¢ƒ(ntpdï¼Œrsyslogï¼Œnetwork)æ‰èƒ½å¯åŠ¨æˆåŠŸï¼Œæˆ–è€…å¿…é¡»åœ¨æŸä¸ªæœåŠ¡åå¯åŠ¨ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œé…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; åœ¨Unit å¿«ä¸­ï¼Œæ¯ä¸ªæŒ‡ä»¤åéƒ½å¯ä»¥æŒ‡å®šä¸€ä¸ªä»¥ç©ºæ ¼åˆ†éš”çš„åˆ—è¡¨&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡æè¿°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨systemd çš„ service é…ç½®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨å¦‚ä¸‹å‡ ä¸ªé…ç½®é¡¹æ¥æè¿°è¯¥æœåŠ¡çš„åŸºæœ¬ä¿¡æ¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Description&lt;/code&gt;: æœåŠ¡çš„ç®€å•æè¿°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Documentation&lt;/code&gt;: æŒ‡å®šæœåŠ¡çš„æ–‡æ¡£ï¼Œä¾¿äºç®¡ç†å‘˜å¿«é€Ÿè¿½æº¯ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨&amp;quot;http://&amp;quot;, &amp;ldquo;https://&amp;rdquo;, &amp;ldquo;file:&amp;rdquo;, &amp;ldquo;info:&amp;rdquo;, &amp;ldquo;man:&amp;rdquo; äº”ç§ URI ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡ä¾èµ–ç®¡ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;systemd ä¸­ä¼šæœ‰å‡ ç§æœåŠ¡ä¾èµ–ç®¡ç†çš„æŒ‡ä»¤ï¼Œå¯èƒ½åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€äº›ç–‘æƒ‘ï¼Œæœ‰æ—¶å€™åŠŸèƒ½å¯èƒ½é‡å ï¼Œå› æ­¤éœ€è¦æ ¹æ®å…·ä½“çš„ä½¿ç”¨åœºæ™¯è¿›è¡Œç»„åˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;After&lt;/code&gt;: ç”¨äºæŒ‡å®šè¯¥æœåŠ¡åœ¨é‚£äº›æœåŠ¡ä¹‹åå¯åŠ¨ ï¼Œåœæ­¢æ—¶æ­£å¥½ç›¸å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Before&lt;/code&gt;: ç”¨äºæŒ‡å®šè¯¥æœåŠ¡åœ¨é‚£äº›æœåŠ¡ä¹‹å‰å¯åŠ¨ï¼Œåœæ­¢æ—¶æ­£å¥½ç›¸å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Requires&lt;/code&gt;: è®¾ç½®è¯¥æœåŠ¡å¿…é¡»ä¾èµ–çš„å…¶ä»–æœåŠ¡ï¼Œå› æ­¤åœ¨è¯¥æœåŠ¡å¯åŠ¨ä¹‹å‰ï¼ŒæŒ‡å®šçš„æœåŠ¡åˆ—è¡¨å¿…é¡»å…¨éƒ¨åœ¨çº¿ï¼Œå¦åˆ™æœåŠ¡å°†å¯åŠ¨å¤±è´¥æˆ–æ‰çº¿ã€‚ä½†å¦‚æœæœªè®¾ç½®&lt;code&gt;After&lt;/code&gt;å’Œ&lt;code&gt;Before&lt;/code&gt;æŒ‡ä»¤æ—¶ï¼Œè¯¥æœåŠ¡å’Œä¾èµ–çš„æœåŠ¡å°†ä¼šå¹¶è¡Œçš„åŒæ—¶å¯åŠ¨ã€‚æ³¨æ„: è¯¥æŒ‡ä»¤ä¾èµ–çš„æœåŠ¡ä¸ä¸€å®šè¦åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½ä¿æŒä¸€ç›´åœ¨çº¿ï¼Œè¿™å–å†³äºå…¶ä»–çš„æ£€æŸ¥æ¡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Requisite&lt;/code&gt;: å’Œ&lt;code&gt;Requires&lt;/code&gt;ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯åœ¨è¯¥æœåŠ¡å¯åŠ¨æ—¶ï¼Œè¯¥æŒ‡ä»¤æŒ‡å®šçš„ä¾èµ–èµ„æºå¿…é¡»å…¨éƒ¨å¤„äºå¯åŠ¨æˆåŠŸçš„çŠ¶æ€ï¼Œå¦åˆ™è¯¥æœåŠ¡ç«‹é©¬å¤±è´¥ï¼Œå¹¶ä¸”ä¸ä¼šå¯åŠ¨é‚£äº›å¤±è´¥çš„ä¾èµ–æœåŠ¡ã€‚å› æ­¤ä¸€èˆ¬å»ºè®®&lt;code&gt;Requisite&lt;/code&gt;å’Œ&lt;code&gt;After&lt;/code&gt; ä¸€èµ·è”åˆä½¿ç”¨ä¼šæ¯”è¾ƒå¥½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Wants&lt;/code&gt;: &lt;code&gt;Requires&lt;/code&gt;çš„å¼±åŒ–ç‰ˆï¼Œå½“è¯¥æœåŠ¡å¯åŠ¨æ—¶ï¼Œå°½å¯èƒ½çš„å¯åŠ¨è¯¥æŒ‡ä»¤æŒ‡å®šçš„æœåŠ¡ï¼Œä½†ä¸ä¼šå½±å“è¯¥æœåŠ¡çš„å¯åŠ¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BindsTo&lt;/code&gt;: å’Œ&lt;code&gt;Requires&lt;/code&gt;ç±»ä¼¼ï¼Œä½†æ˜¯ä¾èµ–æ€§æ›´å¼ºï¼Œè¿™é‡Œåˆ—å‡ºæ¥çš„ä»»ä½•æœåŠ¡åœæ­¢è¿è¡Œæˆ–å´©æºƒï¼Œè¯¥æœåŠ¡å°†ç«‹å³è¢«åœæ­¢ã€‚è€ƒè™‘æœåŠ¡çš„å¯åŠ¨ä¾èµ–ï¼Œä¸€èˆ¬ä¼šå’Œ&lt;code&gt;After&lt;/code&gt;ä¸€èµ·ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PartOf&lt;/code&gt;: å’Œ&lt;code&gt;Requires&lt;/code&gt;ç±»ä¼¼ï¼Œä½†ä»…ä½œç”¨äºæœåŠ¡çš„åœæ­¢å’Œé‡å¯ï¼Œè¡¨ç¤ºè¯¥æœåŠ¡æ˜¯æ‰€åˆ—æœåŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œä¼šéšæŒ‡å®šæœåŠ¡çš„å¯åŠ¨è€Œå¯åŠ¨ã€‚æ³¨æ„: è¯¥æŒ‡ä»¤æ˜¯å•å‘ä¾èµ–ï¼ŒæœåŠ¡çš„ä¸»åŠ¨çš„é‡å¯ä¸ä¼šå½±å“å…¶ä»–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/0081Kckwly1gk8fy7gcmcj30xi0l6n2c.jpg&#34; alt=&#34;Unitå—çš„ä¾èµ–å±æ€§&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¿™é‡ŒæŒ‡å®šäº†å†…éƒ¨çš„Kubeletè¿›ç¨‹å¿…é¡»åœ¨docker å’Œkube-proxy ä¹‹åå¯åŠ¨ï¼Œä¸”éœ€è¦å¼ºä¾èµ–ï¼Œå‡å°‘è°ƒåº¦å¤±è´¥å’Œpodè½¬å‘å¤±è´¥çš„é—®é¢˜
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Description=kubelet - k8s node lifecycle manager.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Documentation=https://kubernetes.io/zh/docs/reference/command-line-tools-reference/kubelet/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;After=docker.service kube-proxy.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Requisite=docker.service kube-proxy.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;service-å—&#34;&gt;Service å—&lt;/h3&gt;
&lt;p&gt;æ¯‹åº¸ç½®ç–‘çš„æ˜¯ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨systemd æœ€åˆçš„æƒ³æ³•æ˜¯ç”¨æ¥å¯åŠ¨å’Œåœæ­¢è¿›ç¨‹ï¼Œå› æ­¤ï¼Œæ•´ä¸ªsystemdæœ€æ ¸å¿ƒçš„éƒ¨åˆ†ä¹Ÿå°±åœ¨ Service å—äº†ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹è¯¥éƒ¨åˆ†æœ‰å¾ˆç†Ÿæ‚‰çš„ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸºæœ¬æŒ‡ä»¤&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Type&lt;/code&gt;: æŒ‡å®šè¿›ç¨‹çš„å¯åŠ¨ç±»å‹ï¼Œå¿…é¡»è®¾ä¸º simple, exec, forking, oneshot, dbus, notify, idle ä¹‹ä¸€ã€‚å¸¸ç”¨çš„å‡ ç§å¦‚ä¸‹&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;simple: ä¸€èˆ¬æ²¡æœ‰å…¶ä»–æŒ‡ä»¤æ—¶ï¼Œä¸ºé»˜è®¤å€¼ï¼Œè¡¨ç¤º&lt;code&gt;ExecStart&lt;/code&gt;åçš„æŒ‡ä»¤ä¸ºä¸»è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹å¯åŠ¨åæœåŠ¡å³å¯åŠ¨æˆåŠŸã€‚å¦‚æœè¿›ç¨‹éœ€è¦ä¸ºå…¶ä»–è¿›ç¨‹æä¾›æœåŠ¡ï¼Œéœ€è¦é€šè¿‡socketæ¥è¿›è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;exec: åŒsimpleç±»ä¼¼ï¼Œä½†æ˜¯è¡¨ç¤ºè¯¥æœåŠ¡çš„ä¸»æœåŠ¡è¿›ç¨‹æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ‰çœŸæ­£å¯åŠ¨æˆåŠŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;forking: æ ‡è¯†åœ¨ä½¿ç”¨&lt;code&gt;ExecStart&lt;/code&gt;åçš„æŒ‡ä»¤å¯åŠ¨ç¨‹åºåï¼Œä¼šè¿›è¡Œ&lt;code&gt;fork()&lt;/code&gt;çš„ç³»ç»Ÿè°ƒç”¨ã€‚ä¼ ç»ŸUnixä¸­å®ˆæŠ¤è¿›ç¨‹çš„ç»å…¸åšæ³•ï¼Œå¦‚æœä½¿ç”¨æ­¤ç±»å‹ï¼Œå»ºè®®è®¾ç½®&lt;code&gt;PIDFile=&lt;/code&gt;æ¥æŒ‡å®šè¯¥æœåŠ¡çš„ä¸»è¿›ç¨‹ã€‚æ¯”å¦‚&lt;code&gt;nginx&lt;/code&gt;è¿›ç¨‹çš„daemonæ–¹å¼ï¼Œä¸»è¿›ç¨‹æ‰§è¡Œå®Œæˆåï¼Œè‡³å°‘æœ‰1ä¸ªè¿›ç¨‹åœ¨è¿è¡Œï¼Œæ­¤æ—¶æœåŠ¡çŠ¶æ€ä¼šå˜æˆ&lt;code&gt;active&lt;/code&gt;çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;oneshot: åŒsimpleç±»ä¼¼ï¼Œä½†æ˜¯è¡¨ç¤ºåªæœ‰åœ¨è¯¥æœåŠ¡çš„ä¸»æœåŠ¡è¿›ç¨‹é€€å‡ºä¹‹åï¼Œæ‰çœŸæ­£æ‰§è¡ŒæˆåŠŸã€‚ä¸€èˆ¬ç”¨äºæ‰§è¡Œä¸€æ¬¡æ€§ä»»åŠ¡(é…ç½®RemainAfterExit=yesè®¾ç½®å¯åœæ­¢çš„ä¸€æ¬¡æ€§æœåŠ¡)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PIDFile&lt;/code&gt;: æŒ‡å®šè¯¥æœåŠ¡çš„PIDæ–‡ä»¶è·¯å¾„ã€‚systemdä¼šåœ¨å¯åŠ¨åè¯»å–ä¸»æœåŠ¡è¿›ç¨‹çš„PIDï¼Œå¹¶è®°å½•åœ¨MAINPIDå˜é‡ä¸­ï¼Œåœ¨åœæ­¢æœåŠ¡åï¼Œä¼šä¸»åŠ¨è¿›è¡Œåˆ é™¤è¯¥æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;KillMode&lt;/code&gt;: æŒ‡å®šåœæ­¢æœåŠ¡æ—¶ï¼Œæ€æ­»è¿›ç¨‹çš„æ–¹å¼ï¼Œå¿…é¡»è®¾ä¸º control-group, process, mixed, noneä¹‹ä¸€ã€‚(processè¡¨ç¤ºä»…æ€æ­»ä¸»è¿›ç¨‹;mixedè¡¨ç¤ºå‘ä¸»è¿›ç¨‹å‘SIGTERMä¿¡å·ï¼Œç„¶åæƒ³æœåŠ¡å†…cgroupçš„å…¶ä»–è¿›ç¨‹å‘SIGKILLä¿¡å·;noneè¡¨ç¤ºä»…æ‰§è¡ŒExecStopåŠ¨ä½œï¼Œè€Œä¸æ€æ­»è¿›ç¨‹)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; å»ºè®®å¯¹é•¿æ—¶é—´æŒç»­è¿è¡Œçš„æœåŠ¡å°½å¯èƒ½ä½¿ç”¨ Type=simpleï¼›å¦‚æœæœ‰master/slaveè¿›ç¨‹çš„å»ºè®®ä½¿ç”¨ Type=forking&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¯å¢ƒå˜é‡åˆå§‹åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šå¸¸æˆ‘ä»¬çš„æœåŠ¡ä¸»è¿›ç¨‹å¯èƒ½ä¼šæœ‰æ¯”è¾ƒå¤šçš„å‚æ•°ï¼Œå»ºè®®çš„åšæ³•æ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡æ–¹å¼è¿›è¡Œç»´æŠ¤å¯¹åº”çš„å‚æ•°ï¼Œè€Œåœ¨ systemd ä¸­å¯æ”¯æŒK/Vå’Œé…ç½®æ–‡ä»¶æ–¹å¼æ¥è¿›è¡Œè®¾ç½®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Environment&lt;/code&gt;: æŒ‡å®šKey=Value çš„ç¯å¢ƒé…ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;EnvironmentFile&lt;/code&gt;: æŒ‡å®šåŒ…å«key=value çš„é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°&lt;code&gt;EnvironmentFile=-filename&lt;/code&gt; å’Œ&lt;code&gt;EnvironmentFile=filename&lt;/code&gt; çš„å†™æ³•ï¼Œå‰è€…è¡¨ç¤ºå¯å¿½ç•¥ï¼Œå³å½“æ–‡ä»¶ä¸å­˜åœ¨æˆ–ç¯å¢ƒå˜é‡åŠ è½½å¤±è´¥æ—¶ä¹Ÿä¸å½±å“åç»­çš„å¤„ç†é€»è¾‘ã€‚(åœ¨etcdçš„é«˜ç‰ˆæœ¬é‡Œï¼Œå¤§éƒ¨åˆ†å‚æ•°é‡‡ç”¨äº†ç¯å¢ƒå˜é‡åŠ è½½çš„æ–¹å¼ï¼Œå¯è§æœªæ¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥æ§åˆ¶æœåŠ¡çš„å¯åŠ¨å‚æ•°å·²ç»æ˜¯è¶‹åŠ¿)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªè¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»å‡†å¤‡å¯åŠ¨è¿›ç¨‹å¼€å§‹åˆ°æ•´ä¸ªè¿›ç¨‹ç»“æŸçš„è¿‡ç¨‹ç®¡ç†ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥åŒ…å«ä¸ºå¦‚ä¸‹å‡ ä¸ªç¯èŠ‚:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ExecStartPre&lt;/code&gt;: å¯åŠ¨å‰ï¼Œ è¯¥æŒ‡ä»¤å¯ç”¨äºåœ¨è¿›ç¨‹å¯åŠ¨å‰åŠ è½½ä¸€äº›åˆ—çš„åŸºç¡€ç¯å¢ƒä»¥åŠåˆå§‹åŒ–æ£€æŸ¥æœºåˆ¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ExecStart&lt;/code&gt;: å¯åŠ¨é€»è¾‘ï¼Œ è¯¥æŒ‡ä»¤ç”¨äºå¯åŠ¨è¿›ç¨‹çš„æ ¸å¿ƒé€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ExecStartPost&lt;/code&gt;: å¯åŠ¨åï¼Œ è¯¥æŒ‡ä»¤ç”¨äºåœ¨å¯åŠ¨è¿›ç¨‹åè¿›è¡Œå›è°ƒçš„ç›¸å…³æ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ExecReload&lt;/code&gt;: çƒ­åŠ è½½ï¼Œ è¯¥æŒ‡ä»¤ç”¨äºå¯¹è¿›ç¨‹è¿›è¡Œçƒ­åŠ è½½ï¼Œé€šå¸¸æƒ…å†µç”¨äº é…ç½®å˜æ›´åçš„çƒ­é‡å¯(&lt;code&gt;/bin/kill -s HUP $MAINPID&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ExecStop&lt;/code&gt;: åœæ­¢ï¼Œ è¯¥æŒ‡ä»¤ç”¨äºå¯¹è¿›ç¨‹æ‰§è¡ŒæŒ‡å®šçš„åœæ­¢æ“ä½œï¼Œé€šå¸¸æƒ…å†µä¸‹ç”¨äºè¿›è¡Œè¿›ç¨‹çš„ä¼˜é›…åœæ­¢(&lt;code&gt;/bin/kill -s TERM $MAINPID&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ExecStopPost&lt;/code&gt;: åœæ­¢åï¼Œ è¯¥æŒ‡ä»¤ç”¨äºåœ¨è¿›ç¨‹åœæ­¢åï¼Œè¿›è¡Œä¸€äº›åˆ—çš„èµ„æºé‡Šæ”¾å’Œç­‰å¾…æ“ä½œï¼Œå› ä¸ºé€šå¸¸æƒ…å†µå½“è¿›ç¨‹åœæ­¢åï¼Œç›¸å…³èµ„æºä¸èƒ½ç«‹å³é‡Šæ”¾ï¼Œå› ä¸ºæœåŠ¡ä¸ç®—çœŸæ­£å‘—åœæ­¢ï¼Œå¦‚æœæ­¤æ—¶è®¤ä¸ºè¿›ç¨‹å·²åœæ­¢è€Œå¼ºåˆ¶åšä¸€äº›æ“ä½œï¼Œå¯èƒ½ä¼šå½±å“åˆ°ç›¸å…³æœåŠ¡å¤„ç†é€»è¾‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TimeoutStopSec&lt;/code&gt;: åœæ­¢è¶…æ—¶æ—¶é—´ï¼Œ æŒ‡å®šæœåŠ¡åœæ­¢åçš„è¶…æ—¶æ—¶é—´ï¼Œä¸€èˆ¬åœ¨é€šçŸ¥æœåŠ¡æ˜¯ä¼šä½¿ç”¨SIGTERMä¿¡å·ï¼Œå¾…è¶…æ—¶æ—¶é—´å†…èµ„æºæœªé‡Šæ”¾ï¼Œå°†ä½¿ç”¨SIGKILLè¿›è¡Œå¼ºåˆ¶æ€æ­»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;é‡å¯ç­–ç•¥&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Restart&lt;/code&gt;: å½“æœåŠ¡è¿›ç¨‹ æ­£å¸¸é€€å‡ºã€å¼‚å¸¸é€€å‡ºã€è¢«æ€æ­»ã€è¶…æ—¶çš„æ—¶å€™ï¼Œ æ˜¯å¦é‡æ–°å¯åŠ¨è¯¥æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RestartSec&lt;/code&gt;: å¤šä¹…åé‡å¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;StartLimitBurst&lt;/code&gt;:  å¯åŠ¨çš„æœ€å¤§æ¬¡æ•°é™åˆ¶ï¼Œè¶…è¿‡ååœæ­¢ç»§ç»­é‡å¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;StartLimitInterval&lt;/code&gt;: å¯åŠ¨æ—¶é—´çš„æœ€å¤§é—´éš”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€è°“&amp;quot;æœåŠ¡è¿›ç¨‹&amp;quot; æ˜¯æŒ‡ &lt;code&gt;ExecStartPre=, ExecStartPost=, ExecStop=, ExecStopPost=, ExecReload= &lt;/code&gt;ä¸­è®¾ç½®çš„è¿›ç¨‹ã€‚ å½“è¿›ç¨‹æ˜¯ç”±äº systemd çš„æ­£å¸¸æ“ä½œ(ä¾‹å¦‚ systemctl stop|restart)è€Œè¢«åœæ­¢æ—¶ï¼Œ è¯¥æœåŠ¡ä¸ä¼šè¢«é‡æ–°å¯åŠ¨ã€‚ æ‰€è°“&amp;quot;è¶…æ—¶&amp;quot;å¯ä»¥æ˜¯çœ‹é—¨ç‹—çš„&amp;quot;keep-alive ping&amp;quot;è¶…æ—¶ï¼Œ ä¹Ÿå¯ä»¥æ˜¯ systemctl start|reload|stop æ“ä½œè¶…æ—¶.&lt;/p&gt;
&lt;p&gt;å¯é€‰å€¼å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;no&lt;/code&gt;:é»˜è®¤å€¼ï¼Œä¸ä¼šé‡å¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on-success&lt;/code&gt;: æœåŠ¡è¿›ç¨‹æ­£å¸¸é€€å‡º(é€€å‡ºç ä¸º&amp;quot;0&amp;quot;ï¼Œ æˆ–è€…è¿›ç¨‹æ”¶åˆ° SIGHUP, SIGINT, SIGTERM, SIGPIPE ä¿¡å·ä¹‹ä¸€ï¼Œ å¹¶ä¸” é€€å‡ºç ç¬¦åˆ SuccessExitStatus= çš„è®¾ç½®)æ—¶è¿›è¡Œé‡å¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on-failure&lt;/code&gt;: ä»…åœ¨æœåŠ¡è¿›ç¨‹å¼‚å¸¸é€€å‡º(é€€å‡ºç ä¸ä¸º&amp;quot;0&amp;quot;ï¼Œ æˆ–è€… è¿›ç¨‹è¢«å¼ºåˆ¶æ€æ­»(åŒ…æ‹¬ &amp;ldquo;core dump&amp;quot;ä»¥åŠæ”¶åˆ° SIGHUP, SIGINT, SIGTERM, SIGPIPE ä¹‹å¤–çš„å…¶ä»–ä¿¡å·)ï¼Œ æˆ–è€…è¿›ç¨‹ç”±äº çœ‹é—¨ç‹—è¶…æ—¶ æˆ–è€… systemd çš„æ“ä½œè¶…æ—¶ è€Œè¢«æ€æ­»)æ—¶é‡å¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;always&lt;/code&gt;: æ— æ¡ä»¶é‡å¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;èµ„æºé™åˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå¯¹ç›®æ ‡æœåŠ¡æˆ–è¿›ç¨‹è¿›è¡Œä¸€å®šèµ„æºçš„é™åˆ¶ï¼Œä»¥é˜²æ­¢æœåŠ¡bugå¯¼è‡´çš„æ•´ä¸ªç³»ç»Ÿèµ„æºè€—å°½ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨systemd ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤è¿›è¡Œç®€å•çš„èµ„æºé™åˆ¶:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;LimitCPU&lt;/code&gt;: é™åˆ¶CPUä½¿ç”¨æ—¶é•¿(ç§’)ï¼Œç­‰åŒ&lt;code&gt;ulimit -t&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LimitNOFILE&lt;/code&gt;: é™åˆ¶è¿›ç¨‹ä½¿ç”¨çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡ï¼Œç­‰åŒ&lt;code&gt;ulimit -n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LimitNPROC&lt;/code&gt;: é™åˆ¶è¿›ç¨‹çš„æ•°é‡ï¼Œç­‰åŒäº&lt;code&gt;ulimit -u&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; ä¸€èˆ¬ä¸ºé˜²æ­¢æœåŠ¡å¯¼è‡´çš„ç³»ç»Ÿè¿‡è½½ï¼Œä¼šå¯¹è¿›ç¨‹è®¾ç½®ä¸€äº›èµ„æºé™åˆ¶&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è®¡ç®—èµ„æºè°ƒåº¦&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CPUSchedulingPolicy&lt;/code&gt;: è®¾ç½®CPUçš„è°ƒåº¦ç­–ç•¥å¯è®¾ä¸º other, batch, idle, fifo, rr ä¹‹ä¸€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CPUSchedulingPriority&lt;/code&gt;: è®¾ç½®CPUè°ƒåº¦çš„ä¼˜å…ˆçº§ï¼Œå–å†³äºè°ƒåº¦ç­–ç•¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CPUAffinity&lt;/code&gt;: è®¾ç½®CPUçš„äº²å’Œæ€§ï¼Œå¯ä»¥æŒ‡å®šcpuçš„ç¼–å·ï¼Œæ¯”å¦‚0,1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EnvironmentFile=/etc/calico/calico.env
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStartPre=-/usr/bin/docker pull ${CALICO_IMAGE}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStart=/usr/bin/docker run --net=host --privileged ${CALICO_IMAGE}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStop=-/usr/bin/docker stop calico-node
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStopPost=-/usr/bin/docker rm -f -v calico-node
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Restart=on-failure
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RestartSec=5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;StartLimitBurst=3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;StartLimitInterval=60s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CPUSchedulingPolicy=fifo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CPUAffinity=0,2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LimitNOFILE=1000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LimitNPROC=3000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LimitCORE=infinity
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;install-å—&#34;&gt;Install å—&lt;/h3&gt;
&lt;p&gt;åœ¨systemd çš„æœåŠ¡ç®¡ç†ä¸­ï¼Œinstallå—ä¸»è¦åŒ…å«äº†å•å…ƒçš„å¯ç”¨ä¿¡æ¯ã€‚åªæœ‰systemctl çš„enable/disable æŒ‡ä»¤ä¼šè°ƒç”¨è¯¥éƒ¨åˆ†å†…å®¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Alias&lt;/code&gt;: æŒ‡å®šæœåŠ¡çš„åˆ«åä¿¡æ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WantedBy/RequiredBy&lt;/code&gt;: è®¾ç½®å¯ç”¨æœåŠ¡çš„ä¾èµ–æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Alias=syslog.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;å®Œæ•´ç¤ºä¾‹&#34;&gt;å®Œæ•´ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;systemd service å®Œæ•´é…ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat  /usr/lib/systemd/system/docker.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Description=Docker CE Binary Release.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Documentation=https://docs.docker.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Documentation=https://download.docker.com/linux/static/stable/x86_64/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;After=network-online.target firewalld.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Wants=network-online.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Type=notify
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Environment=&amp;#34;WELCOME=BGBiao Docker Base Environment.&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStartPre=/bin/echo ${WELCOME}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStart=/usr/local/sbin/dockerd  $DOCKER_NETWORK_OPTIONS --live-restore --data-root /opt/data/docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStartPost=/usr/sbin/iptables -P FORWARD ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecReload=/bin/kill -s HUP ${MAINPID}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStop=/bin/kill -s TERM ${MAINPID}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ExecStopPost=/usr/bin/sleep 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LimitNOFILE=100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LimitNPROC=3000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LimitCORE=infinity
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TimeoutStartSec=0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Delegate=yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;KillMode=process
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Restart=always
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;StartLimitBurst=3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;StartLimitInterval=60s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;service ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åŠ è½½é…ç½®å¹¶é‡å¯docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ systemctl restart docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹æ•´ä¸ªå¯åŠ¨è¿‡ç¨‹ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat /var/log/messages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 14:56:39 host-192-168-0-171 systemd: Reloading.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 14:56:43 host-192-168-0-171 systemd: Starting Docker CE Binary Release....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 14:56:43 host-192-168-0-171 echo: BGBiao Docker Base Environment.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 14:56:43 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T14:56:43.390806162+08:00&amp;#34; level=info msg=&amp;#34;Starting up&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 14:56:43 host-192-168-0-171 systemd: Started Docker CE Binary Release..
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åœæ­¢dockerï¼ŒæŸ¥çœ‹æ•´ä¸ªè¿‡ç¨‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ echo &amp;gt;  /var/log/messages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ systemctl stop docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat /var/log/messages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 systemd: Stopping Docker CE Binary Release....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T15:01:11.618357841+08:00&amp;#34; level=info msg=&amp;#34;Processing signal &amp;#39;terminated&amp;#39;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T15:01:11.618919303+08:00&amp;#34; level=info msg=&amp;#34;Daemon shutdown complete&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T15:01:11.618948850+08:00&amp;#34; level=info msg=&amp;#34;stopping healthcheck following graceful shutdown&amp;#34; module=libcontainerd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T15:01:11.618971913+08:00&amp;#34; level=info msg=&amp;#34;stopping event stream following graceful shutdown&amp;#34; error=&amp;#34;context canceled&amp;#34; module=libcontainerd namespace=plugins.moby
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T15:01:11.618952081+08:00&amp;#34; level=info msg=&amp;#34;stopping event stream following graceful shutdown&amp;#34; error=&amp;#34;context canceled&amp;#34; module=libcontainerd namespace=moby
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:11 host-192-168-0-171 dockerd: time=&amp;#34;2020-10-31T15:01:11.618954836+08:00&amp;#34; level=info msg=&amp;#34;Processing signal &amp;#39;terminated&amp;#39;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Oct 31 15:01:15 host-192-168-0-171 systemd: Stopped Docker CE Binary Release..
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ systemctl enable docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¼šåœ¨å¤šç”¨æˆ·ä¸‹åˆ›å»ºæœåŠ¡è½¯é“¾ï¼Œå¯ä¿è¯ç³»ç»Ÿåœ¨å¯åŠ¨æ—¶é»˜è®¤å¯åŠ¨æœåŠ¡
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ls -ld /etc/systemd/system/multi-user.target.wants/docker.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lrwxrwxrwx 1 root root 38 Oct 31 15:05 /etc/systemd/system/multi-user.target.wants/docker.service -&amp;gt; /usr/lib/systemd/system/docker.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹èµ„æºé™åˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## ç³»ç»Ÿçš„èµ„æºé™åˆ¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ulimit -a | egrep  &amp;#39;(files|processes)&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;open files                      (-n) 65535
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;max user processes              (-u) 63457
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ systemctl status docker | grep -i pid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Main PID: 21926 (dockerd)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## dockerd è¿›ç¨‹çš„èµ„æºé™åˆ¶(ç”Ÿäº§ç¯å¢ƒéœ€ä¸¥æ ¼è®¾ç½®å‚æ•°)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat /proc/21926/limits | egrep &amp;#39;(files|processes)&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Max processes             3000                 3000                 processes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Max open files            100                  100                  files
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç”±ä¸Šè¿°çš„æ•´ä¸ªè¿‡ç¨‹å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨æ•´ä¸ª dockerd çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œsystemd å¦‚ä½•å»ç®¡ç†è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tips&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºèµ„æºé™åˆ¶ï¼ŒLinuxä¸­çš„&lt;code&gt;/etc/security/limits.conf&lt;/code&gt; ä½œç”¨åŸŸå˜å°äº†(åªå¯¹ç™»å½•ç”¨æˆ·çš„èµ„æºè¿›è¡Œé™åˆ¶)ï¼Œå¯èƒ½å¯¹systemd çš„ service çš„èµ„æºé™åˆ¶ä¸ç”Ÿæ•ˆï¼Œå› æ­¤å¯¹äºsystemd servieçš„èµ„æºé™åˆ¶ï¼Œå¯ä»¥å¯¹å…¨å±€æ–‡ä»¶è¿›è¡Œä¿®æ”¹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat /etc/systemd/system.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DefaultLimitNOFILE=100000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DefaultLimitNPROC=65535
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;http://www.jinbuguo.com/systemd/systemd.index.html&#34;&gt;å‚è€ƒæ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>ElasticSearchå®¹é‡ç®¡ç†å®è·µ</title>
      <link>https://bgbiao.top/post/elasticsearch%E5%AE%B9%E9%87%8F%E7%AE%A1%E7%90%86%E5%AE%9E%E8%B7%B5/</link>
      <pubDate>Sat, 04 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/elasticsearch%E5%AE%B9%E9%87%8F%E7%AE%A1%E7%90%86%E5%AE%9E%E8%B7%B5/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;å‰è¨€: äº†è§£ ES çš„ç´¢å¼•ç®¡ç†æ–¹æ³•æœ‰åŠ©äºæ‰¬é•¿é¿çŸ­ï¼Œæ›´å¥½çš„åˆ©ç”¨ ES çš„å¼ºå¤§åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯å½“é‡åˆ°æ€§èƒ½é—®é¢˜æ—¶ï¼ŒåŸå› é€šå¸¸éƒ½å¯å›æº¯è‡³æ•°æ®çš„ç´¢å¼•æ–¹å¼ä»¥åŠé›†ç¾¤ä¸­çš„åˆ†ç‰‡æ•°é‡ã€‚å¦‚æœæœªèƒ½åœ¨ä¸€å¼€å§‹åšå‡ºæœ€ä½³é€‰æ‹©ï¼Œéšç€æ•°æ®é‡è¶Šæ¥è¶Šå¤§ï¼Œä¾¿æœ‰å¯èƒ½ä¼šå¼•å‘æ€§èƒ½é—®é¢˜ã€‚é›†ç¾¤ä¸­çš„æ•°æ®è¶Šå¤šï¼Œè¦çº æ­£è¿™ä¸€é—®é¢˜å°±è¶Šéš¾ï¼Œæœ¬æ–‡æ—¨åœ¨å¸®åŠ©å¤§å®¶äº†è§£ ES å®¹é‡ç®¡ç†çš„æ–¹æ³•ï¼Œåœ¨ä¸€å¼€å§‹å°±ç®¡ç†å¥½ç´¢å¼•çš„å®¹é‡ï¼Œé¿å…ç»™åé¢ç•™å‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆè¦åšå®¹é‡ç®¡ç†&#34;&gt;ä¸ºä»€ä¹ˆè¦åšå®¹é‡ç®¡ç†&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ ES è¦é¢å¯¹çš„ç¬¬ä¸€ä¸ªé—®é¢˜é€šå¸¸æ˜¯ç´¢å¼•å®¹é‡çš„è§„åˆ’ï¼Œä¸åˆç†çš„åˆ†ç‰‡æ•°ï¼Œå‰¯æœ¬æ•°å’Œåˆ†ç‰‡å¤§å°ä¼šå¯¹ç´¢å¼•çš„æ€§èƒ½äº§ç”Ÿç›´æ¥çš„å½±å“ã€‚&lt;/li&gt;
&lt;li&gt;Elasticsearch ä¸­çš„æ¯ä¸ªç´¢å¼•éƒ½ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†ç‰‡ç»„æˆçš„ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æ˜¯ä¸€ä¸ª Lucene ç´¢å¼•å®ä¾‹ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä½œä¸€ä¸ªç‹¬ç«‹çš„æœç´¢å¼•æ“ï¼Œå®ƒèƒ½å¤Ÿå¯¹ Elasticsearch é›†ç¾¤ä¸­çš„æ•°æ®å­é›†è¿›è¡Œç´¢å¼•å¹¶å¤„ç†ç›¸å…³æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢å’Œå†™å…¥çš„æ€§èƒ½ä¸ç´¢å¼•çš„å¤§å°æ˜¯æ­£ç›¸å…³çš„ï¼Œæ‰€ä»¥è¦ä¿è¯é«˜æ€§èƒ½ï¼Œä¸€å®šè¦é™åˆ¶ç´¢å¼•çš„å¤§å°ï¼Œå…·ä½“æ¥è¯´æ˜¯é™åˆ¶åˆ†ç‰‡æ•°é‡å’Œå•ä¸ªåˆ†ç‰‡çš„å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†ç‰‡å’Œç´¢å¼•çš„å¤§å°å¤ªå¤§å’Œå¤ªå¤šå®¹æ˜“å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://www.elastic.co/cn/blog/how-many-shards-should-i-have-in-my-elasticsearch-cluster?nsukey=GabPjf5OZF0QUSaLqrsDSnv0gl3NYrMXkFpMCqgodCTJVDuEWGlFFEpd2M4FL6peUue8SXsLBtSh24jg5sT73xK%2BIMFUQ%2FcrYnpp2fjHbiId72hUU4n6CPs4SW78M0r4sAldN%2BGI%2B2kiYoGJ4G2p%2Br767kWmctAZhBWU99rxb9he%2BAwTBK%2B1lA49grlc7tQ2xU7XHd6xhx%2FCAy%2FneZWNSg%3D%3D&#34;&gt;å®˜æ–¹åšå®¢å»ºè®®çš„åˆ†ç‰‡æ•°é‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„:&lt;/strong&gt; ES å®˜æ–¹æ¨èåˆ†ç‰‡çš„å¤§å°æ˜¯ 20G - 40Gï¼Œæœ€å¤§ä¸èƒ½è¶…è¿‡ 50Gã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•ç®¡ç†esçš„å®¹é‡&#34;&gt;å¦‚ä½•ç®¡ç†ESçš„å®¹é‡&lt;/h3&gt;
&lt;p&gt;åœ¨ä»‹ç»äº†ä¸ºä½•è¦ç®¡ç†ESçš„å®¹é‡åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦è€ƒè™‘çš„æ˜¯å¦‚ä½•è¿›è¡Œç®¡ç†ï¼Œä»¥ä¸‹ä¸ºé€šå¸¸çš„åšæ³•ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-ä½¿ç”¨åœ¨ç´¢å¼•åç§°ä¸Šå¸¦ä¸Šæ—¶é—´çš„æ–¹æ³•ç®¡ç†ç´¢å¼•&#34;&gt;1. ä½¿ç”¨åœ¨ç´¢å¼•åç§°ä¸Šå¸¦ä¸Šæ—¶é—´çš„æ–¹æ³•ç®¡ç†ç´¢å¼•&lt;/h4&gt;
&lt;p&gt;ä¾‹å¦‚: &amp;lt;logs-{now{yyyyMMddHH|+08:00}}-000001&amp;gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨HTTPæ¥å£åˆ›å»ºç´¢å¼•æ—¶ï¼Œç´¢å¼•åç§°è¦è¿›è¡Œurlencodeç¼–ç :&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.1å†™å…¥å’ŒæŸ¥è¯¢ç´¢å¼•&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åˆ›å»ºç´¢å¼•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ PUT /%3Cnginxlogs-%7Bnow%7ByyyyMMddHH%7C%2B08%3A00%7D%7D-000001%3E
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;aliases&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;nginxlogs-read-alias&amp;#34;: {}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¿”å›ç»“æœ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;acknowledged&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;shards_acknowledged&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;index&amp;#34; : &amp;#34;nginxlogs-2020061518-000001&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å†™å…¥æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ POST /%3Cnginxlogs-%7Bnow%7ByyyyMMddHH%7C%2B08%3A00%7D%7D-000001%3E/_doc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_index&amp;#34; : &amp;#34;nginxlogs-2020061518-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_id&amp;#34; : &amp;#34;VNZut3IBgpLCCHbxDzDB&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_seq_no&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_primary_term&amp;#34; : 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥è¯¢æ•°æ® 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## ä½¿ç”¨å¤šç´¢å¼•æŸ¥è¯¢
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ GET /nginxlogs-2020061518-000001,nginxlogs-2020061519-000001/_search
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;query&amp;#34;:{&amp;#34;match_all&amp;#34;:{}}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;## ä½¿ç”¨é€šé…ç¬¦æŸ¥è¯¢å¤šç´¢å¼•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ GET /nginxlogs-*/_search
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;query&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;match_all&amp;#34;: {}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;took&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;timed_out&amp;#34; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;total&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;successful&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;skipped&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;hits&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;total&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;value&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;relation&amp;#34; : &amp;#34;eq&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;max_score&amp;#34; : 1.0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;hits&amp;#34; : [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;nginxlogs-2020061518-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;VNZut3IBgpLCCHbxDzDB&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_score&amp;#34; : 1.0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_source&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;name&amp;#34; : &amp;#34;xxx&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä½¿ç”¨åˆ«åæŸ¥è¯¢
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ GET /nginxlogs-read-alias/_search
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;query&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;match_all&amp;#34;: {}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;1.2æ—¶é—´ç´¢å¼•çš„ç¼ºç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„:&lt;/strong&gt; è™½ç„¶ä½¿ç”¨å¸¦æ—¶é—´çš„ç´¢å¼•å¯ä»¥å¸¦æ¥å¾ˆå¤šæ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨å®é™…è¿‡ç¨‹ä¸­ä½¿ç”¨å¸¦æ—¶é—´çš„ç´¢å¼•ä¹Ÿæœ‰ä¸€å®šçš„ç¼ºé™·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºå†™å…¥ä¹‹åéœ€è¦æ•°æ®å˜æ›´çš„ä¸æ˜¯ç”¨æ—¶é—´ç´¢å¼•&lt;/li&gt;
&lt;li&gt;ç›´æ¥ä½¿ç”¨æ—¶é—´åˆ†å‰²ä¹Ÿå¯èƒ½å­˜åœ¨æŸæ®µæ—¶é—´æ•°æ®é‡é›†ä¸­ï¼Œå¯¼è‡´ç´¢å¼•åˆ†ç‰‡è¶…è¿‡è®¾è®¡å®¹é‡çš„é—®é¢˜ï¼Œå¯èƒ½å½±å“æ€§èƒ½&lt;/li&gt;
&lt;li&gt;ç´¢å¼•ç»´æŠ¤èµ·æ¥æ¯”è¾ƒéº»çƒ¦(å½“ç„¶å¯ä»¥ä½¿ç”¨templateè¿›è¡Œç®¡ç†ï¼Œå‰ææ˜¯æ»¡è¶³ä¸šåŠ¡éœ€æ±‚)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-ä½¿ç”¨-rollover-ç®¡ç†ç´¢å¼•&#34;&gt;2. ä½¿ç”¨ Rollover ç®¡ç†ç´¢å¼•&lt;/h4&gt;
&lt;p&gt;Rollover çš„åŸç†æ˜¯ä½¿ç”¨ä¸€ä¸ªåˆ«åæŒ‡å‘çœŸæ­£çš„ç´¢å¼•ï¼Œå½“æŒ‡å‘çš„ç´¢å¼•æ»¡è¶³ä¸€å®šæ¡ä»¶ï¼ˆ&lt;strong&gt;æ–‡æ¡£æ•°æˆ–æ—¶é—´æˆ–ç´¢å¼•å¤§å°&lt;/strong&gt;ï¼‰æ›´æ–°å®é™…æŒ‡å‘çš„ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.1åˆ›å»ºç´¢å¼•&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PUT myro-000001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;aliases&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;myro_write_alias&amp;#34;:{}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;2.2é€šè¿‡åˆ«åå†™å…¥æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä½¿ç”¨&lt;code&gt;bulk&lt;/code&gt;æ¥å£è¿›è¡Œå†™å…¥æ•°æ®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ POST /myro_write_alias/_bulk?refresh=true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;create&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;create&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;create&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;took&amp;#34; : 37,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;errors&amp;#34; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;items&amp;#34; : [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;create&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;myro-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;wVvFtnIBUTVfQxRWwXyM&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;forced_refresh&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_seq_no&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_primary_term&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;status&amp;#34; : 201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;create&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;myro-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;wlvFtnIBUTVfQxRWwXyM&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;forced_refresh&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_seq_no&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_primary_term&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;status&amp;#34; : 201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;create&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;myro-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;w1vFtnIBUTVfQxRWwXyM&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;forced_refresh&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_seq_no&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_primary_term&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;status&amp;#34; : 201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;2.3æ‰§è¡Œ rollover æ“ä½œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç»™ç´¢å¼•è®¾ç½®å…·ä½“çš„&lt;code&gt;rollover&lt;/code&gt;æ¡ä»¶ï¼Œä»»æ„ä¸€ä¸ªæ¡ä»¶è§¦å‘éƒ½ä¼šè¿›è¡Œrollover:&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬ç»™ç´¢å¼•åˆ«åè®¾ç½®rolloverè§„åˆ™ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€å¤§æ–‡æ¡£æ•°ä¸º3&lt;/li&gt;
&lt;li&gt;åˆ†ç‰‡æœ€å¤§å¤§å°ä¸º5gb&lt;/li&gt;
&lt;li&gt;æ–‡æ¡£æœ€é•¿æ—¶é—´7d&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ POST /myro_write_alias/_rollover
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;conditions&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;max_age&amp;#34;:   &amp;#34;7d&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;max_docs&amp;#34;:  3,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;max_size&amp;#34;: &amp;#34;5gb&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;acknowledged&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;shards_acknowledged&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;old_index&amp;#34; : &amp;#34;myro-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;new_index&amp;#34; : &amp;#34;myro-000002&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;rolled_over&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;dry_run&amp;#34; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;conditions&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;[max_docs: 3]&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;[max_size: 5gb]&amp;#34; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;[max_age: 7d]&amp;#34; : false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»è®¾ç½®äº†rolloverè§„åˆ™ï¼Œè¿™ä¸ªæ—¶å€™å°è¯•ç»§ç»­å†™å…¥.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ POST /myro_write_alias/_doc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å‘ç°å·²ç»å†™å…¥æ–°çš„ç´¢å¼•ï¼Œå› ä¸ºå‰é¢å·²ç»æœ‰ä¸‰ä¸ªdocï¼Œè¿™æ¬¡å†™å…¥è§¦å‘äº†rolloverè§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_index&amp;#34; : &amp;#34;myro-000002&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_id&amp;#34; : &amp;#34;BdbMtnIBgpLCCHbxhihi&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_seq_no&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;_primary_term&amp;#34; : 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;2.4ä½¿ç”¨ Rollover çš„ç¼ºç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿…é¡»å¯¹ç´¢å¼•åˆ«åå…ˆè¿›è¡Œ&lt;code&gt;rollover&lt;/code&gt;è§„åˆ™è®¾ç½®æ‰å¯ä»¥è¿›è¡Œè‡ªåŠ¨roll&lt;/li&gt;
&lt;li&gt;å¯¹äºå¼€å‘è€…ä¸å¤Ÿå‹å¥½&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-ä½¿ç”¨-ilmindex-lifecycle-management--ç®¡ç†ç´¢å¼•&#34;&gt;3. ä½¿ç”¨ ILMï¼ˆIndex Lifecycle Management ï¼‰ ç®¡ç†ç´¢å¼•&lt;/h4&gt;
&lt;p&gt;ES ä¸€ç›´åœ¨ç´¢å¼•ç®¡ç†è¿™å—è¿›è¡Œä¼˜åŒ–è¿­ä»£ï¼Œä» 6.7 ç‰ˆæœ¬æ¨å‡ºäº†ç´¢å¼•ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆIndex Lifecycle Management ï¼Œç®€ç§° ILM) æœºåˆ¶ï¼Œæ˜¯ç›®å‰å®˜æ–¹æä¾›çš„æ¯”è¾ƒå®Œå–„çš„ç´¢å¼•ç®¡ç†æ–¹æ³•ã€‚æ‰€è°“ Lifecycle (ç”Ÿå‘½å‘¨æœŸ) æ˜¯æŠŠç´¢å¼•å®šä¹‰äº†å››ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1ggffd4ohqzj30r505a0tb.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Hot&lt;/code&gt;: ç´¢å¼•å¯å†™å…¥ï¼Œä¹Ÿå¯æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„çƒ­æ•°æ®ï¼Œä¸ºä¿è¯æ€§èƒ½æ•°æ®é€šå¸¸éƒ½æ˜¯åœ¨å†…å­˜ä¸­çš„&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Warm&lt;/code&gt;: ç´¢å¼•ä¸å¯å†™å…¥ï¼Œä½†å¯æŸ¥è¯¢ï¼Œä»‹äºçƒ­å’Œå†·ä¹‹é—´ï¼Œæ•°æ®å¯ä»¥æ˜¯å…¨å†…å­˜çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨ SSD çš„ç¡¬ç›˜ä¸Šçš„&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cold&lt;/code&gt;: ç´¢å¼•ä¸å¯å†™å…¥ï¼Œä½†å¾ˆå°‘è¢«æŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„æ…¢ç‚¹ä¹Ÿå¯æ¥å—ï¼ŒåŸºæœ¬ä¸å†ä½¿ç”¨çš„æ•°æ®ï¼Œæ•°æ®é€šå¸¸åœ¨å¤§å®¹é‡çš„ç£ç›˜ä¸Š&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Delete&lt;/code&gt;: ç´¢å¼•å¯è¢«å®‰å…¨çš„åˆ é™¤&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ 4 ä¸ªé˜¶æ®µæ˜¯ ES å®šä¹‰çš„ä¸€ä¸ªç´¢å¼•ä»ç”Ÿåˆ°æ­»çš„è¿‡ç¨‹ï¼ŒHot -&amp;gt; Warm -&amp;gt; Cold -&amp;gt; Delete 4 ä¸ªé˜¶æ®µåªæœ‰ Hot é˜¶æ®µæ˜¯å¿…é¡»çš„ï¼Œå…¶ä»– 3 ä¸ªé˜¶æ®µæ ¹æ®ä¸šåŠ¡çš„éœ€æ±‚å¯é€‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.1ç®€å†Lifecycleç­–ç•¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1ggfff9rinjj30u00rc77v.jpg&#34; alt=&#34;kibinaä¸­åˆ›å»ºlifecycleç­–ç•¥&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ï¼Œåªå¯ç”¨äº†&lt;code&gt;Hot&lt;/code&gt;é˜¶æ®µï¼Œå¹¶ä¸”è®¾ç½®äº†rolloverè§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹åº”çš„HTTPè¯·æ±‚å‚æ•°å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ PUT _ilm/policy/myindex-lifecycle
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;policy&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;phases&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;hot&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;min_age&amp;#34;: &amp;#34;0ms&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;actions&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;rollover&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;max_age&amp;#34;: &amp;#34;30d&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;max_size&amp;#34;: &amp;#34;50gb&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;max_docs&amp;#34;: 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;set_priority&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;priority&amp;#34;: 100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;4.2å»ºç«‹ç´¢å¼•æ¨¡æ¿&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ PUT /_template/myindex_template
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;index_patterns&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;myindex-*&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ],
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;aliases&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;myindex_reade_alias&amp;#34;: {}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;settings&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;index&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;lifecycle&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;name&amp;#34;: &amp;#34;myindex-lifecycle&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;rollover_alias&amp;#34;: &amp;#34;myindex_write_alias&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;refresh_interval&amp;#34;: &amp;#34;30s&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;number_of_shards&amp;#34;: &amp;#34;12&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;number_of_replicas&amp;#34;: &amp;#34;1&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;mappings&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;properties&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;name&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;type&amp;#34;: &amp;#34;keyword&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡æ¿åŒ¹é…ä»¥ç´¢å¼•å‰ç¼€å¼€å¤´çš„ç´¢å¼•(myindex-)&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ­¤æ¨¡æ¿çš„ç´¢å¼•ä¼šè‡ªåŠ¨åˆ›å»º&lt;code&gt;myindex_write_alias&lt;/code&gt;çš„åˆ«åï¼Œæ–¹ä¾¿æ•°æ®æ£€ç´¢&lt;/li&gt;
&lt;li&gt;æ¨¡ç‰ˆç»‘å®šäº†ä¸Šé¢åˆ›å»ºçš„ Lifecycle ç­–ç•¥ï¼Œå¹¶ä¸”ç”¨äº rollover çš„åˆ«åæ˜¯&lt;code&gt;myindex_write_alias&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;4.3åˆ›å»ºç´¢å¼•&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ PUT /myindex-testindex-000001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;aliases&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;myindex_write_alias&amp;#34;:{}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;4.4æŸ¥çœ‹ç´¢å¼•é…ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ GET /myindex-testindex-000001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;myindex-testindex-000001&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;aliases&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;myindex_reade_alias&amp;#34; : { },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;myindex_write_alias&amp;#34; : { }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;mappings&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;dynamic_templates&amp;#34; : [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;message_full&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;match&amp;#34; : &amp;#34;message_full&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;mapping&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &amp;#34;fields&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;#34;keyword&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &amp;#34;ignore_above&amp;#34; : 2048,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &amp;#34;type&amp;#34; : &amp;#34;keyword&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &amp;#34;type&amp;#34; : &amp;#34;text&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;message&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;match&amp;#34; : &amp;#34;message&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;mapping&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &amp;#34;type&amp;#34; : &amp;#34;text&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;strings&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;match_mapping_type&amp;#34; : &amp;#34;string&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;mapping&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &amp;#34;type&amp;#34; : &amp;#34;keyword&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ],
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;properties&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;name&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;type&amp;#34; : &amp;#34;keyword&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;settings&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;index&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;lifecycle&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;name&amp;#34; : &amp;#34;myindex-lifecycle&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;rollover_alias&amp;#34; : &amp;#34;myindex_write_alias&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;refresh_interval&amp;#34; : &amp;#34;30s&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;number_of_shards&amp;#34; : &amp;#34;12&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;translog&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;sync_interval&amp;#34; : &amp;#34;5s&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;durability&amp;#34; : &amp;#34;async&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;provided_name&amp;#34; : &amp;#34;myindex-testindex-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;max_result_window&amp;#34; : &amp;#34;65536&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;creation_date&amp;#34; : &amp;#34;1592222799955&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;unassigned&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;node_left&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;#34;delayed_timeout&amp;#34; : &amp;#34;5m&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;priority&amp;#34; : &amp;#34;100&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;number_of_replicas&amp;#34; : &amp;#34;1&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;uuid&amp;#34; : &amp;#34;tPwDbkuvRjKtRHiL4fKcPA&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;version&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;created&amp;#34; : &amp;#34;7050199&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;4.5å†™å…¥æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ POST /myindex_write_alias/_bulk?refresh=true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;create&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;create&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;create&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;name&amp;#34;:&amp;#34;xxx&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;took&amp;#34; : 18,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;errors&amp;#34; : false,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;items&amp;#34; : [
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;create&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;myindex-testindex-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;jF3it3IBUTVfQxRW1Xys&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;forced_refresh&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_seq_no&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_primary_term&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;status&amp;#34; : 201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;create&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;myindex-testindex-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;jV3it3IBUTVfQxRW1Xys&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;forced_refresh&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_seq_no&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_primary_term&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;status&amp;#34; : 201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;#34;create&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_index&amp;#34; : &amp;#34;myindex-testindex-000001&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_type&amp;#34; : &amp;#34;_doc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_id&amp;#34; : &amp;#34;jl3it3IBUTVfQxRW1Xys&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_version&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;result&amp;#34; : &amp;#34;created&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;forced_refresh&amp;#34; : true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_shards&amp;#34; : {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;total&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;successful&amp;#34; : 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &amp;#34;failed&amp;#34; : 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_seq_no&amp;#34; : 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;_primary_term&amp;#34; : 1,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;#34;status&amp;#34; : 201
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;4.6é…ç½® Lifecycle è‡ªåŠ¨ Rollover çš„æ—¶é—´é—´éš”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºElasticSearchå¹¶ä¸æ˜¯ä¸€ä¸ªrealtimeçš„çš„ç³»ç»Ÿï¼Œå› æ­¤å¾ˆå¤šæ“ä½œå¹¶ä¸èƒ½åŠæ—¶ç”Ÿæ•ˆï¼Œå› æ­¤éœ€è¦åœ¨lifecycleä¸­è®¾ç½®æ—¶é—´é—´éš”ã€‚è€ŒElasticSearchä¸­é»˜è®¤çš„&lt;code&gt;ILM&lt;/code&gt;ç­–ç•¥çš„æ—¶é—´é—´éš”ä¸º10minã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¿®æ”¹æ—¶é—´é—´éš”
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ PUT _cluster/settings
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;transient&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;indices.lifecycle.poll_interval&amp;#34;: &amp;#34;3s&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Traefikä¸­çš„502-500çŠ¶æ€ç å¼‚å¸¸æ’æŸ¥</title>
      <link>https://bgbiao.top/post/traefik%E4%B8%AD%E7%9A%84502-500%E7%8A%B6%E6%80%81%E7%A0%81%E5%BC%82%E5%B8%B8%E6%8E%92%E6%9F%A5/</link>
      <pubDate>Sun, 28 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/traefik%E4%B8%AD%E7%9A%84502-500%E7%8A%B6%E6%80%81%E7%A0%81%E5%BC%82%E5%B8%B8%E6%8E%92%E6%9F%A5/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“åœ¨Kubernetesé›†ç¾¤ä¸­é€šå¸¸ä¼šä½¿ç”¨Ingressæ–¹æ¡ˆæ¥ç»Ÿä¸€ä»£ç†é›†ç¾¤å†…éƒ¨çš„æµé‡ï¼Œè€Œå¸¸ç”¨çš„Ingressæ–¹æ¡ˆä¸º&lt;a href=&#34;https://docs.traefik.io/&#34;&gt;traefik&lt;/a&gt;å’Œ&lt;a href=&#34;https://github.com/kubernetes/ingress-nginx&#34;&gt;nginx&lt;/a&gt;ï¼Œå’Œä¼ ç»Ÿçš„Nginxä½œä¸ºä¼ä¸šå†…éƒ¨çš„åå‘ä»£ç†ä»¥åŠè´Ÿè½½è®¾å¤‡ä¸€æ ·ï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹å¯èƒ½éœ€è¦ä¸“æœ‰çš„é…ç½®æ‰èƒ½æ»¡è¶³éœ€æ±‚ï¼Œå¦åˆ™ä¼šå‡ºç°å¥‡å¥‡æ€ªæ€ªçš„å¼‚å¸¸çŠ¶æ€ç ã€‚æœ¬ç¯‡æ–‡ç« ä¸€èµ·æ¥çœ‹ä¸‹ï¼Œæˆ‘ä»¬åœ¨&lt;code&gt;traefik&lt;/code&gt;ä¸­é‡åˆ°çš„500å’Œ502å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ä¸€å‰è¨€&#34;&gt;ä¸€ã€å‰è¨€&lt;/h3&gt;
&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å‡ ä¸ªåœ¨Nginxä½œä¸ºåå‘ä»£ç†å·¥å…·ä¸­ç»å¸¸é‡åˆ°çš„å‡ ä¸ªå¼‚å¸¸çŠ¶æ€ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;499: å®¢æˆ·ç«¯ä¸»åŠ¨æ–­å¼€è¿æ¥ã€‚é€šå¸¸ä¸ºä¸€æ¬¡è¯·æ±‚æœªåœ¨å®¢æˆ·ç«¯æŒ‡å®šæ—¶é—´å†…è¿”å›ï¼Œå®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­è¿æ¥ï¼Œå®¢æˆ·ç«¯æ— æ•°æ®è¿”å›(åœ¨Nginxä¸­ä¼šè®°å½•499)ã€‚ä¸€èˆ¬æ˜¯&lt;code&gt;å®¢æˆ·ç«¯è¶…æ—¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;500: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚æœåŠ¡å™¨é‡åˆ°æœªçŸ¥é”™è¯¯å¯¼è‡´æ— æ³•å®Œæˆè¯·æ±‚å¤„ç†ï¼Œé€šå¸¸ç”±äºåç«¯ä¸šåŠ¡é€»è¾‘å¼‚å¸¸å¯¼è‡´(æœ¬èº«Bug)&lt;/li&gt;
&lt;li&gt;502: ç½‘å…³é”™è¯¯ã€‚é€šå¸¸ä¸ºç½‘å…³æœªä»ä¸Šæ¸¸æœåŠ¡ä¸­è·å–æœŸæœ›çš„å“åº”(&lt;code&gt;ä¸Šæ¸¸æœªè¿”å›æ•°æ®æˆ–æœªæŒ‰ç…§åè®®çº¦å®šè¿”å›æ•°æ®&lt;/code&gt;)ï¼Œç½‘å…³æ„Ÿè§‰è‡ªå·±æ²¡ç”¨äº†ï¼Œè¿”å›äº†ç½‘å…³é”™è¯¯ã€‚ä¸€èˆ¬æ˜¯&lt;code&gt;åç«¯æœåŠ¡å™¨å®•æœº&lt;/code&gt;æˆ–&lt;code&gt;ä¸šåŠ¡é€»è¾‘è¶…æ—¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;504: ç½‘å…³è¶…æ—¶ã€‚è¡¨ç¤ºç½‘å…³æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸è·å–å“åº”æ•°æ®ã€‚ä¸€èˆ¬æ˜¯Nginxç½‘å…³ä½œä¸ºå®¢æˆ·ç«¯å»å‘ä¸Šæ¸¸æœåŠ¡è¯·æ±‚å“åº”çš„è¿‡ç¨‹ä¸­ï¼ŒNginxç½‘å…³è¶…æ—¶å¯¼è‡´ï¼Œä½†æ­¤æ—¶å¯¹äºä¸Šæ¸¸æœåŠ¡å™¨æ¥å°†ï¼Œå®ƒä¼šç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°ç»“æŸã€‚(&lt;code&gt;Nginxç½‘å…³ä½œä¸ºå®¢æˆ·ç«¯æ—¶çš„è¶…æ—¶&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 499 çš„å®é™…æƒ…å†µå°±æ˜¯ï¼Œå®¢æˆ·ç«¯æŒ‡å®šè¶…æ—¶æ—¶é—´ä¸ºNç§’ï¼Œä½†æ˜¯è¯¥è¯·æ±‚åœ¨æœåŠ¡ç«¯å®é™…éœ€è¦æ‰§è¡ŒMç§’(M&amp;gt;Nç§’)ï¼Œå®¢æˆ·ç«¯ç­‰çš„ä¸è€çƒ¦äº†å°±å…³é—­äº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯¹äº499çŠ¶æ€æ¥è®²ï¼Œè§£å†³æ–¹å¼æ˜¯ä¼˜åŒ–åç«¯ä»£ç é€»è¾‘æˆ–è€…ä¿®æ”¹nginxå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat nginx.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy_ignore_client_abort    on;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl -i -m 3 http://127.0.0.1/hello.php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 502çš„å®é™…æƒ…å†µé€šå¸¸æ˜¯Nginxç½‘å…³åç«¯çš„æœåŠ¡å™¨ç›´æ¥å®•æœºäº†(æ‰€ä»¥å°±æ‹¿ä¸åˆ°ä¸Šæ¸¸çš„å“åº”äº†)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸Šæ¸¸æœåŠ¡å™¨çœŸæ­£çš„æ‰§è¡Œé€»è¾‘è¶…è¿‡äº†ä¸Šæ¸¸æœåŠ¡å™¨çš„è¶…æ—¶æ—¶é—´é™åˆ¶(æ¯”å¦‚php-fpm.confè®¾ç½®request_terminate_timeout5sï¼Œä½†æ˜¯å®é™…çš„ä¸šåŠ¡é€»è¾‘éœ€è¦7sæ‰èƒ½å®Œæˆ)ï¼Œæ­¤æ—¶ä¸Šæ¸¸æœåŠ¡å™¨ç«¯å‡ºç°`ä¸šåŠ¡é€»è¾‘è¶…æ—¶`ï¼Œç»™Nginxç½‘å…³è¿”å›äº†å¼‚å¸¸çš„æ•°æ®é€ æˆçš„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 502æ—¶åç«¯çš„å‡ ç§é”™è¯¯æ—¥å¿—
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; recv() failed (104: Connection reset by peer) while reading response header from upstream
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; upstream prematurely closed connection while reading response header from upstream
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; connect() failed (111: Connection refused) while connecting to upstream
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ•´ä½“æ¥è¯´502å‡ºç°çš„é—®é¢˜é€šå¸¸æ˜¯å› ä¸ºåç«¯æŒ‚äº†ï¼Œæˆ–è€…å› ä¸ºåç«¯è´Ÿè½½å¤ªé«˜ï¼Œæš‚æ—¶ä¸å¯å“åº”
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥åœ¨nginxä¾§å¢åŠ proxy_read_timeoutæ¥æš‚æ—¶ç¼“è§£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat nginx.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy_read_timeout  20s;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 504çš„å®é™…æƒ…å†µå°±æ˜¯å®¢æˆ·ç«¯-&amp;gt;Nginx-&amp;gt;Backendï¼Œåœ¨è¿‡ç¨‹ä¸­Nginxéœ€è¦ä½œä¸ºå®¢æˆ·ç«¯è®¿é—®BackendæœåŠ¡ï¼Œä½†æ˜¯åœ¨Backendè¿˜æ²¡ç”¨æ‰§è¡Œå®Œæˆæ—¶ï¼ŒNginxé¦–å…ˆè¶…è¿‡äº†è‡ªå·±çš„å®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°504çš„å¼‚å¸¸(ä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´è¿”å›ä»€ä¹ˆå‘¢?)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯¹äº504åœºæ™¯è€Œè¨€ï¼Œé€šå¸¸çš„åšæ³•å°±æ˜¯ä¼˜åŒ–Backendçš„é€»è¾‘ï¼Œé€‚å½“å‡å°‘æ‰§è¡Œæ—¶é—´ï¼›å¦å¤–ä¹Ÿå¯ä»¥é€‚å½“çš„å¢åŠ Nginxä½œä¸ºå®¢æˆ·ç«¯æ—¶çš„è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¦çŸ¥é“ï¼Œå½“Nginxä½œä¸ºå®¢æˆ·ç«¯æ—¶ï¼Œæ˜¯ä»¥ä¸€ä¸ªProxyçš„è§’è‰²å­˜åœ¨çš„ï¼Œé…ç½®å¦‚ä¸‹å‚æ•°å³å¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat nginx.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uwsgi_connect_timeout 5;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uwsgi_send_timeout 5;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uwsgi_read_timeout 5;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fastcgi_read_timeout 5;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fastcgi_send_timeout 5;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy_connect_timeout      90;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy_send_timeout         90;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy_read_timeout         90;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;äºŒtraefikä¸­è¯¡å¼‚çš„500å’Œ502&#34;&gt;äºŒã€traefikä¸­è¯¡å¼‚çš„500å’Œ502&lt;/h3&gt;
&lt;h4 id=&#34;traefikåœ¨kubernetesé›†ç¾¤ä¸­çš„éƒ¨ç½²é…ç½®&#34;&gt;traefikåœ¨Kubernetesé›†ç¾¤ä¸­çš„éƒ¨ç½²é…ç½®&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬å½“å‰é›†ç¾¤çš„traefikçš„é…ç½®å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# traefikçš„configmapé…ç½®æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat traefik-config.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ConfigMap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: traefik-config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: kube-system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  traefik.toml: |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    defaultEntryPoints = [&amp;#34;http&amp;#34;,&amp;#34;https&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    debug = false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    logLevel = &amp;#34;INFO&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    InsecureSkipVerify = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    [entryPoints]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      [entryPoints.http]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      address = &amp;#34;:80&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      compress = true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      [entryPoints.https]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      address = &amp;#34;:443&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        [entryPoints.https.tls]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    [web]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      address = &amp;#34;:8080&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    [kubernetes]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    [metrics]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      [metrics.prometheus]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      buckets=[0.1,0.3,1.2,5.0]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      entryPoint = &amp;#34;traefik&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    [ping]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    entryPoint = &amp;#34;http&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# traefikçš„DaemonSeté…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat traefik-ds-v1.7.16.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ServiceAccount
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: traefik-ingress-controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: kube-system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: DaemonSet
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: extensions/v1beta1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: traefik-ingress-controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: kube-system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    k8s-app: traefik-ingress-lb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  template:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        k8s-app: traefik-ingress-lb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        name: traefik-ingress-lb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      affinity:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nodeAffinity:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          requiredDuringSchedulingIgnoredDuringExecution:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            nodeSelectorTerms:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - matchExpressions:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              - key: node-role.kubernetes.io/master
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                operator: DoesNotExist
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      serviceAccountName: traefik-ingress-controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      terminationGracePeriodSeconds: 30
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      hostNetwork: true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      containers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - image: traefik:v1.7.16
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        name: traefik-ingress-lb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - name: http
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          containerPort: 80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          hostPort: 80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - name: admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          containerPort: 8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        securityContext:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          capabilities:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            drop:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - ALL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            add:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - NET_BIND_SERVICE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        args:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --api
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --kubernetes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --logLevel=INFO
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --traefikLog.filePath=/logdata/traefik.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --configfile=/config/traefik.toml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --accesslog.filepath=/logdata/access.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --accesslog.bufferingsize=100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        volumeMounts:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - mountPath: /config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          name: config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - mountPath: /logdata
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          name: access-log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - configMap:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          name: traefik-config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        name: config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: access-log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        hostPath:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          path: /opt/logs/ingress/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: traefik-ingress-service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: kube-system
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    k8s-app: traefik-ingress-lb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  selector:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    k8s-app: traefik-ingress-lb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - protocol: TCP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      port: 80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name: web
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - protocol: TCP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      port: 8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name: admin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;pythonçš„å¯¹å¤–apiæ¥å£&#34;&gt;Pythonçš„å¯¹å¤–APIæ¥å£&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ¥å£å¯¹å¤–çš„ingress
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl  get ingress -n s-data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                     HOSTS                    ADDRESS   PORTS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data-api.bgbiao.cn   data-api.bgbiao.cn             80      236d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ops.bgbiao.cn       ops.bgbiao.cn                 80      236d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æµ‹è¯•å¯¹å¤–æ¥å£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl data-api.bgbiao.cn  -i
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HTTP/1.1 401 Unauthorized
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Access-Control-Allow-Headers: Content-Type, X-TOKEN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Access-Control-Allow-Origin: *
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Length: 58
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Type: application/json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Vary: Accept-Encoding
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Date: Sun, 28 Jun 2020 14:55:00 GMT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ¥å£éœ€è¦ç™»å½•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹ç™»å½•æ¥å£è¿›è¡Œå‹æµ‹æ¥æ¨¡æ‹Ÿé—®é¢˜
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl -X POST  --data &amp;#39;@/root/login.json&amp;#39; -H &amp;#39;Content-type:application/json&amp;#39; http://data-api.bgbiao.cn/account/users/login/   -i
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HTTP/1.1 200 OK
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Access-Control-Allow-Headers: Content-Type, X-TOKEN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Access-Control-Allow-Origin: *
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Length: 250
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Type: application/json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Vary: Accept-Encoding
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Date: Sun, 28 Jun 2020 14:56:33 GMT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;è¯¡å¼‚çš„500å’Œ502&#34;&gt;è¯¡å¼‚çš„500å’Œ502&lt;/h4&gt;
&lt;p&gt;åœ¨æœåŠ¡éƒ¨ç½²å®Œæˆåï¼Œä¸€åˆ‡çš†æ­£å¸¸ï¼Œä½†æ˜¯ç®€å•å‹æµ‹åå‘ç°æœåŠ¡å‡ºç°éƒ¨åˆ†è¯·æ±‚å¤±è´¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä½¿ç”¨abå·¥å…·è¿›è¡Œå‹æµ‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ç”±å‹æµ‹ç»“æœå¯ä»¥å‘ç°ï¼Œ20ä¸ªå¹¶å‘å…±å‹æµ‹200ä¸ªè¯·æ±‚ï¼ŒæœŸé—´å‡ºç°äº†7æ¬¡å¤±è´¥è¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ab -c 20 -n 200   -T &amp;#39;application/json&amp;#39; -p /root/login.json http://data-api.bgbiao.cn/account/users/login/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Benchmarking data-api.bgbiao.cn (be patient)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 100 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 200 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Finished 200 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server Software:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server Hostname:        data-api.bgbiao.cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server Port:            80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Document Path:          /account/users/login/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Document Length:        250 bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Concurrency Level:      20
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Time taken for tests:   1.340 seconds
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Complete requests:      200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Failed requests:        7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   (Connect: 0, Receive: 0, Length: 7, Exceptions: 0)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Write errors:           0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Non-2xx responses:      7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total transferred:      91371 bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total body sent:        46400
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HTML transferred:       48387 bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Requests per second:    149.21 [#/sec] (mean)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Time per request:       134.035 [ms] (mean)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Time per request:       6.702 [ms] (mean, across all concurrent requests)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Transfer rate:          66.57 [Kbytes/sec] received
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        33.81 kb/s sent
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        100.38 kb/s total
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection Times (ms)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              min  mean[+/-sd] median   max
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connect:        1    1   0.1      1       1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Processing:     2  116  27.8    114     179
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Waiting:        2  116  27.8    114     179
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total:          3  117  27.8    116     180
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Percentage of the requests served within a certain time (ms)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  50%    116
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  66%    121
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  75%    125
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  80%    129
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  90%    154
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  95%    167
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  98%    173
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  99%    175
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 100%    180 (longest request)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å°†å‹æµ‹ç»“æœä¿å­˜åˆ°æ–‡æœ¬ä¸­è¿›è¡Œç®€å•åˆ†æ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ç®€å•åˆ†æåœ¨200ä¸ªå‹æµ‹è¯·æ±‚ä¸­ï¼Œæœ‰4ä¸ªè¯·æ±‚å¤±è´¥ï¼Œåˆ†åˆ«ä¸º2æ¬¡500é”™è¯¯å’Œ2æ¬¡502é”™è¯¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ab -v 10 -c 20 -n 200   -T &amp;#39;application/json&amp;#39; -p /root/login.json http://data-api.bgbiao.cn/account/users/login/  &amp;gt; ab-log.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat ab-log.txt | grep HTTP | sort| uniq -c
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    196 HTTP/1.0 200 OK
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      2 HTTP/1.0 500 Internal Server Error
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      2 HTTP/1.0 502 Bad Gateway
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      1 POST /account/users/login/ HTTP/1.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;traefikä¸­500å’Œ502é—®é¢˜æ’æŸ¥&#34;&gt;traefikä¸­500å’Œ502é—®é¢˜æ’æŸ¥&lt;/h4&gt;
&lt;p&gt;å‰é¢æˆ‘ä»¬æåˆ°äº†åœ¨Nginxçš„åœºæ™¯ä¸­çš„500å’Œ502çŠ¶æ€ç çš„åŸå› ä»¥åŠç›¸å…³çš„è§£å†³æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨Kubernetesé›†ç¾¤ä¸­ï¼Œtraefikèµ·åˆ°çš„ä½œç”¨å’ŒNginxçš„ä½œç”¨ä¹Ÿæ˜¯ç›¸ä¼¼çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬æåˆ°äº†é›†ç¾¤å†…çš„traefikçš„é…ç½®ä¿¡æ¯ï¼Œå¯¹äºSREæ¥è®²ï¼Œä»»ä½•ç”Ÿäº§çš„æœåŠ¡éƒ½å¿…é¡»æœ‰ç›¸å…³çš„å¯è§‚æµ‹æ€§æ•°æ®ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿé»˜è®¤å°†traefikçš„è®¿é—®æ—¥å¿—å’Œè¿›ç¨‹æ—¥å¿—è¿›è¡Œäº†æŒä¹…åŒ–(åˆ†åˆ«å¯¹åº”&lt;code&gt;access.logå’Œtraefik.log&lt;/code&gt;)ï¼ŒåŒæ—¶ä¹Ÿæš´éœ²äº†traefikçš„prometheusçš„metricsæ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸Šé¢çš„å‹æµ‹è¯·æ±‚ï¼Œæˆ‘ä»¬åœ¨è®¿é—®æ—¥å¿—é‡ŒæŠ“åˆ°äº†å¦‚ä¸‹çš„å¼‚å¸¸æ—¥å¿—:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ tail -f access.log | grep data-api.bgbiao.cn | grep -v &amp;#39;HTTP/1.0&amp;#34; 200&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:38 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267376 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.41.8:8080&amp;#34; 0ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:38 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267385 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.26.9:8080&amp;#34; 1ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:38 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267410 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.41.8:8080&amp;#34; 1ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:38 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267418 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.41.8:8080&amp;#34; 1ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:38 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267484 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.26.9:8080&amp;#34; 1ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:38 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 502 11 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267518 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.26.9:8080&amp;#34; 1ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:14:57:39 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122267550 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.26.9:8080&amp;#34; 4ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:15:02:06 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 502 11 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122272696 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.41.8:8080&amp;#34; 2ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:15:02:06 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 502 11 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122272711 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.41.8:8080&amp;#34; 1ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:15:02:06 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122272836 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.26.9:8080&amp;#34; 0ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.0.23 - - [28/Jun/2020:15:02:06 +0000] &amp;#34;POST /account/users/login/ HTTP/1.0&amp;#34; 500 21 &amp;#34;-&amp;#34; &amp;#34;ApacheBench/2.3&amp;#34; 122272837 &amp;#34;data-api.bgbiao.cn/&amp;#34; &amp;#34;http://20.0.41.8:8080&amp;#34; 0ms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå’Œæˆ‘ä»¬å‹æµ‹ç»“æœé‡Œå¤±è´¥è¯·æ±‚çš„çŠ¶æ€ç ç›¸åŒï¼Œéƒ½æ˜¯&lt;code&gt;500&lt;/code&gt;å’Œ&lt;code&gt;502&lt;/code&gt;ï¼Œè™½ç„¶æ•°é‡ä¸Šä¸æ­¢4ä¸ªï¼Œä½†è¿™æš‚æ—¶ä¸å¤ªé‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸å¯¹äºå¤§å¤šæ•°äººæ¥è®²ï¼Œåœ¨ä»£ç†å±‚çœ‹åˆ°500æˆ–è€…502éƒ½ä¼šä¸‹æ„è¯†çš„æƒ³ï¼Œè‚¯å®šæ˜¯ä¸Šæ¸¸æœåŠ¡çš„é—®é¢˜ï¼Œä¸è¿‡è¿™ç§çŒœæµ‹ä¹Ÿèƒ½å¾ˆå¿«è¿›è¡Œæ’é™¤ï¼Œæ’é™¤çš„æ–¹æ³•åŸºæœ¬å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å‹æµ‹å‡ºç°500å’Œ502æœŸé—´ï¼ŒæŒç»­å»è®¿é—®ä¸Šæ¸¸æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŒæ ·çš„å‹æµ‹å‚æ•°ç›´æ¥å‹ä¸Šæ¸¸æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;å°†ä¸Šæ¸¸æœåŠ¡éƒ¨ç½²åœ¨ç‹¬ç«‹çš„ECSä¸Šå¹¶ä½¿ç”¨åŒæ ·å‚æ•°è¿›è¡Œå‹æµ‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»è¿‡ä¸Šè¿°ä¸‰ç§æ–¹å¼çš„æµ‹è¯•åï¼Œæˆ‘ä»¬åŸºæœ¬æ’é™¤äº†ä¸Šæ¸¸æœåŠ¡çš„é—®é¢˜ï¼Œå› æ­¤æ­£å¼æ€€ç–‘traefikæœ¬èº«æ˜¯å¦æœ‰æ€§èƒ½æˆ–è€…å…¶ä»–å‚æ•°ä¸Šçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹traefkiä¸­çš„æ—¥å¿—çº§åˆ«ä¸º&lt;code&gt;DEBUG&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat traefik-ds-v1.7.6.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        args:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --api
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --kubernetes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --logLevel=DEBUG
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨æ—¥å¿—ä¸­çœ‹åˆ°å¦‚ä¸‹ç›¸å…³ä¿¡æ¯:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 500ç›¸å…³çš„æ—¥å¿—
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;time=&amp;#34;2020-06-28T15:35:05Z&amp;#34; level=debug msg=&amp;#34;&amp;#39;500 Internal Server Error&amp;#39; caused by: http: server closed idle connection&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;time=&amp;#34;2020-06-28T15:35:05Z&amp;#34; level=debug msg=&amp;#34;vulcand/oxy/forward/http: Round trip: http://20.0.26.9:8080, code: 500, Length: 21, duration: 1.486276ms&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 502ç›¸å…³çš„æ—¥å¿—
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;time=&amp;#34;2020-06-28T15:35:05Z&amp;#34; level=debug msg=&amp;#34;&amp;#39;502 Bad Gateway&amp;#39; caused by: EOF&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;time=&amp;#34;2020-06-28T15:35:05Z&amp;#34; level=debug msg=&amp;#34;vulcand/oxy/forward/http: Round trip: http://20.0.26.9:8080, code: 502, Length: 11, duration: 1.530677ms&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„500ä¿¡æ¯ï¼Œå¤§æ¦‚å¯ä»¥çœ‹å‡ºæ¥æ˜¯traefikçš„æœåŠ¡è¿›ç¨‹ä¸»åŠ¨å…³é—­äº†ç©ºé—²é“¾æ¥å¯¼è‡´çš„ï¼Œè€Œä¸‹é¢çš„502æ˜¯å› ä¸ºEOFï¼Œæ„Ÿè§‰åƒæ˜¯æ²¡æœ‰è¯»å–å®Œå“åº”æ•°æ®ï¼Œå°±è¢«æ–­å¼€äº†ï¼Œå¯¼è‡´traefikè¿”å›502ã€‚é€šå¸¸è¿™ç§æƒ…å†µåœ¨Nginxä¸­å¾ˆå¸¸è§ï¼Œä¹Ÿå¾ˆå®¹æ˜“è°ƒæ•´ç›¸å…³çš„é…ç½®å‚æ•°(æ–‡ç« å¼€å§‹æœ‰æåˆ°)ï¼Œä½†æ˜¯traefikçš„éƒ¨ç½²æ¨¡å¼ä»¥åŠå‚æ•°è°ƒæ•´ï¼Œè¿˜æ˜¯éœ€è¦èŠ±å¿ƒæ€å»çœ‹ç›¸å…³æ–‡æ¡£çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨githubä¸Šå»ç¿»traefikç›¸å…³çš„issuesï¼Œå‘ç°è¯¥é—®é¢˜æ›¾ç»å‡ºç°è¿‡å¾ˆå¤šæ¬¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/containous/traefik/issues/4481&#34;&gt;Traefik return 500 internal error - no 500 on backend&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/containous/traefik/issues/3237&#34;&gt;Sporadic 502 response only when running through traefik&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€ä¸ªæ˜¯500çš„issuesï¼Œä¸€ä¸ªæ˜¯502çš„issuesï¼Œä½†é€šå¸¸è¿™ä¸¤ä¸ªé—®é¢˜éƒ½æ˜¯æˆåŒå‡ºç°çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;500å’Œ502é—®é¢˜è§£å†³æ–¹æ¡ˆ&#34;&gt;500å’Œ502é—®é¢˜è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;åœ¨ä¸Šé¢ç¬¬ä¸€ä¸ªissueä¸­æåˆ°ï¼Œtraefikåœ¨httpçš„åå‘ä»£ç†åŠŸèƒ½ä¸­é»˜è®¤å¼€å¯äº†httpçš„keep-aliveåŠŸèƒ½ï¼Œä½†æ˜¯pythonçš„åº”ç”¨ä¸­æœªå¼€å¯httpçš„keep-aliveï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šé¢çš„æµ‹è¯•ç¨‹åºå…¶å®ä¹Ÿæ˜¯ä½¿ç”¨çš„pythonå¼€å‘çš„ï¼Œå…ˆå¯¹è¯¥å‚æ•°è¿›è¡Œè°ƒæ•´ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åœ¨uwsgi.iniä¸­å¢åŠ keep-aliveå‚æ•°å³å¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat uwsgi.ini
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[uwsgi]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http = 0.0.0.0:8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http-keepalive = 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chdir = /opt/app/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wsgi-file = /opt/app/main.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;callable = app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;stats = 0.0.0.0:8081
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;processes = 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;threads = 10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# é‡å¯åº”ç”¨åï¼Œå†æ¬¡è¿›è¡Œå‹æµ‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¹‹å‰å‡ºç°çš„502å’Œ500é”™è¯¯åŸºæœ¬éƒ½æ¶ˆå¤±äº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¹¶å‘200ï¼Œå…±1ä¸‡ä¸ªè¯·æ±‚ï¼Œå¤±è´¥çš„è¯·æ±‚æ•°ä¸º0ï¼Œæ€»è€—æ—¶1min(qpsæ‰åˆ°160ğŸ˜¸)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ab  -c 200 -n 10000   -T &amp;#39;application/json&amp;#39; -p /root/login.json http://data-api.bgbiao.cn/account/users/login/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Concurrency Level:      200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Time taken for tests:   59.323 seconds
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Complete requests:      10000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Failed requests:        0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Write errors:           0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total transferred:      4670000 bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total body sent:        2320000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HTML transferred:       2500000 bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Requests per second:    168.57 [#/sec] (mean)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Time per request:       1186.454 [ms] (mean)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Time per request:       5.932 [ms] (mean, across all concurrent requests)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Transfer rate:          76.88 [Kbytes/sec] received
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        38.19 kb/s sent
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        115.07 kb/s total
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection Times (ms)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              min  mean[+/-sd] median   max
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connect:        1    3  38.6      1    1035
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Processing:   101  942 1457.7    857   32684
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Waiting:      101  942 1457.7    857   32684
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total:        102  945 1458.0    861   32685
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# p99è¾¾åˆ°7.3s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Percentage of the requests served within a certain time (ms)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  50%    861
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  66%   1033
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  75%   1136
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  80%   1191
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  90%   1886
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  95%   2281
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  98%   4209
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  99%   7399
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 100%  32685 (longest request)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é€šè¿‡å¯¹ä¸šåŠ¡å±‚çš„httpçš„keep-aliveå‚æ•°çš„å¼€å¯ï¼Œæ¥æš‚æ—¶è§£å†³äº†500å’Œ502çš„é—®é¢˜ï¼Œé‚£èƒ½å¦é€šè¿‡traefikå±‚çš„å‚æ•°æ¥ä¼˜åŒ–è¯¥é—®é¢˜å‘¢ï¼Œä¸Šé¢ç¬¬äºŒä¸ªissueä¸­å…¶å®ä¹Ÿæåˆ°äº†ã€‚&lt;/p&gt;
&lt;p&gt;å³ï¼Œé€šè¿‡ä¿®æ”¹traefikçš„å¦‚ä¸‹å‡ ä¸ªå‚æ•°ï¼Œå¹¶é‡æ–°éƒ¨ç½²æ•´ä¸ªtraefiké›†ç¾¤å³å¯:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å…³é—­traefikçš„keep-aliveå‚æ•°ï¼Œå‚æ•°é»˜è®¤ä¸º200ï¼Œå¦‚æœå‚æ•°ä¸º0ï¼Œåˆ™ä½¿ç”¨goæ ‡å‡†åº“ä¸­çš„DefaultMaxIdleConnsPerHostå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# keep-aliveä¸»è¦æ˜¯ç”¨æ¥å¤ç”¨é“¾æ¥æ¥å‡å°‘open filesçš„ï¼Œä½†æ˜¯å¯¹äºå¤§é‡çš„çŸ­è¿æ¥æ¥å°†è¿™ç§é“¾æ¥å¤ç”¨å°±å¯èƒ½å‡ºç°ä¸Šè¿°æƒ…å†µ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--maxidleconnsperhost=-1 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å³é€šè¿‡è®¾ç½®é‡è¯•æ¬¡æ•°ï¼Œå¢åŠ ç©ºé—²é“¾æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œå¢åŠ è½¬å‘å“åº”çš„è¶…æ—¶æ—¶é—´,é»˜è®¤æ˜¯0æ¬¡
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--retry.attempts=10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¯¥å‚æ•°å·²ç»æ›¿æ¢ä¸º--respondingtimeouts.idletimeoutå‚æ•°äº†ï¼Œé»˜è®¤ä¸º3m0s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--idletimeout=60s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# é»˜è®¤æ˜¯0s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--forwardingtimeouts.responseheadertimeout=60s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# traefik ç©ºé—²é“¾æ¥è¶…æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./traefik --help | grep idletimeout
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --idletimeout                                 (Deprecated) maximum amount of time an idle (keep-alive) connection will remain  (default &amp;#34;0s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --respondingtimeouts.idletimeout              IdleTimeout is the maximum amount duration an idle (keep-alive) connection will  (default &amp;#34;3m0s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å“åº”è¶…æ—¶ç›¸å…³å‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; $ ./traefik --help | grep respondingtimeouts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --respondingtimeouts                          Timeouts for incoming requests to the Traefik instance                           (default &amp;#34;true&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --respondingtimeouts.idletimeout              IdleTimeout is the maximum amount duration an idle (keep-alive) connection will  (default &amp;#34;3m0s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --respondingtimeouts.readtimeout              ReadTimeout is the maximum duration for reading the entire request, including    (default &amp;#34;0s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --respondingtimeouts.writetimeout             WriteTimeout is the maximum duration before timing out writes of the response.   (default &amp;#34;0s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è½¬å‘çš„è¶…æ—¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./traefik --help | grep forwardingtimeouts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --forwardingtimeouts                          Timeouts for requests forwarded to the backend servers                           (default &amp;#34;true&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --forwardingtimeouts.dialtimeout              The amount of time to wait until a connection to a backend server can be         (default &amp;#34;30s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --forwardingtimeouts.responseheadertimeout    The amount of time to wait for a server&amp;#39;s response headers after fully writing   (default &amp;#34;0s&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æœ€ç»ˆä¿®æ”¹åçš„traefikçš„å‚æ•°å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè€ƒè™‘æ˜¯å¦è¦å…³é—­keep-alive å³å¢åŠ å‚æ•°: --maxidleconnsperhost=-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --api
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --kubernetes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --logLevel=INFO
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --traefikLog.filePath=/logdata/traefik.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --configfile=/config/traefik.toml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --accesslog.filepath=/logdata/access.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --accesslog.bufferingsize=100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --forwardingtimeouts.responseheadertimeout=60s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --respondingtimeouts.idletimeout=180s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --retry.attempts=10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - --idletimeout=180s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;ä¸‰slbä¸­è¯¡å¼‚çš„503&#34;&gt;ä¸‰ã€SLBä¸­è¯¡å¼‚çš„503&lt;/h3&gt;
&lt;p&gt;åœ¨å‘ç°åŸŸåç›´æ¥è§£æåˆ°traefikèŠ‚ç‚¹ä¸Šä¸å†å‡ºç°502å’Œ500åï¼Œæˆ‘ä»¬å°†traefikçš„èŠ‚ç‚¹æŒ‚è½½åˆ°é˜¿é‡Œäº‘çš„å†…ç½‘slbä¸­ï¼Œä½†æ˜¯åˆå¼€å§‹å‡ºç°äº†è¯¡å¼‚çš„503é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¥å…¥slbåçš„ç®€å•å‹æµ‹æƒ…å†µ(å†…ç½‘ä½¿ç”¨çš„æ˜¯å…è´¹ä½é…çš„slbğŸ˜¹)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# client-&amp;gt;ali-slb-&amp;gt;traefik-&amp;gt;pods
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ab -v 10 -c 200 -n 2000   -T &amp;#39;application/json&amp;#39; -p postfile.json http://data-api.soulapp.cn/get_doc &amp;gt; slb-log.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat slb-log.txt | grep  &amp;#39;HTTP/1.1 200&amp;#39; | wc -l
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1322
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat slb-log.txt | grep  &amp;#39;HTTP/1.1 503&amp;#39; | wc -l
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;678
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# client-&amp;gt;traefik-&amp;gt;pods
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ab -v 10 -c 200 -n 2000   -T &amp;#39;application/json&amp;#39; -p postfile.json http://data-api.c.bgbiao.cn/get_doc &amp;gt; traefik-log.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 200 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 400 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 600 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 800 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 1000 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 1200 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 1400 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 1600 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 1800 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Completed 2000 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Finished 2000 requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat traefik-log.txt  | grep  &amp;#39;HTTP/1.0 200&amp;#39; | wc -l
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2000
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åæ¥åœ¨é˜¿é‡Œäº‘æ–‡æ¡£ä¸­çœ‹åˆ°å¦‚ä¸‹æ–‡æ¡£ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯åœ¨é˜¿é‡Œäº‘çš„SLBä¾§å¯¹ä¸åŒè§„æ ¼çš„SLBåšäº†ä¸€å®šçš„é™æµç­–ç•¥ï¼Œæ­¤æ—¶ä¼šå‘å®¢æˆ·ç«¯è¿”å›503ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://help.aliyun.com/knowledge_detail/102765.html?spm=5176.2000002.0.0.1f9641e8ymfAas&#34;&gt;é˜¿é‡Œäº‘TPS-503&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Golangä¸­å¤„ç†ç‰ˆæœ¬ä¿¡æ¯</title>
      <link>https://bgbiao.top/post/golang-version/</link>
      <pubDate>Fri, 26 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/golang-version/</guid>
      
        <description>&lt;h2 id=&#34;golangä¸­çš„ç‰ˆæœ¬ä¿¡æ¯ç®¡ç†&#34;&gt;Golangä¸­çš„ç‰ˆæœ¬ä¿¡æ¯ç®¡ç†&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“åœ¨ä¸€äº›Golangå†™çš„ç¨‹åºä¸­ï¼Œé»˜è®¤ä¼šæœ‰&lt;code&gt;version&lt;/code&gt;æˆ–&lt;code&gt;-v&lt;/code&gt;ç›¸å…³çš„å‚æ•°æ¥è¾“å‡ºè½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¿™äº›ç‰ˆæœ¬ä¿¡æ¯é‡Œå¯èƒ½åŒ…å«è½¯ä»¶ç‰ˆæœ¬ï¼Œgitä¸­çš„commitè®°å½•ï¼Œæ„å»ºæ—¶é—´ã€æ„å»ºç¯å¢ƒç­‰ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™äº›ä¿¡æ¯éƒ½æ˜¯å¦‚ä½•åœ¨Golangç¨‹åºä¸­è¿›è¡Œç»´æŠ¤å’Œç®¡ç†çš„å‘¢ï¼Ÿè¯·çœ‹ğŸ‘‡.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„Golangå¼€å‘çš„ç¨‹åºæ˜¯è¿™æ ·è¾“å‡ºç‰ˆæœ¬ç›¸å…³ä¿¡æ¯çš„:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# k8sçš„å®¢æˆ·ç«¯ç¨‹åºç‰ˆæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl version -o json --client
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;#34;clientVersion&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;major&amp;#34;: &amp;#34;1&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;minor&amp;#34;: &amp;#34;10&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;gitVersion&amp;#34;: &amp;#34;v1.10.11&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;gitCommit&amp;#34;: &amp;#34;637c7e288581ee40ab4ca210618a89a555b6e7e9&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;gitTreeState&amp;#34;: &amp;#34;clean&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;buildDate&amp;#34;: &amp;#34;2018-11-26T14:38:32Z&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;goVersion&amp;#34;: &amp;#34;go1.9.3&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;compiler&amp;#34;: &amp;#34;gc&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;platform&amp;#34;: &amp;#34;darwin/amd64&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# dockerçš„å®¢æˆ·ç«¯ç¨‹åºç‰ˆæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Client: Docker Engine - Community
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Version:           18.09.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; API version:       1.39
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Go version:        go1.10.8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Git commit:        6247962
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Built:             Sun Feb 10 04:12:39 2019
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; OS/Arch:           darwin/amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Experimental:      false
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# minioçš„å®¢æˆ·ç«¯ç¨‹åºç‰ˆæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ minio --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;minio version RELEASE.2020-04-10T03-34-42Z
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ç‰ˆæœ¬è¾“å‡ºè®°å½•ä¸­æˆ‘ä»¬å…¶å®å¯ä»¥çœ‹å‡ºï¼Œç‰ˆæœ¬ä¿¡æ¯ä¸­ä¸ä»…è®°å½•äº†åŸºæœ¬çš„æ„å»ºç¯å¢ƒå’Œç‰ˆæœ¬ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜è®°å½•äº†commitIdï¼Œæ‰€ä»¥è¿™äº›ä¿¡æ¯åº”è¯¥æ˜¯åœ¨buildæ—¶åŠ¨æ€ä¼ å…¥åˆ°ç¨‹åºä¸­çš„ï¼Œå¤§æ¦‚çŒœæµ‹ä¸€ä¸‹åº”è¯¥å°±æ˜¯æå‰åœ¨ç¨‹åºçš„versionç›¸å…³ä»£ç ä¸­é¢„ç•™å¥½ç‰ˆæœ¬ç›¸å…³çš„å˜é‡ï¼Œç„¶ååœ¨æ„å»ºçš„æ—¶å€™å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œä»¥æ­¤æ¥å®ç°å˜é‡çš„åŠ¨æ€æ³¨å…¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å°è¯•ç‰›åˆ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¤§æ¦‚çŒœæµ‹åï¼ŒæŸ¥çœ‹åˆ°ç›¸å…³æ–‡æ¡£ä¸­æœ‰è¯´æ˜å¯ä»¥åœ¨æ„å»ºæ—¶ä½¿ç”¨å‚æ•°&lt;code&gt;-ldflags -X importpath.name=value&lt;/code&gt;æ¥åŠ¨æ€æ³¨å…¥å˜é‡ã€‚åœ¨å®˜æ–¹ç¨³å®š&lt;a href=&#34;https://golang.org/cmd/link/&#34;&gt;link&lt;/a&gt;ä¸­æœ‰è¯¦ç»†è¯´æ˜:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-X importpath.name=value
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	Set the value of the string variable in importpath named name to value.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	This is only effective if the variable is declared in the source code either uninitialized
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	or initialized to a constant string expression. -X will not work if the initializer makes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	a function call or refers to other variables.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	Note that before Go 1.5 this option took two separate arguments.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¤§æ¦‚æ„æ€å°±æ˜¯: å¯ä»¥è®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡å€¼ç»™importpathè·¯å¾„ä¸‹çš„nameã€‚è€Œä¸”ä»…å½“å­—ç¬¦ä¸²å˜é‡åœ¨æºç ä¸­æ²¡æœ‰åˆå§‹åŒ–æˆ–åˆå§‹åŒ–æˆå¸¸é‡å­—ç¬¦ä¸²è¡¨è¾¾å¼æ—¶æ‰æœ‰æ•ˆã€‚å¦‚æœåˆå§‹åŒ–å˜é‡è°ƒç”¨äº†å‡½æ•°æˆ–è€…å¼•ç”¨äº†å…¶ä»–å˜é‡ï¼Œ&lt;code&gt;-X&lt;/code&gt;å‚æ•°ä¹Ÿä¸ä¼šå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å‚æ•°ç»™æºç ä¸­åŠ¨æ€ä¼ å…¥ä¸€äº›ç®€å•çš„å­—ç¬¦ä¸²å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç®€å•è¯•ç”¨ä¸€ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;version&lt;/span&gt;		&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;buildTime&lt;/span&gt;	&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;osArch&lt;/span&gt;		&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Version: %s\nBuilt: %s\nOS/Arch: %s\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buildTime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;osArch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ç›´æ¥è¿è¡Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;run&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Built&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;OS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Arch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ä½¿ç”¨&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ldflags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;X&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;importpath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;nameå‚æ•°æ³¨å…¥å˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;run&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ldflags&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;-X &amp;#39;main.version=0.1&amp;#39; -X &amp;#39;main.buildTime=2020-06-26&amp;#39; -X &amp;#39;main.osArch=darwin/amd64&amp;#39;&amp;#34;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Built&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2020&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mo&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;OS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Arch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;darwin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;amd64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ä½¿ç”¨å‚æ•°ç¼–è¯‘åˆ°äºŒè¿›åˆ¶ç¨‹åºä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;build&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ldflags&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;-X &amp;#39;main.version=0.1&amp;#39; -X &amp;#39;main.buildTime=2020-06-26&amp;#39; -X &amp;#39;main.osArch=darwin/amd64&amp;#39;&amp;#34;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Golang&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Built&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2020&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mo&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;OS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Arch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;darwin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;amd64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šç¤ºä¾‹ä¸­ç®€å•æ¼”ç¤ºäº†ï¼Œå¦‚ä½•åœ¨æ„å»ºæ—¶ï¼Œç»™ç¨‹åºæ³¨å…¥ä¸€äº›ç‰ˆæœ¬ç›¸å…³çš„ä¿¡æ¯ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨æ¯æ¬¡å‘ç‰ˆæ—¶ï¼Œå°±å¯ä»¥æ ¹æ®å½“å‰çš„ç‰ˆæœ¬ã€ç¯å¢ƒã€æ„å»ºç­‰ä¿¡æ¯ä¸ºç¨‹åºæ³¨å…¥ä¸€ä¸ªè¯¦ç»†çš„ç‰ˆæœ¬ä¿¡æ¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é¡¹ç›®ä¸­ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ç”¨æ¥æ¼”ç¤ºå¦‚ä½•åˆ©ç”¨&lt;code&gt;-ldflags -X importpath.name=value&lt;/code&gt;å‚æ•°æ¥ç»™ç¨‹åºåŠ¨æ€æ³¨å…¥ä¸€äº›å˜é‡å€¼ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­å¯èƒ½éœ€è¦ç»´æŠ¤ä¸€ä¸ªç›¸å¯¹å…¨é¢å’Œé€šç”¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥ä¸€èµ·çœ‹çœ‹é¡¹ç›®ä¸­å¤§æ¦‚ä¼šå¦‚ä½•ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;82
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;é¦–å…ˆ&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;åœ¨é¡¹ç›®ä¸­ç»´æŠ¤ä¸€ä¸ªversion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;goçš„æ–‡ä»¶&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ç”¨äºå®šä¹‰ç‰ˆæœ¬ç›¸å…³çš„ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;utils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;utils&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;runtime&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;version&lt;/span&gt;      &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;gitBranch&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;gitTag&lt;/span&gt;       &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;gitCommit&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;gitTreeState&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;buildDate&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Info&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;      &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;version&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;GitBranch&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;gitBranch&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;GitTag&lt;/span&gt;       &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;gitTag&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;GitCommit&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;gitCommit&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;GitTreeState&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;gitTreeState&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;BuildDate&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;buildDate&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;GoVersion&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;goVersion&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;Compiler&lt;/span&gt;     &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;compiler&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;Platform&lt;/span&gt;     &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;`json:&amp;#34;platform&amp;#34;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;info&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;GitCommit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;GetVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Info&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;      &lt;span class=&#34;nx&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;GitBranch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;gitBranch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;GitTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;       &lt;span class=&#34;nx&#34;&gt;gitTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;GitCommit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;gitCommit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;GitTreeState&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gitTreeState&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;BuildDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;buildDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;GoVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;Compiler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;     &lt;span class=&#34;nx&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Compiler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;Platform&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;     &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%s/%s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;GOOS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;GOARCH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ç„¶åå¯ä»¥åœ¨mainç¨‹åºä¸­&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;å¯¹versionå­å‘½ä»¤çš„è¾“å‡ºè°ƒç”¨utils&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;å‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s&#34;&gt;&amp;#34;version/utils&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nx&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Args&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;utils&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;GetVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Version: %s\nGitBranch: %s\nCommitId: %s\nBuild Date: %s\nGo Version: %s\nOS/Arch: %s\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;GitBranch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;GitCommit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;BuildDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;GoVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Platform&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Version(hard code): %s\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0.1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;build&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ldflags&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;-X &amp;#39;version/utils.version=0.1&amp;#39; -X &amp;#39;version/utils.gitBranch=test&amp;#39; -X &amp;#39;version/utils.gitTag=test&amp;#39; -X &amp;#39;version/utils.gitCommit=test&amp;#39; -X &amp;#39;version/utils.buildDate=2020-06-26&amp;#39; -X &amp;#39;version/utils.osArch=darwin/amd64&amp;#39;&amp;#34;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;hard&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;version&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;GitBranch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;test&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;CommitId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;test&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Build&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2020&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mo&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;26&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Go&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;go1&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;.14&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;OS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Arch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;darwin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;amd64&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å¯¹ç¨‹åºä¸­çš„ç‰ˆæœ¬ä¿¡æ¯è¿›è¡ŒåŠ¨æ€ç»´æŠ¤å’Œç®¡ç†äº†ï¼Œä½†æ˜¯æ¯æ¬¡æ‰‹åŠ¨ç»´æŠ¤ç‰ˆæœ¬ä¿¡æ¯è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨è„šæœ¬æˆ–è€…&lt;code&gt;Makefile&lt;/code&gt;æ¥å¯¹æ„å»ºå‚æ•°è¿›è¡Œç»Ÿä¸€ç®¡ç†.&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å†å¢åŠ &lt;code&gt;Makefile&lt;/code&gt;æ¥ç®¡ç†å‚æ•°.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat Makefile 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.PHONY: list vet fmt default clean
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;all: list vet fmt default clean
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BINARY=&amp;#34;version&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;VERSION=0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BUILD=`date +%F`
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHELL := /bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BASEDIR = $(shell pwd)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# build with verison infos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;versionDir=&amp;#34;version/utils&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gitTag=$(shell if [ &amp;#34;`git describe --tags --abbrev=0 2&amp;gt;/dev/null`&amp;#34; != &amp;#34;&amp;#34; ];then git describe --tags --abbrev=0; else git log --pretty=format:&amp;#39;%h&amp;#39; -n 1; fi)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gitBranch=$(shell git rev-parse --abbrev-ref HEAD)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;buildDate=$(shell TZ=Asia/Shanghai date +%FT%T%z)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gitCommit=$(shell git rev-parse --short HEAD)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gitTreeState=$(shell if git status|grep -q &amp;#39;clean&amp;#39;;then echo clean; else echo dirty; fi)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ldflags=&amp;#34;-s -w -X ${versionDir}.gitTag=${gitTag} -X ${versionDir}.buildDate=${buildDate} -X ${versionDir}.gitCommit=${gitCommit} -X ${versionDir}.gitTreeState=${gitTreeState} -X ${versionDir}.version=${VERSION} -X ${versionDir}.gitBranch=${gitBranch}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;default:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	@echo &amp;#34;build the ${BINARY}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	@GOOS=linux GOARCH=amd64 go build -ldflags ${ldflags} -o  build/${BINARY}.linux  -tags=jsoniter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	@go build -ldflags ${ldflags} -o  build/${BINARY}.mac  -tags=jsoniter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	@echo &amp;#34;build done.&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ„å»ºæµ‹è¯•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ make default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;build the version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;build done.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/version.mac
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Version(hard code): 0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/version.mac version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Version: 0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GitBranch: master
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CommitId: c1702a8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Build Date: 2020-06-27T13:32:42+0800
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Go Version: go1.14
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;OS/Arch: darwin/amd64 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»†å¿ƒçš„å°ä¼™ä¼´ä»¬æœ‰æ²¡æœ‰å‘ç°ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„ç‰ˆæœ¬è¾“å‡ºä¿¡æ¯å’Œå‰é¢&lt;code&gt;docker&lt;/code&gt;ä»¥åŠ&lt;code&gt;kubectl&lt;/code&gt;ç¨‹åºçš„ç‰ˆæœ¬ä¿¡æ¯æœ‰é‚£ä¹ˆä¸€ä¸¢ä¸¢ç›¸ä¼¼äº†ï¼Œå…¶å®ç›®å‰å¤§å¤šæ•°ä½¿ç”¨Golangå¼€æºçš„ç¨‹åºåŸºæœ¬ä¸Šä¹Ÿéƒ½æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼æ¥ç®¡ç†ç¨‹åºçš„ç‰ˆæœ¬ä¿¡æ¯çš„ï¼Œæ¯”å¦‚&lt;code&gt;kubectl&lt;/code&gt;ä¸­çš„versionå‘½ä»¤:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes/kubectl/blob/master/pkg/cmd/version/version.go#L38&#34;&gt;kubectl-version&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes/apimachinery/blob/master/pkg/version/types.go&#34;&gt;kubernetes-apimachinery&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ï¼Œæˆ‘æ”¾åˆ°äº†&lt;a href=&#34;https://github.com/goops-top/version&#34;&gt;go-version&lt;/a&gt;ä¸­äº†ï¼Œæœ‰éœ€è¦çš„å°ä¼™ä¼´å¯ä»¥å»çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Kafkaè¿ç»´ç¥å™¨ä¹‹gokafka</title>
      <link>https://bgbiao.top/post/gokafka/</link>
      <pubDate>Fri, 26 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/gokafka/</guid>
      
        <description>&lt;h2 id=&#34;kafkaè¿ç»´ç¥å™¨&#34;&gt;Kafkaè¿ç»´ç¥å™¨&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨Kafkaé›†ç¾¤è¿ç»´è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå€Ÿç”¨ä¸€äº›å¼€æºå·¥å…·æ¥å®Œæˆkafkaçš„æ—¥å¸¸è¿ç»´éœ€æ±‚å’Œç›¸å…³é—®é¢˜æ’æŸ¥ï¼Œæ¥ä¸‹æ¥ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„kafkaè¿ç»´ç¥å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;kafka-manager&#34;&gt;kafka-manager&lt;/h3&gt;
&lt;p&gt;ç”±é›…è™å¼€æºçš„kafkaé›†ç¾¤ç®¡ç†å·¥å…·ï¼Œä¸è¿‡ç°åœ¨å·²ç»æ”¹åä¸º&lt;a href=&#34;https://github.com/yahoo/CMAK&#34;&gt;CMAK&lt;/a&gt;äº†(è¯´æ˜kafkaçš„è¿ç»´ç—›ç‚¹è¿˜æ˜¯è›®å¤šçš„ï¼Œé¡¹ç›®è¿˜å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…)ï¼Œæ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šé›†ç¾¤ç®¡ç†&lt;/li&gt;
&lt;li&gt;é›†ç¾¤ç¬æ—¶ç›‘æ§(topics, brokers, å‰¯æœ¬åˆ†å¸ƒï¼Œåˆ†åŒºåˆ†å¸ƒç­‰)&lt;/li&gt;
&lt;li&gt;ä¼˜å…ˆå‰¯æœ¬é€‰ä¸¾&lt;/li&gt;
&lt;li&gt;ä¸»é¢˜ï¼Œåˆ†åŒºï¼Œå‰¯æœ¬ç®¡ç†(ä¸»é¢˜åˆ›å»ºå’Œå‚æ•°è°ƒæ•´ï¼Œå‰¯æœ¬åˆ†é…ç­‰)&lt;/li&gt;
&lt;li&gt;Brokerå’ŒTopicçº§åˆ«çš„metricsç›‘æ§&lt;/li&gt;
&lt;li&gt;æ¶ˆè´¹è€…åŸºæœ¬ä¿¡æ¯ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æºç ç¼–è¯‘
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./sbt clean dist
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# docker å®‰è£…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker run -itd --name kafka-manager -e KAFKA_ZK_CLUSTER=&amp;#34;zk-1:2181,zk-2:2181&amp;#34; -P      bgbiao/kafka-manager:2.0.0.2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è‡ªå®šä¹‰ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker run -itd --name kafka-manager -e KAFKA_ZK_CLUSTER=&amp;#34;zk-1:2181,zk-2:2181&amp;#34; -P      bgbiao/kafka-manager:2.0.0.2 -Dhttp.port=8080 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v0rydqhj30xu0kkdhd.jpg&#34; alt=&#34;kafka-cluster&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v0uopt4j30v90epac2.jpg&#34; alt=&#34;kafka-topic&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v1kai7sj30w50oc429.jpg&#34; alt=&#34;kafka-topic-info&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v1ziityj30k708kt9i.jpg&#34; alt=&#34;kafka-consumer&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v2i5kt5j30qe0pxgpq.jpg&#34; alt=&#34;kafka-consumer-info&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v34efi2j31rm0nbtdv.jpg&#34; alt=&#34;kafka-broker&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg6v3ivpuqj31bi0u0dnn.jpg&#34; alt=&#34;kafka-broker-info&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;kafkacat&#34;&gt;kafkacat&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/edenhill/kafkacat&#34;&gt;kafkacat&lt;/a&gt;æ˜¯ä¸€ä¸ªéJVMçš„å‘½ä»¤è¡Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œå¯ä»¥å¿«é€Ÿçš„å¯¹kafkaæ¶ˆæ¯è¿›è¡Œç”Ÿäº§å’Œæ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# mac å®‰è£…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ brew install kafkacat 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# docker å®‰è£…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å®˜æ–¹ä»…æ”¯æŒDebianå’ŒopenSUSEç³»åˆ—
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¦‚ä¸‹é•œåƒæ”¯æŒåœ¨CentOSç³»åˆ—çš„ç¯å¢ƒä¸­ä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker pull bgbiao/kafkacat 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;83
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ¶ˆè´¹è€…æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t mysql_users
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;% Auto-selecting Consumer mode (use -P or -C to override)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;uid&amp;#34;:1,&amp;#34;name&amp;#34;:&amp;#34;Cliff&amp;#34;,&amp;#34;locale&amp;#34;:&amp;#34;en_US&amp;#34;,&amp;#34;address_city&amp;#34;:&amp;#34;St Louis&amp;#34;,&amp;#34;elite&amp;#34;:&amp;#34;P&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;uid&amp;#34;:2,&amp;#34;name&amp;#34;:&amp;#34;Nick&amp;#34;,&amp;#34;locale&amp;#34;:&amp;#34;en_US&amp;#34;,&amp;#34;address_city&amp;#34;:&amp;#34;Palo Alto&amp;#34;,&amp;#34;elite&amp;#34;:&amp;#34;G&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[...]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ç”Ÿäº§è€…æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# é»˜è®¤æ˜¯ä»¥æ¢è¡Œç¬¦æ¥å†³å®šä¸€æ¡æ¶ˆæ¯(-D å¯ä»¥æŒ‡å®šåˆ†éš”ç¬¦)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# é»˜è®¤ä»stdinæ¥è¯»å–æ¶ˆæ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t new_topic -P
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä»æ–‡ä»¶ä¸­è¯»å–æ¶ˆæ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# -lå‚æ•°ç”¨æ¥æŒ‡å®šå°†æ–‡ä»¶ä¸­çš„æ¯ä¸€ä¸ªè¡Œä½œä¸ºä¸€ä¸ªæ¶ˆæ¯è¿›è¡Œå‘é€ï¼Œå¦‚æœæ²¡æœ‰è¯¥å‚æ•°ï¼Œæ•´ä¸ªæ–‡æœ¬å°†ä¼šä»¥ä¸€ä¸ªæ¶ˆæ¯å‘é€(å¯¹äºäºŒè¿›åˆ¶çš„æ•°æ®æ¯”è¾ƒ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æœ‰ç”¨)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# -T å‚æ•°å¯ä»¥ç”¨äºå›æ˜¾åˆ°stdout
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t &amp;lt;my_topic&amp;gt; -T -P -l /tmp/msgs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥æŒ‡å®šæ¶ˆæ¯çš„keyï¼Œä½¿ç”¨-Kå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t keyed_topic -P -K:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1:foo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2:bar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t keyed_topic -C -f &amp;#39;Key: %k\nValue: %s\n&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Key: 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Value: foo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Key: 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Value: bar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è®¾ç½®partition
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t partitioned_topic -P -K: -p 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1:foo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t partitioned_topic -P -K: -p 2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2:bar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -t partitioned_topic -P -K: -p 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3:wibble
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å…ƒæ•°æ®ç›‘å¬æ¨¡å¼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å…ƒæ•°æ®çš„ç›‘å¬æ¨¡å¼å¯ä»¥ä½¿ç”¨`-L`å‚æ•°ï¼Œä¼šæ˜¾ç¤ºå½“å‰kafkaé›†ç¾¤çš„çŠ¶æ€ä»¥åŠä¸»é¢˜ï¼Œåˆ†åŒºï¼Œå‰¯æœ¬ï¼Œä»¥åŠISRä¿¡æ¯ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# `-J`å‚æ•°ä¼šä»¥jsonæ ¼å¼è¿›è¡Œè¾“å‡º
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b localhost:9092 -L
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kafkacat -b mybroker -L -J
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# dockeræ–¹å¼ç®€å•ä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä»æ ‡å‡†è¾“å…¥ç”Ÿäº§æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker run --rm bgbiao/kafkacat kafkacat -b kafka-broker:9092 -t test-biao -P &amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; ssabdkgjf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; asfgnh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; wertnh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; waer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; awegrtn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; 2020-04-26
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; end time
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; EOF
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä»æŒ‡å®štopicæ¥æ”¶æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker run -it --rm bgbiao/kafkacat kafkacat -b kafka-broker:9092 -t test-biao -C -f &amp;#39;\nKey (%K bytes): %k\t\nValue (%S bytes): %s\n\Partition: %p\tOffset: %o\n--\n&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Key (-1 bytes):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Value (13 bytes): test kafkacat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition: 0	Offset: 11
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;% Reached end of topic test-biao [0] at offset 12
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Key (-1 bytes):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Value (18 bytes): 2020-04-26 endtime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition: 1	Offset: 8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;% Reached end of topic test-biao [1] at offset 9
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Key (-1 bytes):
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Value (7 bytes): overlay
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition: 2	Offset: 6
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;% Reached end of topic test-biao [2] at offset 7
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; å¦‚æœæƒ³è¦æŠŠdockeré•œåƒä¸­çš„&lt;code&gt;kafkacat&lt;/code&gt;äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´å‡ºæ¥ä½¿ç”¨ï¼Œä»…éœ€è¦åœ¨å½“å‰ç¯å¢ƒä¸­å®‰è£…&lt;code&gt;librdkafka-devel&lt;/code&gt;å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;gokafka&#34;&gt;gokafka&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/goops-top/gokafka&#34;&gt;gokafka&lt;/a&gt;ä¹Ÿæ˜¯ä¸€ä¸ªéJVMçš„kafkaè¿ç»´ç®¡ç†å·¥å…·ï¼Œä¸ä»…å¯ä»¥è¿›è¡Œç®€å•çš„æ¶ˆæ¯æ¨¡æ‹Ÿç”Ÿäº§ï¼Œè€Œä¸”å¯ä»¥å¯¹æŒ‡å®štopicè¿›è¡Œæ¶ˆæ¯é¢„è§ˆï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒkafkaé›†ç¾¤çš„å¸¸è§çš„è¿ç»´ç®¡ç†æ“ä½œ.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¿«é€Ÿå¼€å§‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ git clone https://github.com/goops-top/gokafka.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cd gokafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ go build -o build/goops-kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/goops-kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;goops-kafka: A kafka tools with golang that can operate the kafka for describe,create,update and so on.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Note: Without the jvm,so you must be specify the [--broker or --cluster and the Value must be in --config entry.]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Usage:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  gokafka [command]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Available Commands:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  consumer    consumer  a topic message data with specified kafka-cluster.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  create      create the kafka topic with some base params in specify kafka-cluster.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  describe    describe the kafka some info (cluster,topic,broker,loginfo)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  help        Help about any command
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  init        init the gokafka some default config.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  list        list the kafka some info (cluster,topic,broker)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  producer    producer  a topic message data with specified kafka-cluster.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  version     print version info of goops-kafka tool
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Flags:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      --broker string    æŒ‡å®šbrokeråœ°å€
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      --cluster string   æŒ‡å®šé›†ç¾¤
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      --config string    æŒ‡å®šé…ç½®æ–‡ä»¶(default is $HOME/.goops-kafka)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -h, --help             help for gokafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Use &amp;#34;gokafka [command] --help&amp;#34; for more information about a command.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä½¿ç”¨makeç¼–è¯‘
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¼šè‡ªåŠ¨ç”Ÿæˆmacå’Œlinuxå‘è¡Œç‰ˆæœ¬çš„äºŒè¿›åˆ¶æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ make default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç®€å•ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹å·¥å…·ç‰ˆæœ¬
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Version: 0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GitBranch: master
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CommitId: 445f935
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Build Date: 2020-06-26T18:49:48+0800
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Go Version: go1.14
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;OS/Arch: darwin/amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åˆå§‹åŒ–é…ç½®æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# gokafka é‡‡ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼å¿«é€Ÿç®¡ç†å¤šä¸ªkafkaé›†ç¾¤
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gokafka config init ok.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹ç”Ÿæˆé›†ç¾¤é…ç½®æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat ~/.goops-kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;app: gokafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  clusters:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - name: test-kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    version: V2_5_0_0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    brokers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - 10.0.0.1:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - 10.0.0.2:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - 10.0.0.3:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - name: dev-kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    version: V1_0_0_0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    brokers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - 192.168.0.22:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - 192.168.0.23:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - 192.168.0.24:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¹Ÿå¯ä»¥ä½¿ç”¨--config æ¥æŒ‡å®šé›†ç¾¤é…ç½®æ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --config ./kafka-cluster.yaml version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Version: 0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GitBranch: master
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CommitId: 445f935
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Build Date: 2020-06-26T18:53:25+0800
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Go Version: go1.14
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;OS/Arch: darwin/amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¸­çš„é›†ç¾¤è¯¦æƒ…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  list cluster
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cluster:test-kafka version:V2_5_0_0 connector_brokers:[10.0.0.1:9092]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cluster:dev-kafka version:V1_0_0_0 connector_brokers:[192.168.0.22:9092]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./build/gokafka.mac  list cluster --config ./kafka-cluster.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cluster:log-kafka version:V2_5_0_0 connector_brokers:[log-kafka-1.bgbiao.cn:9092]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ³¨æ„: å½“ä½¿ç”¨é›†ç¾¤é…ç½®æ–‡ä»¶ç®¡ç†é›†ç¾¤æ—¶ï¼Œéœ€è¦ä½¿ç”¨--clusterå…¨å±€å‚æ•°æŒ‡å®šæ“ä½œçš„ç›®æ ‡é›†ç¾¤
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šbrokerè¿›è¡Œæ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe broker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;controller: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brokers num: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broker list: [2 1 3]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:2		 broker:192.168.0.22:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:1		 broker:192.168.0.23:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:3		 broker:192.168.0.24:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --broker 10.0.0.1:9092  describe broker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;controller: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brokers num: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broker list: [2 1 3]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:2		 broker:192.168.0.22:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:1		 broker:192.168.0.23:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:3		 broker:192.168.0.24:9092
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å¸¸ç”¨åŠŸèƒ½&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;98
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 1.åˆ›å»ºtopic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥æŒ‡å®šåˆ†åŒºå’Œå‰¯æœ¬æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka create --topic test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 2.æŸ¥çœ‹topic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka list topic --topic-list test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic:test-bgbiao-1	PartNum:3	Replicas:3	Config:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic-Part:test-bgbiao-1-2	ReplicaAssign:[1 3 2]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic-Part:test-bgbiao-1-1	ReplicaAssign:[2 1 3]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic-Part:test-bgbiao-1-0	ReplicaAssign:[3 2 1]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 3.è·å–topicçš„åˆ†åŒºå’Œå‰¯æœ¬çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe  topic --topic-list test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic-Part:test-bgbiao-1-2	Leader:1	Replicas:[1 3 2]	ISR:[1 3 2]	OfflineRep:[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic-Part:test-bgbiao-1-1	Leader:2	Replicas:[2 1 3]	ISR:[2 1 3]	OfflineRep:[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Topic-Part:test-bgbiao-1-0	Leader:3	Replicas:[3 2 1]	ISR:[3 2 1]	OfflineRep:[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 4.å‘topicä¸­ç”Ÿäº§æ¶ˆæ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka producer --topic test-bgbiao-1 --msg &amp;#34;Hello, BGBiao.&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0000] Produce msg:Hello, BGBiao. to topic:test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0000] topic:test-bgbiao-1 send ok with offset:0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka producer --topic test-bgbiao-1 --msg &amp;#34;Nice to meet you.&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0000] Produce msg:Nice to meet you. to topic:test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0000] topic:test-bgbiao-1 send ok with offset:0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 5.æ¶ˆè´¹æ¶ˆæ¯(gokafkaä¸­åˆ›å»ºäº†ä¸€ä¸ªé»˜è®¤çš„æ¶ˆè´¹ç»„ç”¨æ¥é¢„è§ˆæ¶ˆæ¯)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# åœ¨ç»ˆç«¯è¿›è¡Œå®æ—¶æ¶ˆè´¹ï¼Œctrl+c å¯å–æ¶ˆ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka consumer --topic test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0000] Sarama consumer up and running!...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0004] part:2 offset:0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;msg: Nice to meet you.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INFO[0004] part:1 offset:0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;msg: Hello, BGBiao.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 6.æŸ¥çœ‹é›†ç¾¤çš„brokeråˆ—è¡¨ä»¥åŠcontroller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe broker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;controller: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brokers num: 3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broker list: [2 1 3]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:2		 broker:192.168.0.23:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:1		 broker:192.168.0.22:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;id:3		 broker:192.168.0.24:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 7.æŸ¥çœ‹topicçš„æ—¥å¿—å¤§å°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe loginfo --topic-list test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic:test-bgbiao-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172.16.32.23:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;logdir:/soul/data/kafka/kafka-logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part		log-size(M)		offset-lag
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;----------		-----------		----------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-0		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-1		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-2		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172.16.32.22:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;logdir:/soul/data/kafka/kafka-logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part		log-size(M)		offset-lag
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;----------		-----------		----------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-0		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-1		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-2		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172.16.32.24:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;logdir:/soul/data/kafka/kafka-logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part		log-size(M)		offset-lag
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;----------		-----------		----------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-0		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-1		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;test-bgbiao-1-2		0		0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 8.åˆ—å‡ºkafkaé›†ç¾¤çš„æ¶ˆè´¹è€…ç»„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka list  consumer-g | grep -i gokafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GoKafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 9.æŸ¥çœ‹æ¶ˆè´¹è€…ç»„è¯¦ç»†ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å› ä¸ºä¸Šé¢æˆ‘ä»¬åœæ­¢äº†æ¶ˆè´¹ï¼Œè¯¥æ¶ˆè´¹è€…ç»„å½“å‰æ˜¯ç©ºçš„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe consumer-g --consumer-group-list GoKafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--------------------------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;consumer-group:GoKafka consumer-state:Empty
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæœ‰å®é™…æ¶ˆè´¹çŠ¶æ€çš„æ¶ˆè´¹è€…ç»„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸‹çš„å…¨éƒ¨æ¶ˆè´¹è€…çº¿ç¨‹ä»¥åŠæ¶ˆè´¹è€…å®ä¾‹ï¼Œæ¶ˆè´¹çš„å¯¹åº”çš„topicåˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe consumer-g --consumer-group-list group-sync
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--------------------------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;consumer-group:group-sync consumer-state:Stable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;consumer-id					consumer-ip			topic-list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;consumer-1-a9437739-e5cb-4b41-a9d3-2640b9878965	/172.16.64.207		[sync-dev]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;consumer-1-92eb690b-d327-468b-8990-9c21e1ee405d	/172.16.32.235		[sync-dev]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 10. è¿˜å¯ä»¥æŸ¥çœ‹æŸä¸ªæ¶ˆè´¹è€…ç»„æ¶ˆè´¹æŸä¸ªtopicçš„æ—¥å¿—è¯¦æƒ…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./build/gokafka.mac  --cluster dev-kafka describe consumer-group-offset --group group-sync --topic sync-dev
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sync-dev
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part:sync-dev-0 log-offsize:98
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part:sync-dev-1 log-offsize:0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part:sync-dev-2 log-offsize:340
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;topic-part:sync-dev-3 log-offsize:261
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Kafkaåœ¨Zookeeperä¸­çš„å­˜å‚¨ç»“æ„</title>
      <link>https://bgbiao.top/post/kafka%E5%9C%A8zookeeper%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/</link>
      <pubDate>Sun, 21 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/kafka%E5%9C%A8zookeeper%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè‡ªä»Kafkaè¯ç”Ÿä¹‹é™…ï¼Œå°±ä¸€ç›´ä½¿ç”¨ZookeeperæœåŠ¡æ¥è¿›è¡Œkafkaé›†ç¾¤çš„å…ƒæ•°æ®å’ŒçŠ¶æ€ç®¡ç†ï¼Œè™½ç„¶åœ¨&lt;a href=&#34;https://cwiki.apache.org/confluence/display/KAFKA/KIP-500%3A+Replace+ZooKeeper+with+a+Self-Managed+Metadata+Quorum&#34;&gt;KIP-500&lt;/a&gt;ä¸­æœ‰æè®®æœªæ¥å°†ç§»é™¤Zookeeperçš„ä¾èµ–ï¼Œä½¿ç”¨Raftåè®®æ¥å®ç°æ–°çš„å…ƒæ•°æ®å’ŒçŠ¶æ€ç®¡ç†ï¼Œä½†åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦å¯¹kafkaé›†ç¾¤çš„æ•´ä¸ªå…ƒæ•°æ®å’ŒçŠ¶æ€æœ‰ä¸€å®šç†è§£ï¼Œæ‰èƒ½æ›´å¥½çš„ç»´æŠ¤å’Œä¿éšœkafkaé›†ç¾¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h3&gt;
&lt;p&gt;åœ¨kafkaé›†ç¾¤ä¸­ï¼ŒZooKeeperé›†ç¾¤ç”¨äº&lt;code&gt;å­˜æ”¾é›†ç¾¤å…ƒæ•°æ®&lt;/code&gt;ã€&lt;code&gt;æˆå‘˜ç®¡ç†&lt;/code&gt;ã€&lt;code&gt;Controller é€‰ä¸¾&lt;/code&gt;ï¼Œä»¥åŠå…¶ä»–ä¸€äº›&lt;code&gt;ç®¡ç†ç±»ä»»åŠ¡&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;å­˜æ”¾å…ƒæ•°æ®&lt;/code&gt;: æ˜¯æŒ‡ä¸»é¢˜åˆ†åŒºçš„æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨ ZooKeeper ä¸­ï¼Œä¸”ä»¥å®ƒä¿å­˜çš„æ•°æ®ä¸ºæƒå¨ï¼Œå…¶ä»–â€œäººâ€ éƒ½è¦ä¸å®ƒä¿æŒå¯¹é½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æˆå‘˜ç®¡ç†&lt;/code&gt;: æ˜¯æŒ‡ Broker èŠ‚ç‚¹çš„æ³¨å†Œã€æ³¨é”€ä»¥åŠå±æ€§å˜æ›´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Controller é€‰ä¸¾&lt;/code&gt;: æ˜¯æŒ‡é€‰ä¸¾é›†ç¾¤ Controllerï¼Œè€Œå…¶ä»–ç®¡ç†ç±»ä»»åŠ¡åŒ…æ‹¬ä½†ä¸é™äºä¸»é¢˜åˆ é™¤ã€å‚æ•°é…ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;zookeeperæœåŠ¡&#34;&gt;ZookeeperæœåŠ¡&lt;/h3&gt;
&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹ZookeeperæœåŠ¡æœ‰ä¸€å®šçš„äº†è§£ã€‚åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼ŒZookeeperæœ‰å¦‚ä¸‹èƒ½åŠ›:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®ç®¡ç†: å…¶å®å°±æ˜¯å•çº¯çš„K/Vå­˜å‚¨ï¼Œå¯ä»¥ç”¨æ¥é…ç½®çš„å­˜å‚¨å’Œç®¡ç†ï¼Œå®ç°å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿç»„ä»¶çš„é›†ä¸­å¼çš„é…ç½®ç®¡ç†&lt;/li&gt;
&lt;li&gt;å‘½å: å‘½ä»¤ç©ºé—´ç®¡ç†ï¼Œåœ¨zookeeperä¸­é…ç½®å¯é€šè¿‡ä¸åŒçš„æ ¹è·¯å¾„æ¥å®ç°ç®€å•çš„å‘½åç©ºé—´éš”ç¦»(ç®€å•çš„chrootéš”ç¦»)&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼çš„åŒæ­¥æœåŠ¡: å¯ä¿è¯åˆ†å¸ƒå¼çš„åŒæ­¥&lt;/li&gt;
&lt;li&gt;åˆ†ç»„æœåŠ¡: å¯ä»¥å°†ä¸€ç»„æœåŠ¡é…ç½®è¿›è¡Œåˆ†ç»„ç®¡ç†ï¼Œå…¶å®åœ¨Dubboçš„æ³¨å†Œä¸­å¿ƒä¸­ï¼Œå°±æ˜¯ä½¿ç”¨åˆ†ç»„å’Œå‘½åæ¥ç»Ÿä¸€è¿›è¡Œç”Ÿäº§è€…çš„æ³¨å†Œå’Œå‘ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg095r9zy2j30go0553z6.jpg&#34; alt=&#34;Zookeeperæ¶æ„&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨Zookeeperä¸­æ‰€æœ‰çš„å‘½åç©ºé—´å’Œæ–‡ä»¶ç³»ç»Ÿæ¯”è¾ƒç±»ä¼¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„&lt;code&gt;è·¯å¾„&lt;/code&gt;ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg09dvjkrnj30ca071mxh.jpg&#34; alt=&#34;zookeeperå†…éƒ¨å­˜å‚¨ç»“æ„&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆZookeeperæœåŠ¡å¯ä»¥æ»¡è¶³é…ç½®ç®¡ç†å’Œåè°ƒæœåŠ¡å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºå®ƒçš„èŠ‚ç‚¹å±æ€§ï¼Œé€šå¸¸ä¹Ÿæ˜¯ç»å¸¸å¯èƒ½ä¼šå¿½ç•¥çš„é—®é¢˜ï¼Œå³åœ¨Zookeeperä¸­å­˜åœ¨ä¸¤ç§èŠ‚ç‚¹: &lt;code&gt;æŒä¹…èŠ‚ç‚¹&lt;/code&gt;å’Œ&lt;code&gt;ä¸´æ—¶èŠ‚ç‚¹&lt;/code&gt;ï¼ŒèŠ‚ç‚¹ä¹Ÿç§°ä¹‹ä¸º&lt;code&gt;znode&lt;/code&gt;ï¼Œè€Œznodeæœ¬èº«é™¤äº†æ•°æ®ä¹‹å¤–ï¼Œè¿˜ä¼šå­˜å‚¨ä¸€äº›é¢å¤–çš„ä¿¡æ¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®å˜æ›´çš„ç‰ˆæœ¬å·&lt;/li&gt;
&lt;li&gt;ACLå˜æ›´çš„ç‰ˆæœ¬å·&lt;/li&gt;
&lt;li&gt;æ—¶é—´æˆ³&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯æ¬¡znodeä¸­çš„æ•°æ®æœ‰å˜æ›´ï¼Œç‰ˆæœ¬å·éƒ½ä¼šé€’å¢ï¼Œå¹¶ä¸”clientåœ¨å‘znodeè·å–æ•°æ®æ—¶ï¼Œä¸ä»…ä¼šè·å–å®é™…æ•°æ®ï¼Œè€Œä¸”ä¼šè·å–åˆ°æ•°æ®çš„ç‰ˆæœ¬ï¼Œè¿™åœ¨æ•´ä¸ªé…ç½®ç®¡ç†é¢†åŸŸä¼šç›¸å½“æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢è¯´åˆ°çš„&lt;code&gt;æŒä¹…èŠ‚ç‚¹&lt;/code&gt;åªè¦znodeåˆ›å»ºåï¼Œä¾¿ä¸€ç›´ä¼šå­˜åœ¨ï¼Œè¿™ç§èŠ‚ç‚¹ä¸»è¦ç”¨äºé…ç½®çš„æŒä¹…åŒ–å­˜å‚¨ï¼Œåªè¦zookeeperé›†ç¾¤æ•´ä½“å¯ç”¨ï¼Œé‚£è¯¥èŠ‚ç‚¹ä¹Ÿä¸€ç›´å¯ç”¨(åŠæ—¶é›†ç¾¤å¼‚å¸¸åæ¢å¤ï¼Œè¯¥èŠ‚ç‚¹ä¾æ—§å­˜åœ¨)ï¼›è€Œ&lt;code&gt;ä¸´æ—¶èŠ‚ç‚¹&lt;/code&gt; éšç€æŸä¸ªåˆ›å»º znode çš„ä¼šè¯çš„å¼€å§‹ï¼Œè¢«åˆ›å»ºï¼Œè€Œä¸€æ—¦è¿™ä¸ªä¼šè¯è¢«æ’¤é™¤æ‰ï¼Œè¿™ä¸ª znode å°±ä¼šè‡ªåŠ¨è¢« ZooKeeper åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;code&gt;ä¸´æ—¶èŠ‚ç‚¹&lt;/code&gt;æ¥è®²ï¼Œç»å¸¸ä¼šè¢«ç”¨åœ¨å¦‚ä¸‹åœºæ™¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dubboä¸­çš„æœåŠ¡æ³¨å†Œ&lt;/li&gt;
&lt;li&gt;å…¶ä»–åˆ†å¸ƒå¼æœåŠ¡ä¸­çš„leaderé€‰ä¸¾&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è€ŒçœŸæ­£ä½¿å¾—Zookeeperåœ¨Javaè¯­è¨€ç”Ÿæ€ä¸­æœ‰å¦‚æ­¤å¤§å½±å“è¿˜ä¾èµ–äºå¦å¤–ä¸€ä¸ªåŠŸèƒ½: &lt;code&gt;watches&lt;/code&gt;ï¼ŒClient å¯ä»¥å¯¹æŸä¸ª znode è®¾ç½®&lt;code&gt;watch&lt;/code&gt; å½“è¿™ä¸ª znode æœ‰å˜æ›´çš„æ—¶å€™ï¼Œå°±ä¼šäº§ç”Ÿ&lt;code&gt;watch&lt;/code&gt; äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ä¼šç”± ZooKeeper é€šçŸ¥è‡³ Client, å³æ˜¯ Client ä¼šæ”¶åˆ°æ¥è‡ª Server çš„é€šçŸ¥ï¼Œå¯ä»¥å®ç°æ•°æ®çš„åŠ¨æ€å˜æ›´ã€‚(ä¹‹æ‰€ä»¥è¯´æ˜¯Javaè¯­è¨€ç”Ÿæ€ï¼Œæ˜¯å› ä¸ºåœ¨äº‘åŸç”Ÿé¢†åŸŸï¼ŒEtcdå‡ ä¹æ˜¯Zookeeperçš„æ›¿ä»£å“ï¼Œä¸åŒçš„æ˜¯å®ƒæ˜¯Golangè¯­è¨€ç”Ÿæ€ä½“ç³»ä¸­çš„)&lt;/p&gt;
&lt;h3 id=&#34;kafkaé›†ç¾¤æ•°æ®åœ¨zookeeperçš„å­˜å‚¨&#34;&gt;kafkaé›†ç¾¤æ•°æ®åœ¨zookeeperçš„å­˜å‚¨&lt;/h3&gt;
&lt;p&gt;å‰é¢å¯¹ZookeeperæœåŠ¡è¿›è¡Œäº†å¤§æ¦‚çš„è¯´æ˜,æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹kafkaçš„é›†ç¾¤æ•°æ®åœ¨zookeeperä¸­æ˜¯å¦‚ä½•å­˜å‚¨å’Œåˆ†å¸ƒçš„ã€‚&lt;/p&gt;
&lt;p&gt;é“¾æ¥zk:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‰é¢è¯´åˆ°zookeeperæ”¯æŒå‘½åç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªzookeeperé›†ç¾¤æ¥ç®¡ç†å¤šä¸ªkafkaé›†ç¾¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åªéœ€è¦åœ¨å¯åŠ¨kafkaæ—¶æŒ‡å®šzkçš„chrootç¯å¢ƒï¼Œæ¯”å¦‚/kafka åœ¨zookeeperä¸­å°†å­˜å‚¨åç§°ä¸º`kafka`çš„é›†ç¾¤çš„ç›¸å…³æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# sh zkCli.sh -server 127.0.0.1:2181
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Connecting&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;127&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2181&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;....&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;127&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2181&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CONNECTED&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ls&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kafka&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zookeeper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹kafkaæ•°æ®å­˜å‚¨ç»“æ„:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 1] ls /kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[admin, brokers, cluster, config, consumers, controller, controller_epoch, isr_change_notification, latest_producer_id_block, log_dir_event_notification]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;kafkaå…ƒæ•°æ®å­˜å‚¨ç›®å½•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;admin: å­˜å‚¨ç®¡ç†å‘˜æ¥å£æ“ä½œçš„ç›¸å…³ä¿¡æ¯ï¼Œä¸»è¦ä¸ºtopicåˆ é™¤äº‹ä»¶ï¼Œåˆ†åŒºè¿ç§»äº‹ä»¶ï¼Œä¼˜å…ˆå‰¯æœ¬é€‰ä¸¾ï¼Œä¿¡æ¯(ä¸€èˆ¬ä¸ºä¸´æ—¶èŠ‚ç‚¹)&lt;/li&gt;
&lt;li&gt;brokers: ä¸»è¦å­˜å‚¨brokerç›¸å…³çš„ä¿¡æ¯ï¼ŒbrokerèŠ‚ç‚¹ä»¥åŠèŠ‚ç‚¹ä¸Šçš„topicç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;cluster: å­˜å‚¨kafkaé›†ç¾¤ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;config: å­˜å‚¨brokerï¼Œclientï¼Œtopicï¼Œuserä»¥åŠchangerç›¸å…³çš„é…ç½®ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;consumers: å­˜æ”¾æ¶ˆè´¹è€…ç›¸å…³ä¿¡æ¯(ä¸€èˆ¬ä¸ºç©º)&lt;/li&gt;
&lt;li&gt;controller: ç”¨äºå­˜æ”¾æ§åˆ¶èŠ‚ç‚¹ä¿¡æ¯(æ³¨æ„: è¯¥èŠ‚ç‚¹æ˜¯ä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹ï¼Œç”¨äºcontrollerèŠ‚ç‚¹æ³¨å†Œ)&lt;/li&gt;
&lt;li&gt;controller_epoch: ç”¨äºå­˜æ”¾controllerèŠ‚ç‚¹å½“å‰çš„å¹´é¾„&lt;/li&gt;
&lt;li&gt;isr_change_notification: ç”¨äºå­˜å‚¨isrçš„å˜æ›´é€šçŸ¥(ä¸´æ—¶èŠ‚ç‚¹ï¼Œå½“æœ‰isrè¿›è¡Œå˜åŠ¨æ—¶ï¼Œä¼šç”¨äºäº‹ä»¶é€šçŸ¥ï¼Œå¯è¿›è¡Œwatchè·å–é›†ç¾¤isrçŠ¶æ€å˜æ›´)&lt;/li&gt;
&lt;li&gt;latest_producer_id_block:  è¯¥èŠ‚ç‚¹ç”¨äºå­˜å‚¨å¤„ç†äº‹åŠ¡ç›¸å…³çš„pidèŒƒå›´&lt;/li&gt;
&lt;li&gt;log_dir_event_notification: æ—¥å¿—ç›®å½•äº‹ä»¶é€šçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;adminç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 2] ls /kafka/admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[delete_topics]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 3] ls /kafka/admin/delete_topics
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 4] get  /kafka/admin/delete_topics
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;null
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;brokersç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# brokerå’Œtopicåˆ—è¡¨æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 5] ls /kafka/brokers
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ids, seqid, topics]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¡¨ç¤ºå½“å‰é›†ç¾¤æœ‰3ä¸ªèŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 6] ls /kafka/brokers/ids
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[1, 2, 3]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 7] ls /kafka/brokers/seqid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# è¡¨ç¤ºé›†ç¾¤å½“å‰çš„topicä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 8] ls /kafka/brokers/topics
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[__consumer_offsets, appjsonlog_heartbeat, nginx_log,ingress_log ]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# brokerè¯¦æƒ…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 10] get  /kafka/brokers/ids/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;listener_security_protocol_map&amp;#34;:{&amp;#34;PLAINTEXT&amp;#34;:&amp;#34;PLAINTEXT&amp;#34;},&amp;#34;endpoints&amp;#34;:[&amp;#34;PLAINTEXT://10.0.0.1:9092&amp;#34;],&amp;#34;jmx_port&amp;#34;:9999,&amp;#34;host&amp;#34;:&amp;#34;10.0.0.1&amp;#34;,&amp;#34;timestamp&amp;#34;:&amp;#34;1588925944886&amp;#34;,&amp;#34;port&amp;#34;:9092,&amp;#34;version&amp;#34;:4}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# topicè¯¦æƒ…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 11] get  /kafka/brokers/topics/__consumer_offsets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;version&amp;#34;:2,&amp;#34;partitions&amp;#34;:{&amp;#34;1&amp;#34;:[2,1,3],&amp;#34;0&amp;#34;:[3,2,1],&amp;#34;2&amp;#34;:[1,2,3],&amp;#34;adding_replicas&amp;#34;:{},&amp;#34;removing_replicas&amp;#34;:{}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: localhost:2181(CONNECTED) 3] ls /brokers/topics/__consumer_offsets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[partitions]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: localhost:2181(CONNECTED) 4] ls /brokers/topics/__consumer_offsets/partitions
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[0, 1, 2]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æŸ¥çœ‹topicæŸä¸ªåˆ†åŒºçš„çŠ¶æ€è¯¦æƒ…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: localhost:2181(CONNECTED) 6] ls /brokers/topics/__consumer_offsets/partitions/1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[state]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: localhost:2181(CONNECTED) 7] ls /brokers/topics/__consumer_offsets/partitions/1/state
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: localhost:2181(CONNECTED) 8] get  /brokers/topics/__consumer_offsets/partitions/1/state
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;controller_epoch&amp;#34;:3,&amp;#34;leader&amp;#34;:1,&amp;#34;version&amp;#34;:1,&amp;#34;leader_epoch&amp;#34;:12,&amp;#34;isr&amp;#34;:[3,1]}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;clusterç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 5] get   /kafka/cluster/id
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;version&amp;#34;:&amp;#34;1&amp;#34;,&amp;#34;id&amp;#34;:&amp;#34;5C-JZf4vRdqKzlca7Lv7pA&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cZxid = 0x100000018
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ctime = Fri Mar 30 22:21:07 CST 2018
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mZxid = 0x100000018
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mtime = Fri Mar 30 22:21:07 CST 2018
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pZxid = 0x100000018
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cversion = 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dataVersion = 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;aclVersion = 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ephemeralOwner = 0x0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dataLength = 45
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;numChildren = 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;configç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 12] ls /kafka/config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[brokers, changes, clients, topics, users]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œconfigç›®å½•ç”¨æ¥å­˜æ”¾å„ç§å®ä½“çš„é…ç½®ï¼Œç”¨äºä½¿ç”¨kafkaç›¸å…³å·¥å…·å¯¹å®ä½“è¿›è¡Œçš„é…ç½®å˜æ›´å­˜å‚¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å› æ­¤ï¼Œä¸€èˆ¬åœ¨kafkaé›†ç¾¤è¿è¡Œåï¼Œå¦‚ä¸è®¾ç½®ç›¸å…³åŠ¨æ€å‚æ•°ï¼Œè¯¥ç›®å½•ä¸‹çš„é…ç½®ä¸€èˆ¬ä¸ºç©º
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 19] ls /kafka/config/brokers
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 20] ls /kafka/config/changes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 21] ls /kafka/config/clients
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 22] ls /kafka/config/topics
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[__consumer_offsets]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 23] ls /kafka/config/users
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥çœ‹åˆ°ï¼Œå­˜å‚¨æ¶ˆè´¹è€…åç§»é‡çš„topicåœ¨é…ç½®ä¸­
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# æ˜¯å› ä¸ºè¯¥topicæœ‰ä¸€äº›é¢å¤–çš„topicçº§åˆ«å‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¦‚æœæˆ‘ä»¬å¯¹topicå‚æ•°æœ‰è¿‡åŠ¨æ€å˜æ›´ï¼Œå°†ä¼šåœ¨è¿™é‡Œå­˜å‚¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 24] get /kafka/config/topics/__consumer_offsets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;version&amp;#34;:1,&amp;#34;config&amp;#34;:{&amp;#34;segment.bytes&amp;#34;:&amp;#34;104857600&amp;#34;,&amp;#34;compression.type&amp;#34;:&amp;#34;producer&amp;#34;,&amp;#34;cleanup.policy&amp;#34;:&amp;#34;compact&amp;#34;}}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;controllerç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥çœ‹åˆ°å½“å‰broker-1ä¸ºé›†ç¾¤çš„controllerèŠ‚ç‚¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 30] get  /kafka/controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;version&amp;#34;:1,&amp;#34;brokerid&amp;#34;:1,&amp;#34;timestamp&amp;#34;:&amp;#34;1588833869354&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;controller_epoch ç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å¯ä»¥çœ‹åˆ°controllerçš„å¹´é¾„æ˜¯2ï¼Œè¯´æ˜controllerç»å†è¿‡2æ¬¡å˜æ›´äº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 32] get  /kafka/controller_epoch
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å…¶ä»–å‡ ä¸ªç›®å½•ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# å­˜å‚¨äº‹åŠ¡ç›¸å…³çš„pidèŒƒå›´æ•°æ®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# brokerå¯åŠ¨æ—¶æå‰é¢„åˆ†é…ä¸€æ®µ PIDï¼Œå½“å‰æ˜¯ 0~999ï¼Œå³æå‰åˆ†é…å‡º 1000 ä¸ª PID æ¥
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# ä¸€æ—¦ PID è¶…è¿‡äº† 999ï¼Œåˆ™ç›®å‰ä¼šæŒ‰ç…§ 1000 çš„æ­¥é•¿é‡æ–°åˆ†é…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# é›†ç¾¤ä¸­æ‰€æœ‰ broker å¯åŠ¨æ—¶éƒ½ä¼šå¯åŠ¨ä¸€ä¸ªå« TransactionCoordinator çš„ç»„ä»¶ï¼Œè¯¥ç»„ä»¶èƒ½å¤Ÿæ‰§è¡Œé¢„åˆ†é… PID å—å’Œåˆ†é… PID çš„å·¥ä½œï¼Œè€Œæ‰€æœ‰ broker éƒ½ä½¿ç”¨ /latest_producer_id_block èŠ‚ç‚¹æ¥ä¿å­˜ PID å—
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 37] get  /kafka/latest_producer_id_block
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{&amp;#34;version&amp;#34;:1,&amp;#34;broker&amp;#34;:1,&amp;#34;block_start&amp;#34;:&amp;#34;19000&amp;#34;,&amp;#34;block_end&amp;#34;:&amp;#34;19999&amp;#34;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 39] ls /kafka/isr_change_notification
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 40] get  /kafka/isr_change_notification
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;null
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 41] ls /kafka/log_dir_event_notification
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[zk: 127.0.0.1:2181(CONNECTED) 42] get  /kafka/log_dir_event_notification
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;null
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªkafkaå…ƒæ•°æ®åœ¨zookeeperé›†ç¾¤ä¸­çš„æ•´ä½“å­˜å‚¨ç»“æ„ï¼Œä¸‹é¢é™„ä¸Šä¸€å¼ kafkaçš„å…ƒæ•°æ®å­˜å‚¨ç»“æ„å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;kafkaå…ƒæ•°æ®åœ¨zkä¸­çš„åˆ†å¸ƒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gg0a21u6coj31am0u0tlf.jpg&#34; alt=&#34;kafkaåœ¨zookeeperä¸­çš„å­˜å‚¨ç»“æ„&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>ä¸€æ–‡å¸®ä½ ç†è§£æ•´ä¸ªSREè¿ç»´ä½“ç³»</title>
      <link>https://bgbiao.top/post/sre%E8%BF%90%E7%BB%B4%E4%BD%93%E7%B3%BB/</link>
      <pubDate>Fri, 19 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/sre%E8%BF%90%E7%BB%B4%E4%BD%93%E7%B3%BB/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;SREè¿ç»´ä½“ç³»çš„æ„å»ºå’Œå·¥ä½œèŒè´£åˆ’åˆ†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;å¯è§‚æµ‹æ€§ç³»ç»Ÿ&#34;&gt;å¯è§‚æµ‹æ€§ç³»ç»Ÿ&lt;/h4&gt;
&lt;p&gt;åœ¨ä»»ä½•æœ‰ä¸€å®šè§„æ¨¡çš„ä¼ä¸šå†…éƒ¨ï¼Œä¸€æ—¦æ¨è¡Œèµ·æ¥æ•´ä¸ªSREçš„è¿ç»´æ¨¡å¼ï¼Œé‚£ä¹ˆå¯¹äºå¯è§‚æµ‹æ€§ç³»ç»Ÿçš„å»ºè®¾å°†å˜å¾—å°¤ä¸ºé‡è¦ï¼Œè€Œåœ¨æ•´ä¸ªå¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šåˆ†ä¸ºå¦‚ä¸‹ä¸‰ä¸ªæ–¹é¢:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡æ ‡ç›‘æ§ï¼šå³å„ç§æŒ‡æ ‡ç›‘æ§ï¼Œæ¯”å¦‚åŸºç¡€èµ„æºæŒ‡æ ‡ï¼ŒæœåŠ¡æ€§èƒ½æŒ‡æ ‡ï¼Œä¸šåŠ¡çš„è°ƒç”¨æŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;æ—¥å¿—ï¼šå„ç§è®¾å¤‡ä»¥åŠæœåŠ¡çš„è¿è¡Œæ—¥å¿—ç›‘æ§ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨é“¾ï¼šä¸šåŠ¡å±‚é¢çš„è°ƒç”¨é“¾åˆ†æï¼Œé€šå¸¸åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¸®åŠ©è¿è¥ã€å¼€å‘ä»¥åŠè¿ç»´äººå‘˜å¿«é€Ÿè¯†åˆ«æ•´ä½“è°ƒç”¨çš„ç“¶é¢ˆç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€æ•´å¥—çš„å¯è§‚æµ‹ç³»ç»Ÿï¼Œå®ƒèƒ½ç¡®ä¿ä½ æ´å¯Ÿç³»ç»Ÿï¼Œè·Ÿè¸ªç³»ç»Ÿçš„å¥åº·çŠ¶æ€ã€å¯ç”¨æ€§ä»¥åŠç³»ç»Ÿå†…éƒ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ•´ä¸ªå¯è§‚æµ‹ç³»ç»Ÿçš„å»ºè®¾ï¼Œéœ€è¦æ³¨æ„å¦‚ä¸‹ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ç¡®å®šè´¨é‡æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Œå¹¶ç¡®ä¿ç³»ç»ŸæŒç»­é€¼è¿‘æˆ–ä¿æŒåœ¨è´¨é‡æ ‡å‡†æé™èŒƒå›´å†…&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ç³»ç»Ÿåœ°å…³æ³¨è¿™é¡¹å·¥ä½œâ€”è€Œä¸åº”è¯¥åªæ˜¯éšæœºåœ°æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨æ•´ä¸ªä¼ä¸šçº§å¯è§‚æµ‹ç³»ç»Ÿä¸­ï¼Œæˆ‘è®¤ä¸ºè‡³å°‘åº”è¯¥åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªç‰¹å¾ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®Œå¤‡æŒ‡æ ‡é‡‡é›†: å¯ä»¥å¯¹æ¥ä¼ä¸šå†…å¤§éƒ¨åˆ†çš„è®¾å¤‡ä¸æŠ€æœ¯æ ˆç›¸åº”çš„ç›‘æ§æŒ‡æ ‡ï¼›åŒæ—¶ï¼Œæ”¯æŒå¸¸è§è®¾å¤‡çš„ç›‘æ§æŒ‡æ ‡ä½“ç³»ï¼Œå¯ä»¥å¿«é€Ÿæ¥å…¥ç›‘æ§è®¾å¤‡å’ŒæŒ‡æ ‡ï¼Œé¿å…æ‰€æœ‰è®¾å¤‡ç›‘æ§éƒ½æ˜¯ä»å¤´æ„å»ºï¼›å¯¹äºæ—¥å¿—æ•°æ®çš„é‡‡é›†æ”¯æŒ&lt;/li&gt;
&lt;li&gt;æµ·é‡è®¾å¤‡æ”¯æŒ: ä¼ä¸šITç³»ç»Ÿæ•°é‡å’Œè§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œå› æ­¤ç›‘æ§ç³»ç»Ÿæ¯”ä»¥å‰éœ€è¦ç›‘æ§æµ·é‡è®¾å¤‡ç›‘æ§ã€‚&lt;/li&gt;
&lt;li&gt;ç›‘æ§æ•°æ®å­˜å‚¨å’Œåˆ†æ: ç›‘æ§æ•°æ®æ˜¯è¿ç»´åˆ†æã€è¿ç»´è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–çš„åŸºç¡€ï¼Œå› æ­¤æµ·é‡ç›‘æ§æ•°æ®å­˜å‚¨ä»¥åŠåŸºäºç›‘æ§æ•°æ®çš„å¯è§†åŒ–åˆ†ææ˜¯ä¸€ä¸ªç›‘æ§ç³»ç»Ÿçš„åŸºæœ¬èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯è§‚æµ‹ç³»ç»Ÿæ˜¯æ•´ä¸ªè¿ç»´ä½“ç³»çš„åŸºç¡€ï¼Œå®ƒéœ€è¦æä¾›æ•´ä¸ªè¿ç»´ä½“ç³»çš„æ•°æ®åŒ–æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä¸€ä¸ªä¼ä¸šçº§çš„å¯è§‚æµ‹æ€§ç³»ç»Ÿåº”è¯¥æ˜¯å¹³å°åŒ–çš„ã€‚ä¸€æ–¹é¢å¯ä»¥é€šè¿‡é…ç½®æˆ–è€…å¼€å‘å®ç°æ›´å¤š &lt;code&gt;è¿ç»´æŒ‡æ ‡&lt;/code&gt;çš„æ¥å…¥ï¼›å¦ä¸€æ–¹é¢ï¼Œäº¦å¯å¯¹æ¥æ›´å¤šçš„&lt;code&gt;ä¸“ä¸šè¿ç»´å·¥å…·&lt;/code&gt;ï¼Œæ•´åˆå¹¶æ‰“é€šå¤šå…ƒçš„è¿ç»´æ•°æ®ï¼Œä¸ºæ›´å¤šè¿ç»´åœºæ™¯æä¾›æ•°æ®æœåŠ¡ã€‚ä»æ•´ä½“ä¸Šï¼Œå¯è§‚æµ‹æ€§ç³»ç»Ÿä¸ºä¼ä¸šè¿ç»´æä¾›äº†ä¸€ä¸ª&lt;code&gt;æ•°æ®åŸºç¡€&lt;/code&gt;ï¼Œè®©æˆ‘ä»¬å¯¹&lt;code&gt;äº‹æ•…å“åº”ä»¥åŠå®¹é‡é¢„æµ‹&lt;/code&gt;ç­‰æ–¹é¢æ›´å¤šä½¿ç”¨æ•°æ®è€Œéå‡­å€Ÿä»¥å¾€ç»éªŒå’Œæ‹è„‘è¢‹åšå‡ºå†³ç­–ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ•…éšœå“åº”&#34;&gt;æ•…éšœå“åº”&lt;/h4&gt;
&lt;p&gt;å¦‚æœæœ‰ä»€ä¹ˆä¸œè¥¿å‡ºäº†æ•…éšœï¼Œè¯¥å¦‚ä½•æé†’å¤§å®¶å¹¶åšå‡ºå›åº”ï¼Ÿå·¥å…·å¯ä»¥å¸®åŠ©è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå›½ä¸ºå®ƒå¯ä»¥å®šä¹‰æé†’äººç±»çš„è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;æ•…éšœå“åº”æ˜¯å»ºç«‹åœ¨&lt;code&gt;ä½¿ç”¨å¯è§‚æµ‹æ€§ç³»ç»Ÿæ„å»ºçš„æ•°æ®&lt;/code&gt;ä¹‹ä¸Šï¼Œå¹¶å€ŸåŠ©åé¦ˆå¾ªç¯ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬åŠ å¼ºå¯¹æœåŠ¡çš„ç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;æ•…éšœå“åº”é€šå¸¸åŒ…å«å¦‚ä¸‹å‡ ä¸ªåŠ¨ä½œ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…³æ³¨: ä¸è®ºæ˜¯ä¸»åŠ¨å‘ç°ç“¶é¢ˆç‚¹æˆ–å¼‚å¸¸ç‚¹ï¼Œè¿˜æ˜¯é€šè¿‡å¯è§‚æµ‹æ€§ç³»ç»Ÿè¢«åŠ¨æš´éœ²ç“¶é¢ˆç‚¹ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥è¿›è¡Œä¸»åŠ¨å…³æ³¨&lt;/li&gt;
&lt;li&gt;äº¤æµ: åŠæ—¶å°†è§‚å¯Ÿåˆ°é£é™©ç‚¹é€šçŸ¥åˆ°ç›¸å…³æ–¹ï¼Œå¹¶å‘ŠçŸ¥å½±å“é¢ä»¥åŠç›¸å…³çš„è¡¥æ•‘æªæ–½&lt;/li&gt;
&lt;li&gt;æ¢å¤: ä¸‰æ–¹è¾¾æˆä¸€è‡´åï¼Œæ ¹æ®è¡¥æ•‘æªæ–½è¿›è¡Œä¿®å¤ç›¸å…³é£é™©ç‚¹å’Œå¼‚å¸¸ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨å‰æœŸæ•´ä¸ªå¯è§‚æµ‹æ€§ç³»ç»Ÿèƒ½å¤Ÿåšå¥½ï¼Œé€šå¸¸æ•…éšœåº”å½“å§‹äºä¸€ä¸ªç®€å•çš„å‘Šè­¦ä¿¡æ¯æˆ–ä¸€ä¸ªæŠ¥éšœç”µè¯ï¼Œå› æ­¤ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå¯è§‚æµ‹ç³»ç»Ÿåšçš„è¶³å¤Ÿå¥½ä»…èƒ½èµ·åˆ°è¿½æº¯å’Œæ’æŸ¥çš„ä½œç”¨ï¼Œä½†æ˜¯æ— æ³•èµ·åˆ°åŠæ—¶å‘ç°çš„ä½œç”¨ï¼Œæ­¤æ—¶å°±éœ€è¦ä¾èµ–äºå„ä¸ªè§‚æµ‹æ•°æ®è¿›è¡Œè®¡ç®—å’Œè¯„ä¼°å‘Šè­¦ï¼Œä»¥åŠæ—¶å°†ç›¸å…³çš„å‘Šè­¦é€šçŸ¥åˆ°ç›¸å…³äººï¼Œä»¥æš´éœ²é£é™©ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å‘Šè­¦åªæ˜¯æ•´ä¸ªæ•…éšœå“åº”çš„ç¬¬ä¸€ä¸ªç¯èŠ‚ï¼Œè§£å†³çš„æ˜¯æ•…éšœå¦‚ä½•å‘ç°çš„é—®é¢˜ï¼Œè€Œå¤§å¤šæ•°çš„æ•…éšœå“åº”å·¥ä½œéƒ½æ˜¯å…³äºå®šä¹‰å¤„ç†ç­–ç•¥å’Œæä¾›åŸ¹è®­çš„ï¼Œä»¥ä¾¿äººä»¬åœ¨æ”¶åˆ°è­¦æŠ¥æ—¶çŸ¥é“è¯¥æ€ä¹ˆåšï¼Œé€šå¸¸è¿™éƒ¨åˆ†æ›´å¤šçš„æ˜¯è¿‡å»å†å²ç»éªŒå’Œè¿ç»´ç»å†çš„æ€»ç»“å’Œæ²‰æ·€ï¼ŒåŒ…æ‹¬ç»éªŒçš„ä¸€äº›æŠ½è±¡å’Œå·¥å…·åŒ–æ²‰æ·€ï¼Œä»¥ä¿è¯æ•…éšœå“åº”çš„æ•ˆç‡å’Œæ™®éåŒ–(å³ä¸ä¾èµ–äººä¸ºç»éªŒ)ã€‚&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºæ•´ä¸ªå‘Šè­¦ç³»ç»Ÿæ¥è¯´ï¼Œéœ€è¦ç¡®ä¿çš„æ˜¯å‘Šè­¦çš„æœ‰æ•ˆæ€§ï¼Œå¦åˆ™ï¼Œæ•´ä¸ªæŠ¥è­¦ç³»ç»Ÿå¾ˆæœ‰å¯èƒ½æ²¦è½ä¸ºåƒåœ¾æ•°æ®åˆ¶é€ æœºï¼Œå‘Šè­¦æœ‰æ•ˆæ€§æ„å‘³ç€éœ€è¦æ»¡è¶³å¦‚ä¸‹ä¸¤ä¸ªéœ€æ±‚:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘Šè­¦åŠæ—¶æ€§: ç³»ç»Ÿæœ‰é—®é¢˜éœ€è¦åŠæ—¶é€šè¿‡å‘Šè­¦ä¿¡æ¯å‘ŠçŸ¥è¿ç»´å¤„ç†äººå‘˜åŠæ—¶å¤„ç†å‘Šè­¦;&lt;/li&gt;
&lt;li&gt;å‘Šè­¦å‡†ç¡®æ€§: åªè¦æœ‰å‘Šè­¦ä¿¡æ¯ç³»ç»Ÿå¿…ç„¶å‡ºç°é—®é¢˜(å¯¹äºå¾ˆå¤šä¼ä¸šå¯èƒ½å­˜åœ¨å¤§é‡çš„æ— ç”¨å‘Šè­¦ï¼Œæ¯”å¦‚ç£ç›˜é—®é¢˜ï¼Œmemç­‰ç›¸å…³é—®é¢˜ï¼Œå½“ç„¶è¿™é‡Œæ¶‰åŠåˆ°äº†è‡ªåŠ¨åŒ–ã€ä¸šåŠ¡å½¢æ€ã€å‘Šè­¦é˜ˆå€¼çš„é—®é¢˜);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨æ•´ä¸ªè¿ç»´è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘ç°æœ‰å¤§é‡çš„æ— å…³ç´§è¦çš„å‘Šè­¦ä¿¡æ¯ï¼Œè®©è¿ç»´äººå‘˜çš„æ³¨æ„åŠ›è¿·å¤±åœ¨å‘Šè­¦æµ·æ´‹å½“ä¸­ï¼Œè€Œé€šå¸¸éè¿ç»´é¢†åŸŸçš„é¢†å¯¼ä¼šå…³æ³¨æ•´ä¸ªå‘Šè­¦çš„å“åº”ç¨‹åº¦ï¼Œå› æ­¤ï¼ŒæŠ‘åˆ¶å’Œæ¶ˆé™¤æ— æ•ˆçš„å‘Šè­¦ï¼Œè®©è¿ç»´äººå‘˜ä¸è¢«å‘Šè­¦é£æš´æ‰€åæ²¡ï¼Œä¹Ÿæ˜¯å‘Šè­¦ç®¡ç†ä¸­é‡ç‚¹å»ºè®¾çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µï¼Œåœ¨æˆ‘ä»¬çš„å„ä¸ªå¯è§‚æµ‹ç³»ç»Ÿæ„å»ºå®Œæˆåï¼Œå¯ä»¥é€šè¿‡æ•´åˆåˆ°ç›‘æ§å¹³å°ä¸­çš„å„ç§ç›‘æ§æ•°æ®ï¼Œåº”ç”¨è¶‹åŠ¿é¢„æµ‹ã€çŸ­å‘¨æœŸæ£€æµ‹ã€é—´æ­‡æ€§æ¢å¤ã€åŸºçº¿åˆ¤æ–­ã€é‡å¤å‹ç¼©ç­‰ç®—æ³•å’Œæ‰‹æ®µå®ç°å‘Šè­¦å‹ç¼©æ”¶æ•›ï¼Œå¼ºåŒ–å‘Šè­¦çš„æœ‰æ•ˆæ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfxkaxxf68j30u00dhjtx.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œé¢å‘ä¸€çº¿çš„è¿ç»´äººå‘˜ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®åŒä¸€ä¸ªç³»ç»Ÿæˆ–è®¾å¤‡çš„å¤šä¸ªç›‘æ§æŒ‡æ ‡è¿›è¡Œç»¼åˆæ€§å»ºæ¨¡å’Œåˆ†æï¼Œæ±‡æ€»æˆä¸€ä¸ªå¥åº·åº¦çš„åˆ†å€¼ï¼Œç»™äºˆä¸€çº¿è¿ç»´äººå‘˜ç³»ç»Ÿçš„åŸºäºå¥åº·åº¦çš„ç³»ç»Ÿåˆ†å±‚è¯„ä»·ä½“ç³»ï¼ŒçœŸå®ã€ç›´è§‚åæ˜ ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ï¼Œå®ç°é—®é¢˜å¿«é€Ÿå®šç•Œã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œé€šè¿‡åŸºç¡€èµ„æºçš„å¤šä¸ªæŒ‡æ ‡è¿›è¡Œç»¼åˆåŠ æƒè®¡ç®—æ¥æ•´ä½“è¯„ä¼°è¯¥èµ„æºçš„åˆ©ç”¨ç‡ï¼›é€šè¿‡ä¸€ä¸ªåº”ç”¨å…³è”çš„å…¨éƒ¨èµ„æºçš„èµ„æºåˆ©ç”¨ç‡ä»¥åŠåº”ç”¨çš„è¿ç»´æ¶æ„æ•´ä½“å»ºæ¨¡åˆ†ææ¥è®¡ç®—ä¸€ä¸ªåˆ†å€¼æ¥æ•´ä½“è¯„ä¼°è¯¥åº”ç”¨çš„å¥åº·ç¨‹åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹å¦‚æœåšå¾—æˆç†Ÿä¸€äº›ï¼Œå¯ä»¥æ ¹æ®å†…éƒ¨å·²æœ‰çš„è§£å†³æ–¹æ¡ˆå’Œå‘Šè­¦è¿›è¡Œé—­ç¯æ‰“é€šï¼Œä¸€ä¸ªç®€å•çš„åœºæ™¯å°±æ˜¯ï¼Œå½“ç£ç›˜æ»¡æ—¶ï¼Œå‘Šè­¦ä¼šé¦–å…ˆè§¦å‘ä¸€æ¬¡æ ‡å‡†åŒ–çš„ç£ç›˜å·¡æ£€ï¼Œå¹¶è¿›è¡Œç›¸å…³çš„å¯ä¸¢å¼ƒæ•°æ®çš„åˆ é™¤ï¼Œå¦‚æœä¾ç„¶æ— æ³•è§£å†³è¯¥æŠ¥è­¦ï¼Œä¸‹æ¬¡å¯ç›´æ¥å…³è”åˆ°ä¸€çº¿è¿ç»´è¿›è¡Œäººå·¥å¹²é¢„ï¼Œä¹‹åè¿›è¡Œæ ‡å‡†åŒ–ç»éªŒæ€»ç»“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ•…éšœå¤ç›˜&#34;&gt;æ•…éšœå¤ç›˜&lt;/h4&gt;
&lt;p&gt;æ•…éšœå¤ç›˜å°±æ˜¯å¯¹äºè¿‡å»çš„ä¸€äº›æœåŠ¡å¼‚å¸¸å’ŒæœåŠ¡ä¸­æ–­æƒ…å†µè¿›è¡Œå›é¡¾å’Œæ€»ç»“ï¼Œä»¥ç¡®ä¿ç›¸åŒé—®é¢˜ä¸‹æ¬¡ä¸ä¼šå†å‡ºç°ã€‚ä¸ºäº†è®©å¤§å®¶å›¢ç»“åä½œï¼Œæˆ‘ä»¬å¸Œæœ›å»ºç«‹ä¸€ç§æ— æŒ‡è´£ã€é€æ˜çš„äº‹åæ–‡åŒ–ã€‚ä¸ªäººä¸åº”è¯¥å®³æ€•äº‹æ•…ï¼Œè€Œæ˜¯ç¡®ä¿¡å¦‚æœäº‹æ•…å‘ç”Ÿï¼Œå›¢é˜Ÿå°†ä¼šå“åº”å’Œæ”¹è¿›ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¤‡æ³¨: å…¶å®åœ¨å›½å†…çš„SREæ–‡åŒ–ä¸­ï¼Œä¸€èˆ¬åªæœ‰å¯¹å¤§å‹ï¼Œå¯¹ä¸šåŠ¡æœ‰é‡å¤§å½±å“çš„äº‹æ•…æ‰ä¼šè¿›è¡Œå¤ç›˜ï¼Œä½†å®é™…ä¸Šå¦‚æœåœ¨æ—¶é—´å’Œç»å†å…è®¸çš„æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€èˆ¬çš„æ™®é€šäº‹æ•…ä¹Ÿåº”è¯¥åœ¨å°èŒƒå›´è¿›è¡Œå¤ç›˜ï¼Œæ­£æ‰€è°“å¤§çš„æ•…éšœéƒ½æ˜¯ä»ä¸æ–­çš„å°é—®é¢˜ä¸€ç‚¹ä¸€ç‚¹ç§¯ç´¯çš„ã€‚å¦å¤–ï¼Œå…¶å®å¯¹äºè¿ç»´ç›¸å…³çš„ä¸ªäººè€Œè¨€ï¼Œæˆ‘ä»¬ä¹Ÿåº”å½“åŠæ—¶çš„è¿›è¡Œå°æ•…éšœå¤ç›˜ï¼Œä»¥ä¸æ–­åŠ å¼ºä¸ªäººçš„æ•…éšœå¤„ç†å’Œä¿®å¤èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºSREçš„ä¸€ä¸ªå…³é”®å…±è¯†æ­£æ˜¯æ‰¿è®¤äº†ç³»ç»Ÿçš„ä¸å®Œç¾æ€§ï¼Œè¿½æ±‚æ°¸ä¸åœæœºçš„ç³»ç»Ÿæ˜¯ä¸ç°å®çš„ã€‚åŸºäºä¸å®Œç¾ç³»ç»Ÿï¼Œæˆ‘ä»¬æ— å¯é¿å…è¦é¢å¯¹å’Œç»å†ç³»ç»Ÿæ•…éšœä¸å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬é‡è¦çš„å¹¶éæ‰¾åˆ°ä¸ºè¿™ä¸ªæ•…éšœè´£ä»»çš„è¿™ä¸ªäººæˆ–è€…é‚£ä¸ªäººï¼Œè€Œæ˜¯æ›´åº”è¯¥åˆ›æ ¹é—®åº•åœ°å¤ç›˜è¿™ä¸ªæ•…éšœå’Œå¤±è´¥çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•é¿å…å†æ¬¡å‡ºç°ç›¸åŒçš„æ•…éšœã€‚ç³»ç»Ÿå¯é æ€§æ˜¯æ•´ä¸ªå›¢é˜Ÿå…±åŒå¥‹æ–—çš„æ–¹å‘ï¼Œä»å¤±è´¥ä¸­å¿«é€Ÿæ¢å¤å¹¶å¸å–æ•™è®­ï¼Œæ¯ä¸ªäººæ”¾å¿ƒåœ°æå‡ºé—®é¢˜ï¼Œåº”å¯¹åœæœºï¼Œå¹¶åŠªåŠ›æ”¹è¿›ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¤‡æ³¨: é€šå¸¸å¾ˆå¤šä¼ä¸šå†…éƒ¨åœ¨æ•…éšœå¤ç›˜è¿‡ç¨‹ä¸­ï¼Œç›¸å…³äººå‘˜å¯èƒ½å°†æ•…éšœå’Œå¤±è´¥çš„æ ¹å› è¿½æº¯ ä¸ç»æ„é—´ å½“åšäº†æ•…éšœå®šè´£å’Œä¸€ç³»åˆ—çš„æƒ©ç½šæªæ–½ï¼Œé€šè¿‡ä¸€äº›æƒ©æˆ’æªæ–½æ¥å¼ºè¡Œçº¦å®šæ•…éšœçš„å‘ç”Ÿï¼Œè¿™ç§æ–¹å¼å¾€å¾€æ˜¯éå¸¸ä¸å¯å–çš„ï¼Œè¯•æƒ³æ¯ä¸ªäººéƒ½ä¸æƒ³å‡ºç°äº‹æ•…ï¼Œè¦ä¹ˆæ˜¯è®¤çŸ¥ä¹‹å¤–ï¼Œè¦ä¹ˆæ˜¯è§„åˆ™ç¼ºé™·ï¼Œæ°¸è¿œæ²¡æœ‰ä¸€ä¸ªäººæ˜çŸ¥ä¼šæœ‰æ•…éšœè€Œååå»åˆ¶é€ æ•…éšœçš„ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦ç‰¢è®°çš„æ˜¯: &lt;code&gt;æ•…éšœæ˜¯æˆ‘ä»¬å¯ä»¥ä»ä¸­å­¦ä¹ çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯è®©äººå®³æ€•å’Œç¾è€»çš„äº‹æƒ…ï¼&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ—¥å¸¸è¿ç»´è¿‡ç¨‹ä¸­ï¼Œå‡ºç°æ•…éšœç­‰äº‹æ•…å¯¹äºæˆ‘ä»¬è€Œè¨€å…¶å®æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¤ç›˜å­¦ä¹ æœºä¼šã€‚é€šè¿‡å†å²ç›‘æ§æ•°æ®ï¼Œåˆ†æäº‹æ•…å…¶ä¸­çš„æ ¹æœ¬åŸå› ï¼Œåˆ¶å®šåç»­åº”å¯¹ç­–ç•¥ï¼Œå¹¶ä¸”é€šè¿‡è¿ç»´å¹³å°å°†è¿™äº›åº”å¯¹ç­–ç•¥ç¼–è¾‘æˆæ ‡å‡†åŒ–ã€å¯é‡ç”¨ã€è‡ªåŠ¨åŒ–çš„è¿ç»´åº”ç”¨åœºæ™¯ï¼Œä¸ºåç»­ç›¸åŒé—®é¢˜çš„å¤„ç†æä¾›æ ‡å‡†ä¸”å¿«æ·çš„è§£å†³æ–¹æ¡ˆã€‚è¿™æ­£æ˜¯äº‹åå›é¡¾è¿™ä¸ªè¿‡ç¨‹æœ€çœŸå®çš„ä»·å€¼ä½“ç°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æµ‹è¯•ä¸å‘å¸ƒ&#34;&gt;æµ‹è¯•ä¸å‘å¸ƒ&lt;/h4&gt;
&lt;p&gt;æµ‹è¯•ä¸å‘å¸ƒå¯¹äºæ•´ä¸ªç¨³å®šæ€§å’Œå¯é æ€§çš„ä¸»è¦å‡ºäºä¸€ä¸ªé¢„é˜²çš„ä½œç”¨ï¼Œé¢„é˜²æ˜¯æŒ‡å°è¯•é™åˆ¶å‘ç”Ÿçš„äº‹æ•…æ•°é‡ï¼Œå¹¶ç¡®ä¿åœ¨å‘å¸ƒæ–°ä»£ç æ—¶åŸºç¡€æ¶æ„å’ŒæœåŠ¡èƒ½å¤Ÿä¿æŒç¨³å®šã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªé•¿æœŸä»äº‹è¿ç»´å·¥ä½œçš„äººï¼Œå¯èƒ½å†…å¿ƒä¸­æœ€ä¸ºææƒ§çš„è«è¿‡äºæ–°åº”ç”¨ç‰ˆæœ¬å‘å¸ƒã€‚å› ä¸ºé™¤äº†ç¡¬ä»¶å’Œç½‘ç»œè®¾å¤‡æŸåè¿™ä¸ªå±äºå¤©ç¾çº§åˆ«çš„æ¦‚ç‡äº‹ä»¶å¤–ï¼Œæ–°åº”ç”¨ç‰ˆæœ¬å‘å¸ƒçš„ç¬¬äºŒå¤©é€šå¸¸æ˜¯åœæœºä¸äº‹æ•…çš„é«˜å±æœŸã€‚æ‰€ä»¥ï¼Œå¯¹äºä¸€äº›é‡çº§è¾ƒå¤§çš„äº§å“é€šå¸¸ä¼šåœ¨èŠ‚å‡æ—¥ä»¥åŠé‡è¦æ´»åŠ¨å‰å¤•è¿›è¡Œå°ç½‘æ“ä½œï¼Œä»¥é¿å…æ–°ç‰ˆæœ¬ä¸Šçº¿è€Œå¯¼è‡´çš„ä¸šåŠ¡bugå‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;è€Œæµ‹è¯•æ˜¯åœ¨æˆæœ¬å’Œé£é™©ä¹‹é—´æ‰¾åˆ°é€‚å½“çš„å¹³è¡¡æ´»åŠ¨ã€‚å¦‚æœè¿‡äºå†’é™©ï¼Œä½ ä»¬å¯èƒ½å°±ä¼šç–²äºåº”ä»˜ç³»ç»Ÿå¤±è´¥ï¼›åè¿‡æ¥è¯´ï¼Œå¦‚æœä½ å¤ªä¿å®ˆï¼Œä½ å°±ä¸èƒ½è¶³å¤Ÿå¿«åœ°å‘å¸ƒæ–°ä¸œè¥¿ï¼Œè®©ä¼ä¸šåœ¨å¸‚åœºä¸Šç”Ÿå­˜ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é”™è¯¯é¢„ç®—æ¯”è¾ƒå¤šï¼ˆå³åœ¨ä¸€æ®µæ—¶é—´å†…æ•…éšœå¯¼è‡´ç³»ç»Ÿåœæœºæ—¶é•¿è¾ƒå°‘ï¼‰çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€‚å½“å‡å°‘æµ‹è¯•èµ„æºå¹¶æ”¾å®½ç³»ç»Ÿä¸Šçº¿çš„æµ‹è¯•å’Œæ¡ä»¶ï¼Œè®©ä¸šåŠ¡å¯ä»¥æœ‰æ›´å¤šçš„åŠŸèƒ½ä¸Šçº¿ï¼Œä»¥ä¿æŒä¸šåŠ¡çš„æ•æ€ï¼›åœ¨é”™è¯¯é¢„ç®—æ¯”è¾ƒå°‘ï¼ˆå³åœ¨ä¸€æ®µæ—¶é—´å†…æ•…éšœå¯¼è‡´ç³»ç»Ÿåœæœºæ—¶é•¿è¾ƒå¤šï¼‰çš„æƒ…å†µä¸‹ï¼Œåˆ™è¦å¢åŠ æµ‹è¯•èµ„æºå¹¶æ”¶ç´§ç³»ç»Ÿä¸Šçº¿çš„æµ‹è¯•ï¼Œè®©ç³»ç»Ÿçš„æ½œåœ¨é£é™©å¾—åˆ°æ›´å¤šæœ‰æ•ˆçš„é‡Šæ”¾ï¼Œé¿å…ç³»ç»Ÿåœæœºä¿æŒç³»ç»Ÿçš„ç¨³æ€ã€‚è¿™ç§æ•æ€ä¸ç¨³æ€ä¹‹é—´çš„å¹³è¡¡ï¼Œéœ€è¦æ•´ä¸ªè¿ç»´ä¸å¼€å‘å›¢é˜Ÿæ¥å…±åŒæ‰¿æ‹…ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†æµ‹è¯•å¤–ï¼Œåº”ç”¨å‘å¸ƒä¹Ÿæ˜¯ä¸€é¡¹è¿ç»´å›¢é˜Ÿé€šå¸¸è¦æ‰¿æ‹…çš„è´£ä»»ã€‚SREçš„ä¸€ä¸ªåŸåˆ™æ˜¯å°†ä¸€åˆ‡å¯ä»¥é‡å¤æ€§åŠ³åŠ¨ä»£ç åŒ–å’Œå·¥å…·åŒ–ï¼›æ­¤å¤–ï¼Œåº”ç”¨å‘å¸ƒçš„å¤æ‚ç¨‹åº¦å¾€å¾€ä¸ç³»ç»Ÿçš„å¤æ‚ç¨‹åº¦æˆæ­£æ¯”ã€‚å› æ­¤åœ¨åº”ç”¨ç³»ç»Ÿä¸Šè§„æ¨¡ä¼ä¸šï¼Œå¾€å¾€å·²ç»ç€æ‰‹åŸºäºè‡ªåŠ¨åŒ–æ¡†æ¶æ„å»ºè‡ªåŠ¨åŒ–çš„åº”ç”¨å‘å¸ƒè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfxl3eouisj30u00c8dhq.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡è‡ªåŠ¨åŒ–å‘å¸ƒå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæµæ°´çº¿å®ç°éƒ¨ç½²çš„è¿‡ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œï¼ˆå¦‚ç¼–è¯‘æ‰“åŒ…ã€æµ‹è¯•å‘å¸ƒã€ç”Ÿäº§å‡†å¤‡ã€å‘Šè­¦å±è”½ã€æœåŠ¡åœæ­¢ã€æ•°æ®åº“æ‰§è¡Œã€åº”ç”¨éƒ¨ç½²ã€æœåŠ¡é‡å¯ç­‰ï¼‰å…¨éƒ¨è‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å®¹é‡è§„åˆ’&#34;&gt;å®¹é‡è§„åˆ’&lt;/h4&gt;
&lt;p&gt;å®¹é‡è§„åˆ’æ˜¯å…³äºé¢„æµ‹æœªæ¥å’Œå‘ç°ç³»ç»Ÿæé™çš„ï¼Œå®¹é‡è§„åˆ’ä¹Ÿæ˜¯ä¸ºäº†ç¡®ä¿ç³»ç»Ÿå¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»å¾—åˆ°å®Œå–„å’Œå¢å¼ºã€‚&lt;/p&gt;
&lt;p&gt;è§„åˆ’çš„ä¸»è¦ç›®æ ‡æ˜¯ç®¡ç†é£é™©å’ŒæœŸæœ›ï¼Œå¯¹äºå®¹é‡è§„åˆ’ï¼Œæ¶‰åŠåˆ°å°†å®¹é‡æ‰©å±•åˆ°æ•´ä¸ªä¸šåŠ¡ï¼›æ‰€å…³æ³¨çš„æœŸæœ›æ˜¯äººä»¬åœ¨çœ‹åˆ°ä¸šåŠ¡å¢é•¿æ—¶æœŸæœ›æœåŠ¡å¦‚ä½•å“åº”ã€‚é£é™©æ˜¯åœ¨é¢å¤–çš„åŸºç¡€è®¾æ–½ä¸ŠèŠ±è´¹æ—¶é—´å’Œé‡‘é’±æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å®¹é‡è§„åˆ’é¦–å…ˆæ˜¯å¯¹æœªæ¥é¢„æµ‹æ€§çš„åˆ†æä¸åˆ¤æ–­ï¼Œå…¶é¢„æµ‹çš„åŸºç¡€æ­£æ˜¯æµ·é‡çš„è¿ç»´æ•°æ®ã€‚å› æ­¤ï¼Œå®¹é‡è§„åˆ’é™¤äº†æœ‰ç›¸åº”çš„æ¶æ„å’Œè§„åˆ’å›¢é˜Ÿå¤–ï¼Œä¸€ä¸ªå…¨é¢çš„è¿ç»´æ•°æ®ä¸­å¿ƒæ˜¯å®ç°ç³»ç»Ÿå®¹é‡è§„åˆ’çš„å¿…é¡»è®¾æ–½ã€‚&lt;/p&gt;
&lt;p&gt;å®¹é‡è¶‹åŠ¿é¢„è­¦å’Œåˆ†æå°†ç»¼åˆåœ°ä»å„ç§è¿ç»´ç›‘æ§ã€æµç¨‹ç®¡ç†ç­‰æ•°æ®æºä¸­æ”¶é›†ã€æ•´ç†ã€æ¸…æ´—å¹¶ç»“æ„åŒ–åœ°å­˜å‚¨å„ç§è¿ç»´æ•°æ®ï¼Œå°†è¿™äº›æ¥è‡ªäºå„ç§å·¥å…·çš„è¿ç»´æ•°æ®æ‰“é€šèåˆå¹¶ä¸”æ„å»ºå„ç§æ•°æ®ä¸»é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨è¿™äº›æ•°æ®ä¸»é¢˜çš„æ•°æ®ç”¨äºå¸®åŠ©è¿ç»´äººå‘˜å¯¹é—®é¢˜è¿›è¡Œè¯„ä¼°ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å‰çš„å®¹é‡æ˜¯å¤šå°‘&lt;/li&gt;
&lt;li&gt;ä½•æ—¶è¾¾åˆ°å®¹é‡æé™&lt;/li&gt;
&lt;li&gt;åº”è¯¥å¦‚ä½•æ›´æ”¹å®¹é‡&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå®¹é‡è§„åˆ’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿ç»´å¹³å°é™¤äº†å¯ä»¥æä¾›å¿…è¦çš„æ•°æ®æ”¯æŒå¤–ï¼Œè¿˜éœ€è¦æä¾›å¿…è¦çš„æ•°æ®å¯è§†åŒ–æ”¯æŒèƒ½åŠ›ã€‚è¿ç»´æ•°æ®å¯è§†åŒ–æä¾›äº†ä¸€äº›å¿…è¦çš„èƒ½åŠ›ä¿éšœè¿ç»´äººå‘˜å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨å…¶ä¸­çš„è¿ç»´æ•°æ®è¯„ä¼°å®¹é‡ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œè¿ç»´å¹³å°éœ€è¦æœ‰æå¼ºçš„æ•°æ®æ£€ç´¢èƒ½åŠ›ã€‚è¿ç»´å¹³å°å­˜å‚¨ç€æµ·é‡çš„è¿ç»´æ•°æ®ï¼Œè¿ç»´äººå‘˜ä¸ºäº†å°è¯•å»ºç«‹å’ŒéªŒè¯ä¸€ä¸ªæ¢ç´¢æ€§åœºæ™¯çš„æ—¶å€™ï¼Œå¾€å¾€å¤šæ¬¡åå¤æ£€ç´¢å’ŒæŸ¥è¯¢ç‰¹å®šæ•°æ®ã€‚å¦‚æœè¿ç»´æ•°æ®åˆ†æå¹³å°çš„æ•°æ®æŸ¥è¯¢å¾ˆæ…¢æˆ–è€…æŸ¥è¯¢è§’åº¦å¾ˆå°‘çš„æƒ…å†µä¸‹ï¼Œè¿ç»´äººå‘˜å»ºç«‹åœºæ™¯çš„æ—¶é—´å°±ä¼šæ‹–å¾—å¾ˆé•¿ç”šè‡³è¿›è¡Œä¸ä¸‹å»ã€‚å› æ­¤ï¼Œè¿ç»´äººå‘˜å¯é€šè¿‡å¹³å°å¯ä»¥å®ç°å…³é”®å­—ã€ç»Ÿè®¡å‡½æ•°ã€å•æ¡ä»¶ã€å¤šæ¡ä»¶ã€æ¨¡ç³Šå¤šç»´åº¦æŸ¥æ‰¾åŠŸèƒ½ï¼Œä»¥åŠå®ç°æµ·é‡æ•°æ®ç§’çº§æŸ¥è¯¢ï¼Œæ‰èƒ½æ›´æœ‰æ•ˆå¸®åŠ©è¿ç»´äººå‘˜æ›´ä¾¿æ·åˆ†ææ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å…¶äºŒï¼Œå¹³å°éœ€è¦å¼ºå¤§çš„æ•°æ®å¯è§†åŒ–èƒ½åŠ›ã€‚äººä»¬å¸¸è¯´â€œåƒè¨€ä¸‡è¯­ä¸åŠä¸€å›¾â€ï¼Œè¿ç»´äººå‘˜ç»å¸¸ä¼šé€šè¿‡å„ç³»ç»Ÿçš„è¿ç»´æ•°æ®è¿›è¡Œç»Ÿè®¡åˆ†æå¹¶ç”Ÿæˆå„ç±»å®æ—¶æŠ¥è¡¨ï¼Œå¯¹å„ç±»è¿ç»´æ•°æ®ï¼ˆå¦‚åº”ç”¨æ—¥å¿—ã€äº¤æ˜“æ—¥å¿—ã€ç³»ç»Ÿæ—¥å¿—ï¼‰è¿›è¡Œå¤šç»´åº¦ã€å¤šè§’åº¦æ·±å…¥åˆ†æã€é¢„æµ‹åŠå¯è§†åŒ–å±•ç°ï¼Œå°†ä»–ä»¬åˆ†æçš„é¢„æµ‹ç»“æœå’Œç»éªŒå‘ä»–äººè¡¨è¾¾å’Œæ¨å¹¿ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è‡ªåŠ¨åŒ–å·¥å…·å¼€å‘&#34;&gt;è‡ªåŠ¨åŒ–å·¥å…·å¼€å‘&lt;/h4&gt;
&lt;p&gt;SREä¸ä»…æ¶‰åŠè¿è¥ï¼Œè¿˜æ¶‰åŠè½¯ä»¶å¼€å‘ï¼Œå½“ç„¶è¿™éƒ¨åˆ†æŒ‡çš„æ˜¯å’Œè¿ç»´ä»¥åŠSREé¢†åŸŸç›¸å…³çš„å·¥å…·å’Œå¹³å°å¼€å‘ã€‚åœ¨Googleçš„SREä½“ç³»ä¸­ï¼ŒSREå·¥ç¨‹å¸ˆå°†èŠ±è´¹å¤§çº¦ä¸€åŠçš„æ—¶é—´æ¥å¼€å‘æ–°çš„å·¥å…·å’ŒæœåŠ¡ï¼Œè¿™äº›å·¥å…·çš„ä¸€éƒ¨åˆ†ç”¨äºè‡ªåŠ¨åŒ–ä¸€äº›æ‰‹åŠ¨ä»»åŠ¡ï¼Œè€Œå…¶ä»–éƒ¨åˆ†ç”¨äºæ¥ä¸æ–­å¡«è¡¥å’Œä¿®å¤æ•´ä¸ªSREä½“ç³»å†…éƒ¨çš„å…¶ä»–ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ç¼–å†™ä»£ç æŠŠè‡ªå·±å’Œå…¶ä»–äººä»é‡å¤çš„å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ï¼Œå¦‚æœæˆ‘ä»¬ä¸éœ€è¦äººç±»æ¥å®Œæˆä»»åŠ¡ï¼Œé‚£ä¹ˆå°±ç¼–å†™ä»£ç ï¼Œè¿™æ ·äººç±»å°±ä¸éœ€è¦å‚ä¸å…¶ä¸­äº†ã€‚&lt;/p&gt;
&lt;p&gt;SREä»å†…å¿ƒä¸Šé„™è§†é‡å¤æ€§çš„å·¥ä½œï¼Œå°†ä»åŸæœ‰çš„äººå·¥åŠ è¢«åŠ¨å“åº”ï¼Œè½¬å˜ä¸º&lt;code&gt;æ›´é«˜æ•ˆã€æ›´ä¸ºè‡ªåŠ¨åŒ–&lt;/code&gt;çš„è¿ç»´ä½“ç³»ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨åŒ–è¿ç»´æ¡†æ¶:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfxlg6x4l2j30u00cogoj.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·çš„ä¼˜åŠ¿å’Œå¿…è¦æ€§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æé«˜æ•ˆç‡: ç”±ç¨‹åºè‡ªåŠ¨åŒ–æ“ä½œï¼Œæœ‰æ•ˆåœ°é™ä½è¿ç»´äººåŠ›èµ„æºçš„æŠ•å…¥ï¼Œä¹Ÿè®©è¿ç»´äººå‘˜çš„ç²¾åŠ›å¾—ä»¥é‡Šæ”¾å¹¶æŠ•å‘æ›´ä¸ºé‡è¦çš„é¢†åŸŸã€‚&lt;/li&gt;
&lt;li&gt;æ“ä½œçš„æ ‡å‡†åŒ–: å°†åŸæ¥è®¸å¤šå¤æ‚ã€æ˜“é”™çš„æ‰‹å·¥æ“ä½œå®ç°ç»Ÿä¸€è¿ç»´æ“ä½œå…¥å£ï¼Œå®ç°è¿ç»´æ“ä½œç™½å±åŒ–ï¼Œæå‡è¿ç»´æ“ä½œçš„å¯ç®¡ç†æ€§ï¼›åŒæ—¶ï¼Œå‡å°‘ç”±äºè¿ç»´äººå‘˜æƒ…ç»ªå¸¦æ¥æ‰‹å·¥è¯¯æ“ä½œï¼Œé¿å…â€œä»åˆ åº“åˆ°è·‘è·¯â€è¿™æ ·çš„æ‚²å‰§çš„å‘ç”Ÿã€‚&lt;/li&gt;
&lt;li&gt;è¿ç»´ç»éªŒèƒ½åŠ›çš„ä¼ æ‰¿: è¿ç»´è‡ªåŠ¨åŒ–å·¥å…·å°†åŸæ¥è®¸å¤šè¿ç»´å›¢é˜Ÿç§¯ç´¯çš„ç»éªŒä»¥ä»£ç æ–¹å¼æ€»ç»“ä¸ºå„ç§è¿ç»´å·¥å…·ï¼Œå®ç°è‡ªåŠ¨åŒ–å’Œç™½å±åŒ–çš„è¿ç»´æ“ä½œã€‚è¿ç»´å›¢é˜Ÿçš„åæ¥è€…ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç»§æ‰¿ã€é‡å¤ä½¿ç”¨å¹¶ä¼˜åŒ–å®ƒä»¬ã€‚è¿™ç§ä»£ç åŒ–çš„å·¥ä½œä¼ æ‰¿ï¼Œå°†ä¸ªäººèƒ½åŠ›è½¬å˜ä¸ºå›¢é˜Ÿèƒ½åŠ›ï¼Œå¹¶å‡å°‘äººå‘˜æµåŠ¨å¸¦æ¥å¯¹å·¥ä½œçš„å½±å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ„å»ºè‡ªåŠ¨åŒ–è¿ç»´ä½“ç³»å°±å¿…é¡»ä»¥&lt;code&gt;è¿ç»´åœºæ™¯&lt;/code&gt;ä¸ºåŸºç¡€ï¼Œè¿™äº›è¿ç»´åœºæ™¯æ˜¯åœ¨æœ¬ä¼ä¸šå†…åå¤è¿­ä»£å’Œæ‰“é€ ï¼Œæ˜¯ä¼ä¸šä¸­æœ€å¸¸ç”¨çš„è¿ç»´åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚å¸¸è§çš„è¿ç»´åœºæ™¯ï¼šè½¯ä»¶å®‰è£…éƒ¨ç½²ã€åº”ç”¨å‘å¸ƒäº¤ä»˜ã€èµ„äº§ç®¡ç†ã€å‘Šè­¦è‡ªåŠ¨å¤„ç†ã€æ•…éšœåˆ†æã€èµ„æºç”³è¯·ã€è‡ªåŠ¨åŒ–å·¡æ£€ç­‰ç­‰ã€‚å› æ­¤ï¼Œæ•´ä¸ªè‡ªåŠ¨åŒ–è¿ç»´ä½“ç³»å»ºè®¾æ—¶ä¹Ÿåº”æ”¯æŒå¤šç§ä¸åŒç±»å‹çš„è‡ªåŠ¨åŒ–ä½œä¸šé…ç½®èƒ½åŠ›ï¼Œé€šè¿‡ç®€å•çš„è„šæœ¬å¼€å‘ã€åœºæ™¯é…ç½®å’Œå¯è§†åŒ–å®šåˆ¶æµç¨‹å®ç°æ›´å¤šè¿ç»´åœºæ™¯çš„å®ç°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç”¨æˆ·ä½“éªŒ&#34;&gt;ç”¨æˆ·ä½“éªŒ&lt;/h4&gt;
&lt;p&gt;ç”¨æˆ·ä½“éªŒè¿™ä¸€å±‚è¦è¯´çš„æ˜¯ï¼Œä½œä¸ºSREæ¥è®²ï¼Œä»ç”¨æˆ·çš„è§’åº¦æ¥ä¿è¯ä¸šåŠ¡çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§æ‰æ˜¯æœ€ç»ˆç›®æ ‡ã€‚è¿™ä¸ªæ‰ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„è¿ç»´äººå‘˜æ˜¯ä¸ä¼šå…³æ³¨è¿™ä¸€ç‚¹çš„ï¼Œå› ä¸ºå¤§å®¶é€šå¸¸åªä¼šè€ƒè™‘åˆ°æˆ‘åº•å±‚è¿ç»´çš„ç³»ç»Ÿæˆ–åº•å±‚èµ„æºæ˜¯å¦ç¨³å®šï¼Œä½†å®é™…ä¸Šæ•´ä¸ªä¸šåŠ¡çš„ç¨³å®šæ‰æ˜¯SREéœ€è¦å…³å¿ƒçš„é—®é¢˜ï¼Œè€Œä¸šåŠ¡çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§é€šå¸¸éœ€è¦ç«™åœ¨ç”¨æˆ·çš„è§’åº¦æ¥æ¨¡æ‹Ÿå’Œè¡¡é‡æ•´ä½“çš„å¯ç”¨æ€§å’Œå¯é æ€§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‰é¢æåˆ°çš„æ‰€æœ‰SREç›¸å…³çš„å·¥ä½œèŒƒç•´ï¼Œæ— è®ºæ˜¯ç›‘æ§ã€äº‹æ•…å“åº”ã€å›é¡¾ã€æµ‹è¯•ä¸å‘å¸ƒã€å®¹é‡è§„åˆ’ä»¥åŠæ„å»ºè‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ— ééƒ½æ˜¯ä¸ºäº†æä¾›æ›´å¥½çš„ç³»ç»Ÿç”¨æˆ·ä¸šåŠ¡ä½“éªŒè€ŒæœåŠ¡çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨è¿ç»´çš„è¿‡ç¨‹ä¸­æ— ä¸éœ€è¦æ³¨æ„å…³æ³¨ç³»ç»Ÿçš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;è€Œåœ¨å®é™…è¿ç»´å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¾€å¾€å¯ä»¥é€šè¿‡åº”ç”¨æ—¥å¿—ã€ç›‘æ§æ•°æ®ã€ä¸šåŠ¡æ‹”æµ‹ç­‰ä¸šåŠ¡ç›¸å…³çš„ç”¨æˆ·ä½“éªŒä¿¡æ¯ã€‚åœ¨è¿ç»´æ•°æ®å¹³å°ä¸­ï¼Œé€šè¿‡è¿™äº›ç”¨æˆ·ä½“éªŒç›‘æµ‹æ•°æ®ä¹‹é—´çš„å…³è”å’Œä¸²è”ï¼Œé‡ç°ç”¨æˆ·çš„æœ€ç»ˆä¸šåŠ¡è°ƒç”¨é“¾è·¯ä»¥åŠå„åº”ç”¨ç¯èŠ‚å¯¹æ€§èƒ½æ•°æ®çš„å…³ç³»ã€‚æœ€ç»ˆå½¢æˆä»ä¸šåŠ¡ç”¨æˆ·ä½“éªŒæ•°æ®å…¥æ‰‹ï¼Œé€æ­¥å®ç°ç³»ç»Ÿè¿è¡ŒçŠ¶æ€æ•°æ®ã€è®¾å¤‡è¿è¡ŒçŠ¶æ€æ•°æ®é“¾è·¯çš„æ‰“é€šï¼Œè®©è¿ç»´ä½“ç³»å®ç°ä»¥æœ€ç»ˆç”¨æˆ·ä½“éªŒä¸ºä¸­å¿ƒçš„ç›®æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›ç”¨æˆ·ä½“éªŒçš„ä¿¡æ¯ï¼Œå¯¹äºè¿ç»´å›¢é˜ŸæŒæ¡å®¢æˆ·æ•´ä½“çš„ç”¨æˆ·ä½“éªŒæƒ…å†µã€ç³»ç»Ÿå¯ç”¨æ€§çš„ç›‘æµ‹ä»¥åŠç³»ç»Ÿé’ˆå¯¹æ€§çš„ä¼˜åŒ–æä¾›ç€æ— å¯æ›¿ä»£çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ï¼ŒSREè¿ç»´ä½“ç³»æ›´ä¸ºå¼ºè°ƒä»¥ç”¨æˆ·çš„ä½“éªŒä¸ºæ ¸å¿ƒï¼Œä»¥è‡ªåŠ¨åŒ–å’Œè¿ç»´æ•°æ®ä¸ºæ‰‹æ®µï¼Œå®ç°åº”ç”¨ä¸šåŠ¡è¿ç»­æ€§ä¿éšœï¼Œä»è¿™ä¸ªç‚¹å‡ºå‘ï¼Œæˆ‘ä»¬ä¼šå‘ç°å’Œä»¥å¾€çš„ä¼ ç»Ÿè¿ç»´è¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ï¼Œæˆ‘ä»¬ä¸å†ä»…ä»…æ˜¯å•çº¯çš„å®‰è£…å’Œéƒ¨ç½²å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ç³»åˆ—çš„æŠ€æœ¯æ‰‹æ®µæ¥ä¸æ–­ä¿éšœä¸Šå±‚ä¸šåŠ¡çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>kafkaä¸­å…³äºHW(High Watermark)å’ŒLeader Epochçš„è®¨è®º</title>
      <link>https://bgbiao.top/post/kafka%E9%AB%98%E6%B0%B4%E4%BD%8D%E5%92%8Cleader-epoch%E7%9A%84%E8%AE%A8%E8%AE%BA/</link>
      <pubDate>Mon, 15 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/kafka%E9%AB%98%E6%B0%B4%E4%BD%8D%E5%92%8Cleader-epoch%E7%9A%84%E8%AE%A8%E8%AE%BA/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“åœ¨kafkaä¸­æœ‰ä¸€ä¸ªåè¯å«åšHW(High Watermark)ï¼Œä½†æ˜¯å…·ä½“è¿™ä¸ªé«˜æ°´ä½æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;kafkaä¸­çš„é«˜æ°´ä½çš„ä½œç”¨:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®šä¹‰æ¶ˆæ¯å¯è§æ€§ï¼Œå³ç”¨æ¥æ ‡è¯†åˆ†åŒºä¸‹çš„å“ªäº›æ¶ˆæ¯æ˜¯å¯ä»¥è¢«æ¶ˆè´¹è€…æ¶ˆè´¹çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¸®åŠ© Kafka å®Œæˆå‰¯æœ¬åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfva86hzzrj31bc0h6go3.jpg&#34; alt=&#34;kafkaé«˜æ°´ä½ä»¥åŠæ¶ˆæ¯æäº¤å›¾&#34;&gt;&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨kafkaçš„æŸä¸ªtopicä¸­ï¼Œåˆ†åŒºå’Œå‰¯æœ¬éƒ½æœ‰HWçš„æ¦‚å¿µï¼Œè€Œåˆ†åŒºçš„HWæ˜¯æ‰€æœ‰å‰¯æœ¬HWçš„æœ€å°å€¼ï¼Œä¹Ÿæ˜¯æ¶ˆè´¹è€…èƒ½å¤Ÿæ¶ˆè´¹åˆ°æœ€å¤§æ¶ˆæ¯ã€‚(å³: æ¶ˆè´¹è€…åªèƒ½æ¶ˆè´¹å·²ç»æäº¤çš„æ¶ˆæ¯)&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œä½ç§»å€¼ç­‰äºé«˜æ°´ä½çš„æ¶ˆæ¯ä¹Ÿå±äºæœªæäº¤æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;code&gt;é«˜æ°´ä½ä¸Šçš„æ¶ˆæ¯æ˜¯ä¸èƒ½è¢«æ¶ˆè´¹è€…æ¶ˆè´¹&lt;/code&gt;çš„ã€‚&lt;/p&gt;
&lt;p&gt;å›¾ä¸­è¿˜æœ‰ä¸€ä¸ªæ—¥å¿—æœ«ç«¯ä½ç§»çš„æ¦‚å¿µï¼Œå³ Log End Offsetï¼Œç®€å†™æ˜¯ LEOã€‚å®ƒè¡¨ç¤ºå‰¯æœ¬å†™å…¥ä¸‹ä¸€æ¡æ¶ˆæ¯çš„ä½ç§»å€¼ã€‚æ³¨æ„ï¼Œæ•°å­— 15 æ‰€åœ¨çš„æ–¹æ¡†æ˜¯è™šçº¿ï¼Œè¿™å°±è¯´æ˜ï¼Œè¿™ä¸ªå‰¯æœ¬å½“å‰åªæœ‰ 15 æ¡æ¶ˆæ¯ï¼Œä½ç§»å€¼æ˜¯ä» 0 åˆ° 14ï¼Œä¸‹ä¸€æ¡æ–°æ¶ˆæ¯çš„ä½ç§»æ˜¯ 15ã€‚æ˜¾ç„¶ï¼Œä»‹äºé«˜æ°´ä½å’Œ LEO ä¹‹é—´çš„æ¶ˆæ¯å°±å±äºæœªæäº¤æ¶ˆæ¯ã€‚è¿™ä¹Ÿä»ä¾§é¢å‘Šè¯‰äº†æˆ‘ä»¬ä¸€ä¸ªé‡è¦çš„äº‹å®ï¼Œé‚£å°±æ˜¯ï¼š&lt;code&gt;åŒä¸€ä¸ªå‰¯æœ¬å¯¹è±¡ï¼Œå…¶é«˜æ°´ä½å€¼ä¸ä¼šå¤§äº LEO å€¼&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é«˜æ°´ä½æ›´æ–°æœºåˆ¶&#34;&gt;é«˜æ°´ä½æ›´æ–°æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ¯ä¸ªå‰¯æœ¬å¯¹è±¡éƒ½ä¿å­˜äº†ä¸€ç»„é«˜æ°´ä½å€¼å’Œ LEO å€¼ï¼Œä½†å®é™…ä¸Šï¼Œåœ¨ Leader å‰¯æœ¬æ‰€åœ¨çš„ Broker ä¸Šï¼Œè¿˜ä¿å­˜äº†å…¶ä»– Follower å‰¯æœ¬çš„ LEO å€¼ã€‚æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvb7on0vpj316f0u0dju.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™å¼ å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒBroker 0 ä¸Šä¿å­˜äº†æŸåˆ†åŒºçš„ Leader å‰¯æœ¬å’Œæ‰€æœ‰ Follower å‰¯æœ¬çš„ LEO å€¼ï¼Œè€Œ Broker 1 ä¸Šä»…ä»…ä¿å­˜äº†è¯¥åˆ†åŒºçš„æŸä¸ª Follower å‰¯æœ¬ã€‚Kafka æŠŠ Broker 0 ä¸Šä¿å­˜çš„è¿™äº› Follower å‰¯æœ¬åˆç§°ä¸º&lt;code&gt;è¿œç¨‹å‰¯æœ¬&lt;/code&gt; Remote Replicaï¼‰ã€‚Kafka å‰¯æœ¬æœºåˆ¶åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæ›´æ–° Broker 1 ä¸Š Follower å‰¯æœ¬çš„é«˜æ°´ä½å’Œ LEO å€¼ï¼ŒåŒæ—¶ä¹Ÿä¼šæ›´æ–° Broker 0 ä¸Š Leader å‰¯æœ¬çš„é«˜æ°´ä½å’Œ LEO ä»¥åŠæ‰€æœ‰è¿œç¨‹å‰¯æœ¬çš„ LEOï¼Œä½†å®ƒä¸ä¼šæ›´æ–°è¿œç¨‹å‰¯æœ¬çš„é«˜æ°´ä½å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘åœ¨å›¾ä¸­æ ‡è®°ä¸ºç°è‰²çš„éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦åœ¨ Broker 0 ä¸Šä¿å­˜è¿™äº›è¿œç¨‹å‰¯æœ¬å‘¢ï¼Ÿå…¶å®ï¼Œå®ƒä»¬çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Œ&lt;code&gt;å¸®åŠ© Leader å‰¯æœ¬ç¡®å®šå…¶é«˜æ°´ä½ï¼Œä¹Ÿå°±æ˜¯åˆ†åŒºé«˜æ°´ä½&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¸®åŠ©ä½ æ›´å¥½åœ°è®°å¿†è¿™äº›å€¼è¢«æ›´æ–°çš„æ—¶æœºï¼Œæˆ‘åšäº†ä¸€å¼ è¡¨æ ¼ã€‚åªæœ‰ææ¸…æ¥šäº†æ›´æ–°æœºåˆ¶ï¼Œæˆ‘ä»¬æ‰èƒ½å¼€å§‹è®¨è®º Kafka å‰¯æœ¬æœºåˆ¶çš„åŸç†ï¼Œä»¥åŠå®ƒæ˜¯å¦‚ä½•ä½¿ç”¨é«˜æ°´ä½æ¥æ‰§è¡Œå‰¯æœ¬æ¶ˆæ¯åŒæ­¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvb9nilwvj30h60fogo4.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ¤æ–­Leader å‰¯æœ¬ä¿æŒåŒæ­¥çš„æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿œç¨‹ Follower å‰¯æœ¬åœ¨ ISR ä¸­&lt;/li&gt;
&lt;li&gt;Follower å‰¯æœ¬ LEO å€¼è½åäº Leader å‰¯æœ¬ LEO å€¼çš„æ—¶é—´ï¼Œä¸è¶…è¿‡ Broker ç«¯å‚æ•° replica.lag.time.max.ms çš„å€¼ã€‚å¦‚æœä½¿ç”¨é»˜è®¤å€¼çš„è¯ï¼Œå°±æ˜¯ä¸è¶…è¿‡ 10 ç§’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹ä¸€çœ‹ï¼Œè¿™ä¸¤ä¸ªæ¡ä»¶å¥½åƒæ˜¯ä¸€å›äº‹ï¼Œå› ä¸ºç›®å‰æŸä¸ªå‰¯æœ¬èƒ½å¦è¿›å…¥ ISR å°±æ˜¯é ç¬¬ 2 ä¸ªæ¡ä»¶åˆ¤æ–­çš„ã€‚ä½†æœ‰äº›æ—¶å€™ï¼Œä¼šå‘ç”Ÿè¿™æ ·çš„æƒ…å†µï¼šå³ Follower å‰¯æœ¬å·²ç» â€œè¿½ä¸Šâ€ äº† Leader çš„è¿›åº¦ï¼Œå´ä¸åœ¨ ISR ä¸­ï¼Œæ¯”å¦‚æŸä¸ªåˆšåˆšé‡å¯å›æ¥çš„å‰¯æœ¬ã€‚å¦‚æœ Kafka åªåˆ¤æ–­ç¬¬ 1 ä¸ªæ¡ä»¶çš„è¯ï¼Œå°±å¯èƒ½å‡ºç°æŸäº›å‰¯æœ¬å…·å¤‡äº† â€œè¿›å…¥ ISRâ€ çš„èµ„æ ¼ï¼Œä½†å´å°šæœªè¿›å…¥åˆ° ISR ä¸­çš„æƒ…å†µã€‚æ­¤æ—¶ï¼Œåˆ†åŒºé«˜æ°´ä½å€¼å°±å¯èƒ½è¶…è¿‡ ISR ä¸­å‰¯æœ¬ LEOï¼Œè€Œé«˜æ°´ä½ &amp;gt; LEO çš„æƒ…å½¢æ˜¯ä¸è¢«å…è®¸çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‰¯æœ¬åŒæ­¥æœºåˆ¶è§£æ&#34;&gt;å‰¯æœ¬åŒæ­¥æœºåˆ¶è§£æ&lt;/h3&gt;
&lt;p&gt;å‰¯æœ¬åŒæ­¥çš„å…¨è¿‡ç¨‹:&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯åˆå§‹çŠ¶æ€ã€‚ä¸‹é¢è¿™å¼ å›¾ä¸­çš„ remote LEO å°±æ˜¯åˆšæ‰çš„è¿œç¨‹å‰¯æœ¬çš„ LEO å€¼ã€‚åœ¨åˆå§‹çŠ¶æ€æ—¶ï¼Œæ‰€æœ‰å€¼éƒ½æ˜¯ 0ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvbgu2idsj30nd03awet.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç”Ÿäº§è€…ç»™ä¸»é¢˜åˆ†åŒºå‘é€ä¸€æ¡æ¶ˆæ¯åï¼ŒçŠ¶æ€å˜æ›´ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvbh4glr3j30nd07wwf7.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼ŒLeader å‰¯æœ¬æˆåŠŸå°†æ¶ˆæ¯å†™å…¥äº†æœ¬åœ°ç£ç›˜ï¼Œæ•… LEO å€¼è¢«æ›´æ–°ä¸º 1ã€‚&lt;/p&gt;
&lt;p&gt;Follower å†æ¬¡å°è¯•ä» Leader æ‹‰å–æ¶ˆæ¯ã€‚å’Œä¹‹å‰ä¸åŒçš„æ˜¯ï¼Œè¿™æ¬¡æœ‰æ¶ˆæ¯å¯ä»¥æ‹‰å–äº†ï¼Œå› æ­¤çŠ¶æ€è¿›ä¸€æ­¥å˜æ›´ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvbhh5e15j30nc08a3z8.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ï¼ŒFollower å‰¯æœ¬ä¹ŸæˆåŠŸåœ°æ›´æ–° LEO ä¸º 1ã€‚æ­¤æ—¶ï¼ŒLeader å’Œ Follower å‰¯æœ¬çš„ LEO éƒ½æ˜¯ 1ï¼Œä½†å„è‡ªçš„é«˜æ°´ä½ä¾ç„¶æ˜¯ 0ï¼Œè¿˜æ²¡æœ‰è¢«æ›´æ–°ã€‚&lt;code&gt;å®ƒä»¬éœ€è¦åœ¨ä¸‹ä¸€è½®çš„fetch requestä¸­è¢«æ›´æ–°&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvbi5gvykj30nu0cft9w.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ–°ä¸€è½®çš„æ‹‰å–è¯·æ±‚ä¸­ï¼Œç”±äºä½ç§»å€¼æ˜¯ 0 çš„æ¶ˆæ¯å·²ç»æ‹‰å–æˆåŠŸï¼Œå› æ­¤ Follower å‰¯æœ¬è¿™æ¬¡è¯·æ±‚æ‹‰å–çš„æ˜¯ä½ç§»å€¼ =1 çš„æ¶ˆæ¯ã€‚Leader å‰¯æœ¬æ¥æ”¶åˆ°æ­¤è¯·æ±‚åï¼Œæ›´æ–°è¿œç¨‹å‰¯æœ¬ LEO ä¸º 1ï¼Œç„¶åæ›´æ–° Leader é«˜æ°´ä½ä¸º 1ã€‚åšå®Œè¿™äº›ä¹‹åï¼Œå®ƒä¼šå°†å½“å‰å·²æ›´æ–°è¿‡çš„é«˜æ°´ä½å€¼ 1 å‘é€ç»™ Follower å‰¯æœ¬ã€‚Follower å‰¯æœ¬æ¥æ”¶åˆ°ä»¥åï¼Œä¹Ÿå°†è‡ªå·±çš„é«˜æ°´ä½å€¼æ›´æ–°æˆ 1ã€‚è‡³æ­¤ï¼Œä¸€æ¬¡å®Œæ•´çš„æ¶ˆæ¯åŒæ­¥å‘¨æœŸå°±ç»“æŸäº†ã€‚äº‹å®ä¸Šï¼ŒKafka å°±æ˜¯åˆ©ç”¨è¿™æ ·çš„æœºåˆ¶ï¼Œå®ç°äº† Leader å’Œ Follower å‰¯æœ¬ä¹‹é—´çš„åŒæ­¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;leader-epoch-ç™»åœº&#34;&gt;Leader Epoch ç™»åœº&lt;/h3&gt;
&lt;p&gt;ä»åˆšæ‰çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒFollower å‰¯æœ¬çš„é«˜æ°´ä½æ›´æ–°éœ€è¦ä¸€è½®é¢å¤–çš„æ‹‰å–è¯·æ±‚æ‰èƒ½å®ç°ã€‚å¦‚æœæŠŠä¸Šé¢é‚£ä¸ªä¾‹å­æ‰©å±•åˆ°å¤šä¸ª Follower å‰¯æœ¬ï¼Œæƒ…å†µå¯èƒ½æ›´ç³Ÿï¼Œä¹Ÿè®¸éœ€è¦å¤šè½®æ‹‰å–è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒLeader å‰¯æœ¬é«˜æ°´ä½æ›´æ–°å’Œ Follower å‰¯æœ¬é«˜æ°´ä½æ›´æ–°åœ¨æ—¶é—´ä¸Šæ˜¯å­˜åœ¨é”™é…çš„ã€‚è¿™ç§é”™é…æ˜¯å¾ˆå¤š â€œæ•°æ®ä¸¢å¤±â€ æˆ– â€œæ•°æ®ä¸ä¸€è‡´â€ é—®é¢˜çš„æ ¹æºã€‚åŸºäºæ­¤ï¼Œç¤¾åŒºåœ¨ 0.11 ç‰ˆæœ¬æ­£å¼å¼•å…¥äº† Leader Epoch æ¦‚å¿µï¼Œæ¥è§„é¿å› é«˜æ°´ä½æ›´æ–°é”™é…å¯¼è‡´çš„å„ç§ä¸ä¸€è‡´é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€è°“ Leader Epochï¼Œæˆ‘ä»¬å¤§è‡´å¯ä»¥è®¤ä¸ºæ˜¯ &lt;code&gt;Leader ç‰ˆæœ¬&lt;/code&gt;ã€‚å®ƒç”±ä¸¤éƒ¨åˆ†æ•°æ®ç»„æˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Epochã€‚ä¸€ä¸ªå•è°ƒå¢åŠ çš„ç‰ˆæœ¬å·ã€‚æ¯å½“å‰¯æœ¬é¢†å¯¼æƒå‘ç”Ÿå˜æ›´æ—¶ï¼Œéƒ½ä¼šå¢åŠ è¯¥ç‰ˆæœ¬å·ã€‚å°ç‰ˆæœ¬å·çš„ Leader è¢«è®¤ä¸ºæ˜¯è¿‡æœŸ Leaderï¼Œä¸èƒ½å†è¡Œä½¿ Leader æƒåŠ›&lt;/li&gt;
&lt;li&gt;èµ·å§‹ä½ç§»ï¼ˆStart Offsetï¼‰ã€‚Leader å‰¯æœ¬åœ¨è¯¥ Epoch å€¼ä¸Šå†™å…¥çš„é¦–æ¡æ¶ˆæ¯çš„ä½ç§»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ Leader Epochã€‚å‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ª Leader Epoch&amp;lt;0, 0&amp;gt; å’Œ &amp;lt;1, 120&amp;gt;ï¼Œé‚£ä¹ˆï¼Œç¬¬ä¸€ä¸ª Leader Epoch è¡¨ç¤ºç‰ˆæœ¬å·æ˜¯ 0ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„ Leader ä»ä½ç§» 0 å¼€å§‹ä¿å­˜æ¶ˆæ¯ï¼Œä¸€å…±ä¿å­˜äº† 120 æ¡æ¶ˆæ¯ã€‚ä¹‹åï¼ŒLeader å‘ç”Ÿäº†å˜æ›´ï¼Œç‰ˆæœ¬å·å¢åŠ åˆ° 1ï¼Œæ–°ç‰ˆæœ¬çš„èµ·å§‹ä½ç§»æ˜¯ 120ã€‚&lt;/p&gt;
&lt;p&gt;Kafka Broker ä¼šåœ¨å†…å­˜ä¸­ä¸ºæ¯ä¸ªåˆ†åŒºéƒ½ç¼“å­˜ Leader Epoch æ•°æ®ï¼ŒåŒæ—¶å®ƒè¿˜ä¼šå®šæœŸåœ°å°†è¿™äº›ä¿¡æ¯æŒä¹…åŒ–åˆ°ä¸€ä¸ª checkpoint æ–‡ä»¶ä¸­ã€‚å½“ Leader å‰¯æœ¬å†™å…¥æ¶ˆæ¯åˆ°ç£ç›˜æ—¶ï¼ŒBroker ä¼šå°è¯•æ›´æ–°è¿™éƒ¨åˆ†ç¼“å­˜ã€‚å¦‚æœè¯¥ Leader æ˜¯é¦–æ¬¡å†™å…¥æ¶ˆæ¯ï¼Œé‚£ä¹ˆ Broker ä¼šå‘ç¼“å­˜ä¸­å¢åŠ ä¸€ä¸ª Leader Epoch æ¡ç›®ï¼Œå¦åˆ™å°±ä¸åšæ›´æ–°ã€‚è¿™æ ·ï¼Œæ¯æ¬¡æœ‰ Leader å˜æ›´æ—¶ï¼Œæ–°çš„ Leader å‰¯æœ¬ä¼šæŸ¥è¯¢è¿™éƒ¨åˆ†ç¼“å­˜ï¼Œå–å‡ºå¯¹åº”çš„ Leader Epoch çš„èµ·å§‹ä½ç§»ï¼Œä»¥é¿å…æ•°æ®ä¸¢å¤±å’Œä¸ä¸€è‡´çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œå®ƒå±•ç¤ºçš„æ˜¯ Leader Epoch æ˜¯å¦‚ä½•é˜²æ­¢æ•°æ®ä¸¢å¤±çš„ã€‚è¯·å…ˆçœ‹ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvbnxpmjcj30x30u0q75.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œå•çº¯ä¾èµ–é«˜æ°´ä½æ˜¯æ€ä¹ˆé€ æˆæ•°æ®ä¸¢å¤±çš„ã€‚å¼€å§‹æ—¶ï¼Œå‰¯æœ¬ A å’Œå‰¯æœ¬ B éƒ½å¤„äºæ­£å¸¸çŠ¶æ€ï¼ŒA æ˜¯ Leader å‰¯æœ¬ã€‚æŸä¸ªä½¿ç”¨äº†é»˜è®¤ acks è®¾ç½®çš„ç”Ÿäº§è€…ç¨‹åºå‘ A å‘é€äº†ä¸¤æ¡æ¶ˆæ¯ï¼ŒA å…¨éƒ¨å†™å…¥æˆåŠŸï¼Œæ­¤æ—¶ Kafka ä¼šé€šçŸ¥ç”Ÿäº§è€…è¯´ä¸¤æ¡æ¶ˆæ¯å…¨éƒ¨å‘é€æˆåŠŸã€‚ç°åœ¨æˆ‘ä»¬å‡è®¾ Leader å’Œ Follower éƒ½å†™å…¥äº†è¿™ä¸¤æ¡æ¶ˆæ¯ï¼Œè€Œä¸” Leader å‰¯æœ¬çš„é«˜æ°´ä½ä¹Ÿå·²ç»æ›´æ–°äº†ï¼Œä½† Follower å‰¯æœ¬é«˜æ°´ä½è¿˜æœªæ›´æ–° â€”â€” è¿™æ˜¯å¯èƒ½å‡ºç°çš„ã€‚è¿˜è®°å¾—å§ï¼ŒFollower ç«¯é«˜æ°´ä½çš„æ›´æ–°ä¸ Leader ç«¯æœ‰æ—¶é—´é”™é…ã€‚å€˜è‹¥æ­¤æ—¶å‰¯æœ¬ B æ‰€åœ¨çš„ Broker å®•æœºï¼Œå½“å®ƒé‡å¯å›æ¥åï¼Œå‰¯æœ¬ B ä¼šæ‰§è¡Œæ—¥å¿—æˆªæ–­æ“ä½œï¼Œå°† LEO å€¼è°ƒæ•´ä¸ºä¹‹å‰çš„é«˜æ°´ä½å€¼ï¼Œä¹Ÿå°±æ˜¯ 1ã€‚è¿™å°±æ˜¯è¯´ï¼Œä½ç§»å€¼ä¸º 1 çš„é‚£æ¡æ¶ˆæ¯è¢«å‰¯æœ¬ B ä»ç£ç›˜ä¸­åˆ é™¤ï¼Œæ­¤æ—¶å‰¯æœ¬ B çš„åº•å±‚ç£ç›˜æ–‡ä»¶ä¸­åªä¿å­˜æœ‰ 1 æ¡æ¶ˆæ¯ï¼Œå³ä½ç§»å€¼ä¸º 0 çš„é‚£æ¡æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ‰§è¡Œå®Œæˆªæ–­æ“ä½œåï¼Œå‰¯æœ¬ B å¼€å§‹ä» A æ‹‰å–æ¶ˆæ¯ï¼Œæ‰§è¡Œæ­£å¸¸çš„æ¶ˆæ¯åŒæ­¥ã€‚å¦‚æœå°±åœ¨è¿™ä¸ªèŠ‚éª¨çœ¼ä¸Šï¼Œå‰¯æœ¬ A æ‰€åœ¨çš„ Broker å®•æœºäº†ï¼Œé‚£ä¹ˆ Kafka å°±åˆ«æ— é€‰æ‹©ï¼Œåªèƒ½è®©å‰¯æœ¬ B æˆä¸ºæ–°çš„ Leaderï¼Œæ­¤æ—¶ï¼Œå½“ A å›æ¥åï¼Œéœ€è¦æ‰§è¡Œç›¸åŒçš„æ—¥å¿—æˆªæ–­æ“ä½œï¼Œå³å°†é«˜æ°´ä½è°ƒæ•´ä¸ºä¸ B ç›¸åŒçš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 1ã€‚è¿™æ ·æ“ä½œä¹‹åï¼Œä½ç§»å€¼ä¸º 1 çš„é‚£æ¡æ¶ˆæ¯å°±ä»è¿™ä¸¤ä¸ªå‰¯æœ¬ä¸­è¢«æ°¸è¿œåœ°æŠ¹æ‰äº†ã€‚è¿™å°±æ˜¯è¿™å¼ å›¾è¦å±•ç¤ºçš„æ•°æ®ä¸¢å¤±åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ä¸ªåœºæ™¯å‘ç”Ÿçš„å‰ææ˜¯ Broker ç«¯å‚æ•° &lt;code&gt;min.insync.replicas è®¾ç½®ä¸º 1&lt;/code&gt;ã€‚æ­¤æ—¶ä¸€æ—¦æ¶ˆæ¯è¢«å†™å…¥åˆ° Leader å‰¯æœ¬çš„ç£ç›˜ï¼Œå°±ä¼šè¢«è®¤ä¸ºæ˜¯ â€œå·²æäº¤çŠ¶æ€â€ï¼Œä½†ç°æœ‰çš„æ—¶é—´é”™é…é—®é¢˜å¯¼è‡´ Follower ç«¯çš„é«˜æ°´ä½æ›´æ–°æ˜¯æœ‰æ»åçš„ã€‚å¦‚æœåœ¨è¿™ä¸ªçŸ­æš‚çš„æ»åæ—¶é—´çª—å£å†…ï¼Œæ¥è¿å‘ç”Ÿ Broker å®•æœºï¼Œé‚£ä¹ˆè¿™ç±»æ•°æ®çš„ä¸¢å¤±å°±æ˜¯ä¸å¯é¿å…çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•åˆ©ç”¨ Leader Epoch æœºåˆ¶æ¥è§„é¿è¿™ç§æ•°æ®ä¸¢å¤±ã€‚æˆ‘ä¾ç„¶ç”¨å›¾çš„æ–¹å¼æ¥è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfvbp51hefj319g0u0wj2.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœºæ™¯å’Œä¹‹å‰å¤§è‡´æ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡å¼•ç”¨ Leader Epoch æœºåˆ¶åï¼ŒFollower å‰¯æœ¬ B é‡å¯å›æ¥åï¼Œéœ€è¦å‘ A å‘é€ä¸€ä¸ªç‰¹æ®Šçš„è¯·æ±‚å»è·å– Leader çš„ LEO å€¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¯¥å€¼ä¸º 2ã€‚å½“è·çŸ¥åˆ° Leader LEO=2 åï¼ŒB å‘ç°è¯¥ LEO å€¼ä¸æ¯”å®ƒè‡ªå·±çš„ LEO å€¼å°ï¼Œè€Œä¸”ç¼“å­˜ä¸­ä¹Ÿæ²¡æœ‰ä¿å­˜ä»»ä½•èµ·å§‹ä½ç§»å€¼ &amp;gt; 2 çš„ Epoch æ¡ç›®ï¼Œå› æ­¤ B æ— éœ€æ‰§è¡Œä»»ä½•æ—¥å¿—æˆªæ–­æ“ä½œã€‚è¿™æ˜¯å¯¹é«˜æ°´ä½æœºåˆ¶çš„ä¸€ä¸ªæ˜æ˜¾æ”¹è¿›ï¼Œå³å‰¯æœ¬æ˜¯å¦æ‰§è¡Œæ—¥å¿—æˆªæ–­ä¸å†ä¾èµ–äºé«˜æ°´ä½è¿›è¡Œåˆ¤æ–­ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œå‰¯æœ¬ A å®•æœºäº†ï¼ŒB æˆä¸º Leaderã€‚åŒæ ·åœ°ï¼Œå½“ A é‡å¯å›æ¥åï¼Œæ‰§è¡Œä¸ B ç›¸åŒçš„é€»è¾‘åˆ¤æ–­ï¼Œå‘ç°ä¹Ÿä¸ç”¨æ‰§è¡Œæ—¥å¿—æˆªæ–­ï¼Œè‡³æ­¤ä½ç§»å€¼ä¸º 1 çš„é‚£æ¡æ¶ˆæ¯åœ¨ä¸¤ä¸ªå‰¯æœ¬ä¸­å‡å¾—åˆ°ä¿ç•™ã€‚åé¢å½“ç”Ÿäº§è€…ç¨‹åºå‘ B å†™å…¥æ–°æ¶ˆæ¯æ—¶ï¼Œå‰¯æœ¬ B æ‰€åœ¨çš„ Broker ç¼“å­˜ä¸­ï¼Œä¼šç”Ÿæˆæ–°çš„ Leader Epoch æ¡ç›®ï¼š[Epoch=1, Offset=2]ã€‚ä¹‹åï¼Œå‰¯æœ¬ B ä¼šä½¿ç”¨è¿™ä¸ªæ¡ç›®å¸®åŠ©åˆ¤æ–­åç»­æ˜¯å¦æ‰§è¡Œæ—¥å¿—æˆªæ–­æ“ä½œã€‚è¿™æ ·ï¼Œé€šè¿‡ Leader Epoch æœºåˆ¶ï¼ŒKafka å®Œç¾åœ°è§„é¿äº†è¿™ç§æ•°æ®ä¸¢å¤±åœºæ™¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>kafkaç»å…¸é¢è¯•é¢˜è¯¦è§£</title>
      <link>https://bgbiao.top/post/kafka%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98%E8%AF%A6%E8%A7%A3/</link>
      <pubDate>Sun, 14 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/kafka%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98%E8%AF%A6%E8%A7%A3/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;æ— è®ºæ˜¯ä½œä¸ºé¢è¯•å®˜ï¼Œè¿˜æ˜¯åº”è˜è€…ï¼Œæˆ‘éƒ½æ¥è§¦è¿‡å¾ˆå¤š Kafka é¢è¯•é¢˜ã€‚è€Œåœ¨æœ€è¿‘é¢è¯•äº†å¾ˆå¤šå€™é€‰äººï¼Œå‘ç°å†™äº†ç†Ÿæ‚‰Kafkaï¼Œä½†æ˜¯å¯¹äºKafkaç›¸å…³çš„çŸ¥è¯†å´æ˜¯åªçŸ¥é“å¤§æ¦‚ç”¨å¤„ï¼Œç®€å•æ­å»ºå’Œä½¿ç”¨ã€‚æˆ‘æƒ³è¯´ï¼Œè™½ç„¶æˆ‘ä»¬æ˜¯SRE(å¯é æ€§å·¥ç¨‹å¸ˆ)ï¼Œä½†ä¸è®ºä½ æ˜¯ä¸šåŠ¡å±‚çš„SREè¿˜æ˜¯åŸºç¡€è®¾æ–½å±‚çš„SREï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹ä¸šåŠ¡æ–¹çš„ä½¿ç”¨åœºæ™¯æœ‰è¶³å¤Ÿç†è§£ï¼Œæˆ–è€…å¯¹æˆ‘ä»¬è¦æä¾›çš„æœåŠ¡æœ‰è¶³å¤Ÿçš„äº†è§£æ‰è¡Œï¼Œè¿™æ ·ä½ æ‰èƒ½æ•´ä½“çš„ä¿è¯ä½ çš„ä¸šåŠ¡è¿ç»­æ€§ä»¥åŠä¸šåŠ¡å¯é æ€§ã€‚å› æ­¤ï¼Œä¸“é—¨æ€»ç»“äº†å¦‚ä¸‹ç»å…¸çš„kafkaé¢è¯•è¯¦è§£ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»¥ä¸‹é¢è¯•é¢˜ï¼Œå‚è€ƒèƒ¡å¤§çš„&lt;code&gt;Kafka æ ¸å¿ƒæºç è§£è¯»&lt;/code&gt;ï¼Œå¯¹ç›¸å…³çš„çŸ¥è¯†è¿›è¡Œäº†è¡¥å……å’Œæ€è€ƒã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŸºç¡€é¢˜ç›®&#34;&gt;åŸºç¡€é¢˜ç›®&lt;/h3&gt;
&lt;h4 id=&#34;1apache-kafka-æ˜¯ä»€ä¹ˆ&#34;&gt;1.Apache Kafka æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;èƒ½é—®è¿™é“é¢˜ï¼Œä¸»è¦æ˜¯æƒ³çœ‹å€™é€‰äººå¯¹äºkafkaçš„ä½¿ç”¨åœºæ™¯ä»¥åŠå®šä½è®¤çŸ¥ç†è§£æœ‰å¤šæ·±ï¼ŒåŒæ—¶å€™å¯ä»¥çŸ¥é“å€™é€‰äººå¯¹äºè¿™é¡¹æŠ€æœ¯çš„å…³æ³¨åº¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨å¼€æºè½¯ä»¶ä¸­ï¼Œå¤§éƒ¨åˆ†è½¯ä»¶éšç€ç”¨æˆ·é‡çš„å¢åŠ ï¼Œæ•´ä¸ªè½¯ä»¶çš„åŠŸèƒ½å’Œå®šä½ä¹Ÿæœ‰äº†æ–°çš„å˜åŒ–ï¼Œè€ŒApache Kafka ä¸€è·¯å‘å±•åˆ°ç°åœ¨ï¼Œå·²ç»ç”±æœ€åˆçš„åˆ†å¸ƒå¼æäº¤æ—¥å¿—ç³»ç»Ÿé€æ¸æ¼”å˜æˆäº†å®æ—¶æµå¤„ç†æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œè¿™é“é¢˜ä½ æœ€å¥½è¿™ä¹ˆå›ç­”ï¼š&lt;strong&gt;Apach Kafka æ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼æµå¤„ç†å¹³å°ï¼Œç”¨äºå®æ—¶æ„å»ºæµå¤„ç†åº”ç”¨ã€‚å®ƒæœ‰ä¸€ä¸ªæ ¸å¿ƒçš„åŠŸèƒ½å¹¿ä¸ºäººçŸ¥ï¼Œå³ä½œä¸ºä¼ä¸šçº§çš„æ¶ˆæ¯å¼•æ“è¢«å¹¿æ³›ä½¿ç”¨(é€šå¸¸ä¹Ÿä¼šç§°ä¹‹ä¸ºæ¶ˆæ¯æ€»çº¿message bus)ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…³äº&lt;code&gt;åˆ†å¸ƒå¼æµå¤„ç†å¹³å°&lt;/code&gt;ï¼Œå…¶å®ä»å®ƒå®˜æ–¹çš„logoä»¥åŠsloganæˆ‘ä»¬å°±å¾ˆå®¹æ˜“çœ‹å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://kafka.apache.org/images/logo.png&#34; alt=&#34;kafka-logo&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2ä»€ä¹ˆæ˜¯æ¶ˆè´¹è€…ç»„&#34;&gt;2.ä»€ä¹ˆæ˜¯æ¶ˆè´¹è€…ç»„?&lt;/h4&gt;
&lt;p&gt;æ¶ˆè´¹è€…ç»„æ˜¯ Kafka ç‹¬æœ‰çš„æ¦‚å¿µï¼Œå¦‚æœé¢è¯•å®˜é—®è¿™ä¸ªï¼Œå°±è¯´æ˜ä»–å¯¹æ­¤æ˜¯æœ‰ä¸€å®šäº†è§£çš„ã€‚&lt;/p&gt;
&lt;p&gt;èƒ¡å¤§ç»™çš„æ ‡å‡†ç­”æ¡ˆæ˜¯: &lt;strong&gt;å®˜ç½‘ä¸Šçš„ä»‹ç»è¨€ç®€æ„èµ…ï¼Œå³æ¶ˆè´¹è€…ç»„æ˜¯ Kafka æä¾›çš„å¯æ‰©å±•ä¸”å…·æœ‰å®¹é”™æ€§çš„æ¶ˆè´¹è€…æœºåˆ¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å®é™…ä¸Šï¼Œæ¶ˆè´¹è€…ç»„(Consumer Group)å…¶å®åŒ…å«ä¸¤ä¸ªæ¦‚å¿µï¼Œä½œä¸º&lt;code&gt;é˜Ÿåˆ—&lt;/code&gt;ï¼Œæ¶ˆè´¹è€…ç»„å…è®¸ä½ åˆ†å‰²æ•°æ®å¤„ç†åˆ°ä¸€ç»„è¿›ç¨‹é›†åˆä¸Š(å³ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸­å¯ä»¥åŒ…å«å¤šä¸ªæ¶ˆè´¹è€…è¿›ç¨‹ï¼Œä»–ä»¬å…±åŒæ¶ˆè´¹è¯¥topicçš„æ•°æ®)ï¼Œè¿™æœ‰åŠ©äºä½ çš„æ¶ˆè´¹èƒ½åŠ›çš„åŠ¨æ€è°ƒæ•´ï¼›ä½œä¸º&lt;code&gt;å‘å¸ƒ-è®¢é˜…æ¨¡å‹(publish-subscribe)&lt;/code&gt;ï¼Œkafkaå…è®¸ä½ å°†åŒä¸€ä»½æ¶ˆæ¯å¹¿æ’­åˆ°å¤šä¸ªæ¶ˆè´¹è€…ç»„é‡Œï¼Œä»¥æ­¤æ¥ä¸°å¯Œå¤šç§æ•°æ®ä½¿ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯: &lt;strong&gt;åœ¨æ¶ˆè´¹è€…ç»„ä¸­ï¼Œå¤šä¸ªå®ä¾‹å…±åŒè®¢é˜…è‹¥å¹²ä¸ªä¸»é¢˜ï¼Œå®ç°å…±åŒæ¶ˆè´¹ã€‚åŒä¸€ä¸ªç»„ä¸‹çš„æ¯ä¸ªå®ä¾‹éƒ½é…ç½®æœ‰ç›¸åŒçš„ç»„ IDï¼Œè¢«åˆ†é…ä¸åŒçš„è®¢é˜…åˆ†åŒºã€‚å½“æŸä¸ªå®ä¾‹æŒ‚æ‰çš„æ—¶å€™ï¼Œå…¶ä»–å®ä¾‹ä¼šè‡ªåŠ¨åœ°æ‰¿æ‹…èµ·å®ƒè´Ÿè´£æ¶ˆè´¹çš„åˆ†åŒºã€‚&lt;/strong&gt; å› æ­¤ï¼Œæ¶ˆè´¹è€…ç»„åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¹Ÿä¿è¯äº†æ¶ˆè´¹è€…ç¨‹åºçš„é«˜å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfs6dbcw1yj30d6070aar.jpg&#34; alt=&#34;kafka-consumer-group&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; æ¶ˆè´¹è€…ç»„çš„é¢˜ç›®ï¼Œèƒ½å¤Ÿå¸®ä½ åœ¨æŸç§ç¨‹åº¦ä¸ŠæŒæ§ä¸‹é¢çš„é¢è¯•æ–¹å‘ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä½ æ“…é•¿&lt;code&gt;ä½ç§»å€¼åŸç†(Offset)&lt;/code&gt;ï¼Œå°±ä¸å¦¨å†æä¸€ä¸‹æ¶ˆè´¹è€…ç»„çš„ä½ç§»æäº¤æœºåˆ¶ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ æ“…é•¿&lt;code&gt;Kafka Broker&lt;/code&gt;ï¼Œå¯ä»¥æä¸€ä¸‹æ¶ˆè´¹è€…ç»„ä¸ Broker ä¹‹é—´çš„äº¤äº’ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ æ“…é•¿ä¸æ¶ˆè´¹è€…ç»„å®Œå…¨ä¸ç›¸å…³çš„ &lt;code&gt;Producer&lt;/code&gt;ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿™ä¹ˆè¯´ï¼šâ€œæ¶ˆè´¹è€…ç»„è¦æ¶ˆè´¹çš„æ•°æ®å®Œå…¨æ¥è‡ªäº Producer ç«¯ç”Ÿäº§çš„æ¶ˆæ¯ï¼Œæˆ‘å¯¹ Producer è¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ã€‚â€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ€»ä¹‹ï¼Œä½ æ€»å¾—å¯¹&lt;code&gt;consumer group&lt;/code&gt;ç›¸å…³çš„æ–¹å‘æœ‰ä¸€å®šç†è§£ï¼Œç„¶åæ‰èƒ½åƒé¢è¯•å®˜è¡¨åä½ å¯¹æŸä¸€å—å¾ˆç†è§£ã€‚&lt;/p&gt;
&lt;h4 id=&#34;3åœ¨-kafka-ä¸­zookeeper-çš„ä½œç”¨æ˜¯ä»€ä¹ˆ&#34;&gt;3.åœ¨ Kafka ä¸­ï¼ŒZooKeeper çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h4&gt;
&lt;p&gt;è¿™é“é¢˜ï¼Œä¹Ÿæ˜¯æˆ‘ç»å¸¸ä¼šé—®å€™é€‰äººçš„é¢˜ï¼Œå› ä¸ºä»»ä½•åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è™½ç„¶éƒ½é€šè¿‡ä¸€äº›åˆ—çš„ç®—æ³•å»é™¤äº†ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®å­˜å‚¨ï¼Œä½†æ˜¯æ¯•ç«Ÿè¿˜æ˜¯æœ‰äº›æ•°æ®è¦å­˜å‚¨çš„ï¼ŒåŒæ—¶åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç‰¹æ€§å¾€å¾€æ˜¯éœ€è¦æœ‰ä¸€äº›ä¸­é—´äººè§’è‰²æ¥ç»Ÿç­¹é›†ç¾¤ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨æ•´ä¸ªå¾®æœåŠ¡æ¡†æ¶ä¸­çš„&lt;code&gt;Dubbo&lt;/code&gt;ï¼Œå®ƒä¹Ÿæ˜¯éœ€è¦ä¾èµ–ä¸€äº›æ³¨å†Œä¸­å¿ƒæˆ–é…ç½®ä¸­å¿ƒç±»çš„ä¸­é—´ä»¶çš„ï¼Œä»¥åŠäº‘åŸç”Ÿçš„Kubernetesä½¿ç”¨&lt;code&gt;Etcd&lt;/code&gt;ä½œä¸ºæ•´ä¸ªé›†ç¾¤çš„æ¢çº½ã€‚&lt;/p&gt;
&lt;p&gt;æ ‡å‡†ç­”æ¡ˆ: &lt;strong&gt;ç›®å‰ï¼ŒKafka ä½¿ç”¨ ZooKeeper å­˜æ”¾é›†ç¾¤å…ƒæ•°æ®ã€æˆå‘˜ç®¡ç†ã€Controller é€‰ä¸¾ï¼Œä»¥åŠå…¶ä»–ä¸€äº›ç®¡ç†ç±»ä»»åŠ¡ã€‚ä¹‹åï¼Œç­‰ KIP-500 ææ¡ˆå®Œæˆåï¼ŒKafka å°†å®Œå…¨ä¸å†ä¾èµ–äº ZooKeeperã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€œå­˜æ”¾å…ƒæ•°æ®â€ æ˜¯æŒ‡ä¸»é¢˜åˆ†åŒºçš„æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨ ZooKeeper ä¸­ï¼Œä¸”ä»¥å®ƒä¿å­˜çš„æ•°æ®ä¸ºæƒå¨ï¼Œå…¶ä»– â€œäººâ€ éƒ½è¦ä¸å®ƒä¿æŒå¯¹é½ã€‚&lt;/li&gt;
&lt;li&gt;â€œæˆå‘˜ç®¡ç†â€ æ˜¯æŒ‡ Broker èŠ‚ç‚¹çš„æ³¨å†Œã€æ³¨é”€ä»¥åŠå±æ€§å˜æ›´ï¼Œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;â€œController é€‰ä¸¾â€ æ˜¯æŒ‡é€‰ä¸¾é›†ç¾¤ Controllerï¼Œè€Œå…¶ä»–ç®¡ç†ç±»ä»»åŠ¡åŒ…æ‹¬ä½†ä¸é™äºä¸»é¢˜åˆ é™¤ã€å‚æ•°é…ç½®ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;KIP-500 æ€æƒ³ï¼Œæ˜¯ä½¿ç”¨ç¤¾åŒºè‡ªç ”çš„åŸºäº Raft çš„å…±è¯†ç®—æ³•ï¼Œæ›¿ä»£ ZooKeeperï¼Œå®ç° Controller è‡ªé€‰ä¸¾ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;4è§£é‡Šä¸‹-kafka-ä¸­ä½ç§»offsetçš„ä½œç”¨&#34;&gt;4.è§£é‡Šä¸‹ Kafka ä¸­ä½ç§»ï¼ˆoffsetï¼‰çš„ä½œç”¨&lt;/h4&gt;
&lt;p&gt;æ ‡å‡†ç­”æ¡ˆ: &lt;strong&gt;åœ¨ Kafka ä¸­ï¼Œæ¯ä¸ªä¸»é¢˜åˆ†åŒºä¸‹çš„æ¯æ¡æ¶ˆæ¯éƒ½è¢«èµ‹äºˆäº†ä¸€ä¸ªå”¯ä¸€çš„ ID æ•°å€¼ï¼Œç”¨äºæ ‡è¯†å®ƒåœ¨åˆ†åŒºä¸­çš„ä½ç½®ã€‚è¿™ä¸ª ID æ•°å€¼ï¼Œå°±è¢«ç§°ä¸ºä½ç§»ï¼Œæˆ–è€…å«åç§»é‡ã€‚ä¸€æ—¦æ¶ˆæ¯è¢«å†™å…¥åˆ°åˆ†åŒºæ—¥å¿—ï¼Œå®ƒçš„ä½ç§»å€¼å°†ä¸èƒ½è¢«ä¿®æ”¹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”å®Œè¿™äº›ä¹‹åï¼Œä½ è¿˜å¯ä»¥æŠŠæ•´ä¸ªé¢è¯•æ–¹å‘è½¬ç§»åˆ°ä½ å¸Œæœ›çš„åœ°æ–¹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä½ æ·±è°™ Broker åº•å±‚æ—¥å¿—å†™å…¥çš„é€»è¾‘ï¼Œå¯ä»¥å¼ºè°ƒä¸‹æ¶ˆæ¯åœ¨æ—¥å¿—ä¸­çš„å­˜æ”¾æ ¼å¼&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ æ˜ç™½ä½ç§»å€¼ä¸€æ—¦è¢«ç¡®å®šä¸èƒ½ä¿®æ”¹ï¼Œå¯ä»¥å¼ºè°ƒä¸‹ â€œLog Cleaner ç»„ä»¶éƒ½ä¸èƒ½å½±å“ä½ç§»å€¼â€ è¿™ä»¶äº‹æƒ…&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ å¯¹æ¶ˆè´¹è€…çš„æ¦‚å¿µè¿˜ç®—ç†Ÿæ‚‰ï¼Œå¯ä»¥å†è¯¦ç»†è¯´è¯´&lt;code&gt;ä½ç§»å€¼&lt;/code&gt;å’Œ&lt;code&gt;æ¶ˆè´¹è€…ä½ç§»å€¼&lt;/code&gt;ä¹‹é—´çš„åŒºåˆ«&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5é˜è¿°ä¸‹-kafka-ä¸­çš„é¢†å¯¼è€…å‰¯æœ¬leader-replicaå’Œè¿½éšè€…å‰¯æœ¬follower-replicaçš„åŒºåˆ«&#34;&gt;5.é˜è¿°ä¸‹ Kafka ä¸­çš„é¢†å¯¼è€…å‰¯æœ¬ï¼ˆLeader Replicaï¼‰å’Œè¿½éšè€…å‰¯æœ¬ï¼ˆFollower Replicaï¼‰çš„åŒºåˆ«&lt;/h4&gt;
&lt;p&gt;æ¨èçš„ç­”æ¡ˆ: &lt;strong&gt;Kafka å‰¯æœ¬å½“å‰åˆ†ä¸ºé¢†å¯¼è€…å‰¯æœ¬å’Œè¿½éšè€…å‰¯æœ¬ã€‚åªæœ‰ Leader å‰¯æœ¬æ‰èƒ½å¯¹å¤–æä¾›è¯»å†™æœåŠ¡ï¼Œå“åº” Clients ç«¯çš„è¯·æ±‚ã€‚Follower å‰¯æœ¬åªæ˜¯é‡‡ç”¨æ‹‰ï¼ˆPULLï¼‰çš„æ–¹å¼ï¼Œè¢«åŠ¨åœ°åŒæ­¥ Leader å‰¯æœ¬ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”åœ¨ Leader å‰¯æœ¬æ‰€åœ¨çš„ Broker å®•æœºåï¼Œéšæ—¶å‡†å¤‡åº”è˜ Leader å‰¯æœ¬ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŠ åˆ†ç‚¹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼ºè°ƒ Follower å‰¯æœ¬ä¹Ÿèƒ½å¯¹å¤–æä¾›è¯»æœåŠ¡&lt;/strong&gt;ã€‚è‡ª Kafka 2.4 ç‰ˆæœ¬å¼€å§‹ï¼Œç¤¾åŒºé€šè¿‡å¼•å…¥æ–°çš„ Broker ç«¯å‚æ•°ï¼Œå…è®¸ Follower å‰¯æœ¬æœ‰é™åº¦åœ°æä¾›è¯»æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼ºè°ƒ Leader å’Œ Follower çš„æ¶ˆæ¯åºåˆ—åœ¨å®é™…åœºæ™¯ä¸­ä¸ä¸€è‡´&lt;/strong&gt;ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¾ˆå¤šå› ç´ å¯èƒ½é€ æˆleaderå’Œfollowerä¹‹é—´çš„ä¸åŒæ­¥ï¼Œæ¯”å¦‚ç¨‹åºé—®é¢˜ï¼Œç½‘ç»œé—®é¢˜ï¼Œbrokeré—®é¢˜ç­‰ï¼ŒçŸ­æš‚çš„ä¸åŒæ­¥æˆ‘ä»¬å¯ä»¥å…³æ³¨(ç§’çº§åˆ«)ï¼Œä½†é•¿æ—¶é—´çš„ä¸åŒæ­¥å¯èƒ½å°±éœ€è¦æ·±å…¥æ’æŸ¥äº†ï¼Œå› ä¸ºä¸€æ—¦leaderæ‰€åœ¨èŠ‚ç‚¹å¼‚å¸¸ï¼Œå¯èƒ½ç›´æ¥å½±å“å¯ç”¨æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;æ³¨æ„:&lt;/code&gt; ä¹‹å‰ç¡®ä¿ä¸€è‡´æ€§çš„ä¸»è¦æ‰‹æ®µæ˜¯é«˜æ°´ä½æœºåˆ¶(HW)ï¼Œä½†é«˜æ°´ä½å€¼æ— æ³•ä¿è¯ Leader è¿ç»­å˜æ›´åœºæ™¯ä¸‹çš„æ•°æ®ä¸€è‡´æ€§ï¼Œå› æ­¤ï¼Œç¤¾åŒºå¼•å…¥äº†&lt;code&gt;Leader Epoch&lt;/code&gt; æœºåˆ¶ï¼Œæ¥ä¿®å¤é«˜æ°´ä½å€¼çš„å¼Šç«¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://time.geekbang.org/column/article/112118?utm_source=pinpaizhuanqu&amp;amp;utm_medium=geektime&amp;amp;utm_campaign=guanwang&amp;amp;utm_term=guanwang&amp;amp;utm_content=0511&#34;&gt;å…³äºé«˜æ°´ä½å’Œ Leader Epoch çš„è®¨è®º&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®æ“é¢˜ç›®&#34;&gt;å®æ“é¢˜ç›®&lt;/h3&gt;
&lt;h4 id=&#34;6å¦‚ä½•è®¾ç½®-kafka-èƒ½æ¥æ”¶çš„æœ€å¤§æ¶ˆæ¯çš„å¤§å°&#34;&gt;6.å¦‚ä½•è®¾ç½® Kafka èƒ½æ¥æ”¶çš„æœ€å¤§æ¶ˆæ¯çš„å¤§å°?&lt;/h4&gt;
&lt;p&gt;å¯¹äºSREæ¥è®²ï¼Œè¯¥é¢˜ç®€ç›´æ˜¯é€åˆ†é¢˜å•Šï¼Œä½†æ˜¯ï¼Œæœ€å¤§æ¶ˆæ¯çš„è®¾ç½®é€šå¸¸æƒ…å†µä¸‹æœ‰ç”Ÿäº§è€…ç«¯ï¼Œæ¶ˆè´¹è€…ç«¯ï¼Œbrokerç«¯å’Œtopicçº§åˆ«çš„å‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦æ­£ç¡®è®¾ç½®ï¼Œä»¥ä¿è¯å¯ä»¥æ­£å¸¸çš„ç”Ÿäº§å’Œæ¶ˆè´¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Brokerç«¯å‚æ•°: &lt;code&gt;message.max.bytes&lt;/code&gt;,&lt;code&gt;max.message.bytes(topicçº§åˆ«)&lt;/code&gt;,&lt;code&gt;replica.fetch.max.bytes(å¦åˆ™followä¼šåŒæ­¥å¤±è´¥)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Consumerç«¯å‚æ•°: &lt;code&gt;fetch.message.max.bytes&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7ç›‘æ§-kafka-çš„æ¡†æ¶éƒ½æœ‰å“ªäº›&#34;&gt;7.ç›‘æ§ Kafka çš„æ¡†æ¶éƒ½æœ‰å“ªäº›ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å¯¹äºSREæ¥è®²ï¼Œä¾ç„¶æ˜¯é€åˆ†é¢˜ã€‚ä½†åŸºç¡€çš„æˆ‘ä»¬è¦çŸ¥é“ï¼Œkafkaæœ¬èº«æ˜¯æä¾›äº†&lt;code&gt;jmx(Java Management Extensions)&lt;/code&gt;çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥è·å–åˆ°kafkaå†…éƒ¨çš„ä¸€äº›åŸºæœ¬æ•°æ®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Kafka Manager&lt;/strong&gt;: æ›´å¤šæ˜¯kafkaçš„ç®¡ç†ï¼Œå¯¹äºSREéå¸¸å‹å¥½ï¼Œä¹Ÿæä¾›äº†ç®€å•çš„ç¬æ—¶æŒ‡æ ‡ç›‘æ§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kafka Monitor&lt;/strong&gt;: LinkedIn å¼€æºçš„å…è´¹æ¡†æ¶ï¼Œæ”¯æŒå¯¹é›†ç¾¤è¿›è¡Œç³»ç»Ÿæµ‹è¯•ï¼Œå¹¶å®æ—¶ç›‘æ§æµ‹è¯•ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CruiseControl&lt;/strong&gt;: ä¹Ÿæ˜¯ LinkedIn å…¬å¸å¼€æºçš„ç›‘æ§æ¡†æ¶ï¼Œç”¨äºå®æ—¶ç›‘æµ‹èµ„æºä½¿ç”¨ç‡ï¼Œä»¥åŠæä¾›å¸¸ç”¨è¿ç»´æ“ä½œç­‰ã€‚æ—  UI ç•Œé¢ï¼Œåªæä¾› REST APIï¼Œå¯ä»¥è¿›è¡Œå¤šé›†ç¾¤ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JMX ç›‘æ§&lt;/strong&gt;: ç”±äº Kafka æä¾›çš„ç›‘æ§æŒ‡æ ‡éƒ½æ˜¯åŸºäº JMX çš„ï¼Œå› æ­¤ï¼Œå¸‚é¢ä¸Šä»»ä½•èƒ½å¤Ÿé›†æˆ JMX çš„æ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ¯”å¦‚ Zabbix å’Œ Prometheusã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·²æœ‰å¤§æ•°æ®å¹³å°è‡ªå·±çš„ç›‘æ§ä½“ç³»&lt;/strong&gt;: åƒ Cloudera æä¾›çš„ CDH è¿™ç±»å¤§æ•°æ®å¹³å°ï¼Œå¤©ç„¶å°±æä¾› Kafka ç›‘æ§æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JMXTool&lt;/strong&gt;: ç¤¾åŒºæä¾›çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶ç›‘æ§ JMX æŒ‡æ ‡ã€‚å¯ä»¥ä½¿ç”¨&lt;code&gt;kafka-run-class.sh kafka.tools.JmxTool&lt;/code&gt;æ¥æŸ¥çœ‹å…·ä½“çš„ç”¨æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;8broker-çš„-heap-size-å¦‚ä½•è®¾ç½®&#34;&gt;8.Broker çš„ Heap Size å¦‚ä½•è®¾ç½®ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å…¶å®å¯¹äºSREè¿˜æ˜¯é€åˆ†é¢˜ï¼Œå› ä¸ºç›®å‰æ¥è®²å¤§éƒ¨åˆ†å…¬å¸çš„ä¸šåŠ¡ç³»ç»Ÿéƒ½æ˜¯ä½¿ç”¨Javaå¼€å‘ï¼Œå› æ­¤SREå¯¹äºåŸºæœ¬çš„JVMç›¸å…³çš„å‚æ•°åº”è¯¥è‡³å°‘éƒ½æ˜¯éå¸¸äº†è§£çš„ï¼Œæ ¸å¿ƒå°±åœ¨äºJVMçš„é…ç½®ä»¥åŠGCç›¸å…³çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;p&gt;æ ‡å‡†ç­”æ¡ˆ: &lt;strong&gt;ä»»ä½• Java è¿›ç¨‹ JVM å †å¤§å°çš„è®¾ç½®éƒ½éœ€è¦ä»”ç»†åœ°è¿›è¡Œè€ƒé‡å’Œæµ‹è¯•ã€‚ä¸€ä¸ªå¸¸è§çš„åšæ³•æ˜¯ï¼Œä»¥é»˜è®¤çš„åˆå§‹ JVM å †å¤§å°è¿è¡Œç¨‹åºï¼Œå½“ç³»ç»Ÿè¾¾åˆ°ç¨³å®šçŠ¶æ€åï¼Œæ‰‹åŠ¨è§¦å‘ä¸€æ¬¡ Full GCï¼Œç„¶åé€šè¿‡ JVM å·¥å…·æŸ¥çœ‹ GC åçš„å­˜æ´»å¯¹è±¡å¤§å°ã€‚ä¹‹åï¼Œå°†å †å¤§å°è®¾ç½®æˆå­˜æ´»å¯¹è±¡æ€»å¤§å°çš„ 1.5~2 å€ã€‚å¯¹äº Kafka è€Œè¨€ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚ä¸è¿‡ï¼Œä¸šç•Œæœ‰ä¸ªæœ€ä½³å®è·µï¼Œé‚£å°±æ˜¯å°† Broker çš„ Heap Size å›ºå®šä¸º 6GBã€‚ç»è¿‡å¾ˆå¤šå…¬å¸çš„éªŒè¯ï¼Œè¿™ä¸ªå¤§å°æ˜¯è¶³å¤Ÿä¸”è‰¯å¥½çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;9å¦‚ä½•ä¼°ç®—-kafka-é›†ç¾¤çš„æœºå™¨æ•°é‡&#34;&gt;9.å¦‚ä½•ä¼°ç®— Kafka é›†ç¾¤çš„æœºå™¨æ•°é‡?&lt;/h4&gt;
&lt;p&gt;è¯¥é¢˜ä¹Ÿç®—æ˜¯SREçš„é€åˆ†é¢˜å§ï¼Œå¯¹äºSREæ¥è®²ï¼Œä»»ä½•ç”Ÿäº§çš„ç³»ç»Ÿç¬¬ä¸€æ­¥éœ€è¦åšçš„å°±æ˜¯å®¹é‡é¢„ä¼°ä»¥åŠé›†ç¾¤çš„æ¶æ„è§„åˆ’ï¼Œå®é™…ä¸Šä¹Ÿå°±æ˜¯&lt;strong&gt;æœºå™¨æ•°é‡å’Œæ‰€ç”¨èµ„æºä¹‹é—´çš„å…³è”å…³ç³»&lt;/strong&gt;ï¼Œèµ„æºé€šå¸¸æ¥è®²å°±æ˜¯cpuï¼Œå†…å­˜ï¼Œç£ç›˜å®¹é‡ï¼Œå¸¦å®½ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œkafkaå› ä¸ºç‹¬æœ‰çš„è®¾è®¡ï¼Œå¯¹äºç£ç›˜çš„è¦æ±‚å¹¶ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œæ™®é€šæœºæ¢°ç¡¬ç›˜è¶³å¤Ÿï¼Œè€Œé€šå¸¸çš„ç“¶é¢ˆä¼šå‡ºç°åœ¨å¸¦å®½ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é¢„ä¼°ç£ç›˜çš„å ç”¨æ—¶ï¼Œä½ ä¸€å®šä¸è¦å¿˜è®°è®¡ç®—å‰¯æœ¬åŒæ­¥çš„å¼€é”€ã€‚å¦‚æœä¸€æ¡æ¶ˆæ¯å ç”¨ 1KB çš„ç£ç›˜ç©ºé—´ï¼Œé‚£ä¹ˆï¼Œåœ¨æœ‰ 3 ä¸ªå‰¯æœ¬çš„ä¸»é¢˜ä¸­ï¼Œä½ å°±éœ€è¦ 3KB çš„æ€»ç©ºé—´æ¥ä¿å­˜è¿™æ¡æ¶ˆæ¯ã€‚åŒæ—¶ï¼Œéœ€è¦è€ƒè™‘åˆ°æ•´ä¸ªä¸šåŠ¡Topicæ•°æ®ä¿å­˜çš„æœ€å¤§æ—¶é—´ï¼Œä»¥ä¸Šå‡ ä¸ªå› ç´ ï¼ŒåŸºæœ¬å¯ä»¥é¢„ä¼°å‡ºæ¥ç£ç›˜çš„å®¹é‡éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯: å¯¹äºç£ç›˜æ¥è®²ï¼Œä¸€å®šè¦æå‰å’Œä¸šåŠ¡æ²Ÿé€šå¥½åœºæ™¯ï¼Œè€Œä¸æ˜¯ç­‰å¾…çœŸæ­£æœ‰ç£ç›˜å®¹é‡ç“¶é¢ˆäº†æ‰å»æ‰©å®¹ç£ç›˜æˆ–è€…æ‰¾ä¸šåŠ¡æ–¹æ²Ÿé€šæ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¸¦å®½æ¥è¯´ï¼Œå¸¸è§çš„å¸¦å®½æœ‰ 1Gbps å’Œ 10Gbpsï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œå½“å¸¦å®½å ç”¨æ¥è¿‘æ€»å¸¦å®½çš„ 90% æ—¶ï¼Œä¸¢åŒ…æƒ…å½¢å°±ä¼šå‘ç”Ÿã€‚&lt;/p&gt;
&lt;h4 id=&#34;10leader-æ€»æ˜¯--1æ€ä¹ˆç ´&#34;&gt;10.Leader æ€»æ˜¯ -1ï¼Œæ€ä¹ˆç ´ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å¯¹äºæœ‰ç»éªŒçš„SREæ¥è®²ï¼Œæ—©æœŸçš„kafkaç‰ˆæœ¬åº”è¯¥å¤šå¤šå°‘å°‘éƒ½é‡åˆ°è¿‡è¯¥ç§æƒ…å†µï¼Œé€šå¸¸æƒ…å†µä¸‹å°±æ˜¯&lt;code&gt;controller&lt;/code&gt;ä¸å·¥ä½œäº†ï¼Œå¯¼è‡´æ— æ³•åˆ†é…leaderï¼Œé‚£æ—¢ç„¶çŸ¥é“é—®é¢˜åï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿå°±å¾ˆç®€å•äº†ã€‚é‡å¯controllerèŠ‚ç‚¹ä¸Šçš„kafkaè¿›ç¨‹ï¼Œè®©å…¶ä»–èŠ‚ç‚¹é‡æ–°æ³¨å†Œcontrollerè§’è‰²ï¼Œä½†æ˜¯å¦‚ä¸Šé¢&lt;code&gt;zookeeper&lt;/code&gt;çš„ä½œç”¨ï¼Œä½ è¦çŸ¥é“ä¸ºä»€ä¹ˆ&lt;code&gt;controller&lt;/code&gt;å¯ä»¥è‡ªåŠ¨æ³¨å†Œã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶äº†ï¼Œå½“ä½ çŸ¥é“&lt;code&gt;controller&lt;/code&gt;çš„æ³¨å†Œæœºåˆ¶åï¼Œä½ ä¹Ÿå¯ä»¥è¯´: &lt;strong&gt;åˆ é™¤ ZooKeeper èŠ‚ç‚¹ /controllerï¼Œè§¦å‘ Controller é‡é€‰ä¸¾ã€‚Controller é‡é€‰ä¸¾èƒ½å¤Ÿä¸ºæ‰€æœ‰ä¸»é¢˜åˆ†åŒºé‡åˆ·åˆ†åŒºçŠ¶æ€ï¼Œå¯ä»¥æœ‰æ•ˆè§£å†³å› ä¸ä¸€è‡´å¯¼è‡´çš„ Leader ä¸å¯ç”¨é—®é¢˜&lt;/strong&gt;ã€‚ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›´æ¥æ“ä½œ&lt;code&gt;zookeeper&lt;/code&gt;æ˜¯ä¸€ä»¶é£é™©å¾ˆå¤§çš„æ“ä½œï¼Œå°±å¥½æ¯”åœ¨Linuxä¸­æ‰§è¡Œäº†&lt;strong&gt;rm -rf /xxx&lt;/strong&gt;ä¸€æ ·ï¼Œå¦‚æœåœ¨&lt;code&gt;/&lt;/code&gt;å’Œ&lt;code&gt;xxx&lt;/code&gt;ä¹‹é—´ä¸å°å¿ƒå¤šäº†å‡ ä¸ªç©ºæ ¼ï¼Œé‚£&amp;quot;æ­å–œä½ &amp;quot;ï¼Œä»Šå¹´ç™½å¹²äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç‚«æŠ€å¼é¢˜ç›®&#34;&gt;ç‚«æŠ€å¼é¢˜ç›®&lt;/h3&gt;
&lt;h4 id=&#34;11leolsoarisrhw-éƒ½è¡¨ç¤ºä»€ä¹ˆå«ä¹‰&#34;&gt;11.LEOã€LSOã€ARã€ISRã€HW éƒ½è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;è®²çœŸï¼Œæˆ‘ä¸è®¤ä¸ºè¿™æ˜¯ç‚«æŠ€çš„é¢˜ç›®ï¼Œç‰¹åˆ«æ˜¯ä½œä¸ºSREæ¥è®²ï¼Œå¯¹äºä¸€ä¸ªå¼€æºè½¯ä»¶çš„åŸç†ä»¥åŠæ¦‚å¿µçš„ç†è§£ï¼Œæ˜¯éå¸¸é‡è¦çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;LEO(Log End Offset)&lt;/strong&gt;: æ—¥å¿—æœ«ç«¯ä½ç§»å€¼æˆ–æœ«ç«¯åç§»é‡ï¼Œè¡¨ç¤ºæ—¥å¿—ä¸‹ä¸€æ¡å¾…æ’å…¥æ¶ˆæ¯çš„ä½ç§»å€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæ—¥å¿—æœ‰ 10 æ¡æ¶ˆæ¯ï¼Œä½ç§»å€¼ä» 0 å¼€å§‹ï¼Œé‚£ä¹ˆï¼Œç¬¬ 10 æ¡æ¶ˆæ¯çš„ä½ç§»å€¼å°±æ˜¯ 9ã€‚æ­¤æ—¶ï¼ŒLEO = 10ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LSO(Log Stable Offset)&lt;/strong&gt;: è¿™æ˜¯ Kafka äº‹åŠ¡çš„æ¦‚å¿µã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨åˆ°äº‹åŠ¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¸å­˜åœ¨ï¼ˆå…¶å®ä¹Ÿä¸æ˜¯ä¸å­˜åœ¨ï¼Œåªæ˜¯è®¾ç½®æˆä¸€ä¸ªæ— æ„ä¹‰çš„å€¼ï¼‰ã€‚è¯¥å€¼æ§åˆ¶äº†äº‹åŠ¡å‹æ¶ˆè´¹è€…èƒ½å¤Ÿçœ‹åˆ°çš„æ¶ˆæ¯èŒƒå›´ã€‚å®ƒç»å¸¸ä¸ Log Start Offsetï¼Œå³æ—¥å¿—èµ·å§‹ä½ç§»å€¼ç›¸æ··æ·†ï¼Œå› ä¸ºæœ‰äº›äººå°†åè€…ç¼©å†™æˆ LSOï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚åœ¨ Kafka ä¸­ï¼ŒLSO å°±æ˜¯æŒ‡ä»£ Log Stable Offsetã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AR(Assigned Replicas)&lt;/strong&gt;: AR æ˜¯ä¸»é¢˜è¢«åˆ›å»ºåï¼Œåˆ†åŒºåˆ›å»ºæ—¶è¢«åˆ†é…çš„å‰¯æœ¬é›†åˆï¼Œå‰¯æœ¬ä¸ªæ•°ç”±å‰¯æœ¬å› å­å†³å®šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ISR(In-Sync Replicas)&lt;/strong&gt;: Kafka ä¸­ç‰¹åˆ«é‡è¦çš„æ¦‚å¿µï¼ŒæŒ‡ä»£çš„æ˜¯ AR ä¸­é‚£äº›ä¸ Leader ä¿æŒåŒæ­¥çš„å‰¯æœ¬é›†åˆã€‚åœ¨ AR ä¸­çš„å‰¯æœ¬å¯èƒ½ä¸åœ¨ ISR ä¸­ï¼Œä½† Leader å‰¯æœ¬å¤©ç„¶å°±åŒ…å«åœ¨ ISR ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HW(High watermark)&lt;/strong&gt;: é«˜æ°´ä½å€¼ï¼Œè¿™æ˜¯æ§åˆ¶æ¶ˆè´¹è€…å¯è¯»å–æ¶ˆæ¯èŒƒå›´çš„é‡è¦å­—æ®µã€‚ä¸€ä¸ªæ™®é€šæ¶ˆè´¹è€…åªèƒ½ â€œçœ‹åˆ°â€ Leader å‰¯æœ¬ä¸Šä»‹äº Log Start Offset å’Œ HWï¼ˆä¸å«ï¼‰ä¹‹é—´çš„æ‰€æœ‰æ¶ˆæ¯ã€‚æ°´ä½ä»¥ä¸Šçš„æ¶ˆæ¯æ˜¯å¯¹æ¶ˆè´¹è€…ä¸å¯è§çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šå¸¸åœ¨&lt;code&gt;ISR&lt;/code&gt;ä¸­ï¼Œå¯èƒ½ä¼šæœ‰äººé—®åˆ°ä¸ºä»€ä¹ˆæœ‰æ—¶å€™å‰¯æœ¬ä¸åœ¨ISRä¸­ï¼Œè¿™å…¶å®ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„Leaderå’ŒFollowerä¸åŒæ­¥çš„æƒ…å†µï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å‰é¢è¯´ï¼ŒçŸ­æš‚çš„ä¸åŒæ­¥æˆ‘ä»¬å¯ä»¥å…³æ³¨ï¼Œä½†æ˜¯é•¿æ—¶é—´çš„ä¸åŒæ­¥ï¼Œæˆ‘ä»¬éœ€è¦ä»‹å…¥æ’æŸ¥äº†ï¼Œå› ä¸ºISRé‡Œçš„å‰¯æœ¬åé¢éƒ½æ˜¯é€šè¿‡&lt;code&gt;replica.lag.time.max.ms&lt;/code&gt;ï¼Œå³Follower å‰¯æœ¬çš„ LEO è½å Leader LEO çš„æ—¶é—´æ˜¯å¦è¶…è¿‡é˜ˆå€¼æ¥å†³å®šå‰¯æœ¬æ˜¯å¦åœ¨ISRå†…éƒ¨çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;12kafka-èƒ½æ‰‹åŠ¨åˆ é™¤æ¶ˆæ¯å—&#34;&gt;12.Kafka èƒ½æ‰‹åŠ¨åˆ é™¤æ¶ˆæ¯å—ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;Kafka ä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨åˆ é™¤æ¶ˆæ¯ã€‚å®ƒæœ¬èº«æä¾›äº†ç•™å­˜ç­–ç•¥ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åˆ é™¤è¿‡æœŸæ¶ˆæ¯ã€‚å½“ç„¶ï¼Œå®ƒæ˜¯æ”¯æŒæ‰‹åŠ¨åˆ é™¤æ¶ˆæ¯çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºè®¾ç½®äº† Key ä¸”å‚æ•° &lt;code&gt;cleanup.policy=compact&lt;/code&gt; çš„ä¸»é¢˜è€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€æ¡ çš„æ¶ˆæ¯å‘é€ç»™ Brokerï¼Œä¾é  Log Cleaner ç»„ä»¶æä¾›çš„åŠŸèƒ½åˆ é™¤æ‰è¯¥ Key çš„æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºæ™®é€šä¸»é¢˜è€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ kafka-delete-records å‘½ä»¤ï¼Œæˆ–ç¼–å†™ç¨‹åºè°ƒç”¨ Admin.deleteRecords æ–¹æ³•æ¥åˆ é™¤æ¶ˆæ¯ã€‚è¿™ä¸¤ç§æ–¹æ³•æ®Šé€”åŒå½’ï¼Œåº•å±‚éƒ½æ˜¯è°ƒç”¨ Admin çš„ deleteRecords æ–¹æ³•ï¼Œé€šè¿‡å°†åˆ†åŒº Log Start Offset å€¼æŠ¬é«˜çš„æ–¹å¼é—´æ¥åˆ é™¤æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;13__consumer_offsets-æ˜¯åšä»€ä¹ˆç”¨çš„&#34;&gt;13.__consumer_offsets æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨ä¸»é¢˜ï¼Œä¸»è¦ç”¨äºå­˜å‚¨æ¶ˆè´¹è€…çš„åç§»é‡ï¼Œä»¥åŠæ¶ˆè´¹è€…çš„å…ƒæ•°æ®ä¿¡æ¯(&lt;code&gt;æ¶ˆè´¹è€…å®ä¾‹ï¼Œæ¶ˆè´¹è€…id&lt;/code&gt;ç­‰ç­‰)&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯: Kafka çš„ &lt;code&gt;GroupCoordinator&lt;/code&gt; ç»„ä»¶æä¾›å¯¹è¯¥ä¸»é¢˜å®Œæ•´çš„ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¯¥ä¸»é¢˜çš„åˆ›å»ºã€å†™å…¥ã€è¯»å–å’Œ Leader ç»´æŠ¤ç­‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;14åˆ†åŒº-leader-é€‰ä¸¾ç­–ç•¥æœ‰å‡ ç§&#34;&gt;14.åˆ†åŒº Leader é€‰ä¸¾ç­–ç•¥æœ‰å‡ ç§ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;åˆ†åŒºçš„ Leader å‰¯æœ¬é€‰ä¸¾å¯¹ç”¨æˆ·æ˜¯å®Œå…¨é€æ˜çš„ï¼Œå®ƒæ˜¯ç”± &lt;code&gt;Controller&lt;/code&gt; ç‹¬ç«‹å®Œæˆçš„ã€‚ä½ éœ€è¦å›ç­”çš„æ˜¯ï¼Œåœ¨å“ªäº›åœºæ™¯ä¸‹ï¼Œéœ€è¦æ‰§è¡Œåˆ†åŒº Leader é€‰ä¸¾ã€‚æ¯ä¸€ç§åœºæ™¯å¯¹åº”äºä¸€ç§é€‰ä¸¾ç­–ç•¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OfflinePartition Leader é€‰ä¸¾&lt;/strong&gt;: æ¯å½“æœ‰åˆ†åŒºä¸Šçº¿æ—¶ï¼Œå°±éœ€è¦æ‰§è¡Œ Leader é€‰ä¸¾ã€‚æ‰€è°“çš„åˆ†åŒºä¸Šçº¿ï¼Œå¯èƒ½æ˜¯åˆ›å»ºäº†æ–°åˆ†åŒºï¼Œä¹Ÿå¯èƒ½æ˜¯ä¹‹å‰çš„ä¸‹çº¿åˆ†åŒºé‡æ–°ä¸Šçº¿ã€‚è¿™æ˜¯æœ€å¸¸è§çš„åˆ†åŒº Leader é€‰ä¸¾åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ReassignPartition Leader é€‰ä¸¾&lt;/strong&gt;: å½“ä½ æ‰‹åŠ¨è¿è¡Œ kafka-reassign-partitions å‘½ä»¤ï¼Œæˆ–è€…æ˜¯è°ƒç”¨ Admin çš„ alterPartitionReassignments æ–¹æ³•æ‰§è¡Œåˆ†åŒºå‰¯æœ¬é‡åˆ†é…æ—¶ï¼Œå¯èƒ½è§¦å‘æ­¤ç±»é€‰ä¸¾ã€‚å‡è®¾åŸæ¥çš„ AR æ˜¯ [1ï¼Œ2ï¼Œ3]ï¼ŒLeader æ˜¯ 1ï¼Œå½“æ‰§è¡Œå‰¯æœ¬é‡åˆ†é…åï¼Œå‰¯æœ¬é›†åˆ AR è¢«è®¾ç½®æˆ [4ï¼Œ5ï¼Œ6]ï¼Œæ˜¾ç„¶ï¼ŒLeader å¿…é¡»è¦å˜æ›´ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿ Reassign Partition Leader é€‰ä¸¾ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PreferredReplicaPartition Leader é€‰ä¸¾&lt;/strong&gt;: å½“ä½ æ‰‹åŠ¨è¿è¡Œ kafka-preferred-replica-election å‘½ä»¤ï¼Œæˆ–è‡ªåŠ¨è§¦å‘äº† Preferred Leader é€‰ä¸¾æ—¶ï¼Œè¯¥ç±»ç­–ç•¥è¢«æ¿€æ´»ã€‚æ‰€è°“çš„ Preferred Leaderï¼ŒæŒ‡çš„æ˜¯ AR ä¸­çš„ç¬¬ä¸€ä¸ªå‰¯æœ¬ã€‚æ¯”å¦‚ AR æ˜¯ [3ï¼Œ2ï¼Œ1]ï¼Œé‚£ä¹ˆï¼ŒPreferred Leader å°±æ˜¯ 3ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ControlledShutdownPartition Leader é€‰ä¸¾&lt;/strong&gt;: å½“ Broker æ­£å¸¸å…³é—­æ—¶ï¼Œè¯¥ Broker ä¸Šçš„æ‰€æœ‰ Leader å‰¯æœ¬éƒ½ä¼šä¸‹çº¿ï¼Œå› æ­¤ï¼Œéœ€è¦ä¸ºå—å½±å“çš„åˆ†åŒºæ‰§è¡Œç›¸åº”çš„ Leader é€‰ä¸¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ 4 ç±»é€‰ä¸¾ç­–ç•¥çš„å¤§è‡´æ€æƒ³æ˜¯ç±»ä¼¼çš„ï¼Œå³ä» AR ä¸­æŒ‘é€‰é¦–ä¸ªåœ¨ ISR ä¸­çš„å‰¯æœ¬ï¼Œä½œä¸ºæ–° Leaderã€‚&lt;/p&gt;
&lt;h4 id=&#34;15kafka-çš„å“ªäº›åœºæ™¯ä¸­ä½¿ç”¨äº†é›¶æ‹·è´zero-copy&#34;&gt;15.Kafka çš„å“ªäº›åœºæ™¯ä¸­ä½¿ç”¨äº†é›¶æ‹·è´ï¼ˆZero Copyï¼‰&lt;/h4&gt;
&lt;p&gt;å…¶å®è¿™é“é¢˜å¯¹äºSREæ¥è®²ï¼Œæœ‰ç‚¹è¶…çº²äº†ï¼Œä¸è¿‡æ—¢ç„¶&lt;code&gt;Zero Copy&lt;/code&gt;æ˜¯kafkaé«˜æ€§èƒ½çš„ä¿è¯ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å®ƒã€‚&lt;/p&gt;
&lt;p&gt;Zero Copy æ˜¯ç‰¹åˆ«å®¹æ˜“è¢«é—®åˆ°çš„é«˜é˜¶é¢˜ç›®ã€‚åœ¨ Kafka ä¸­ï¼Œä½“ç° Zero Copy ä½¿ç”¨åœºæ™¯çš„åœ°æ–¹æœ‰ä¸¤å¤„ï¼š&lt;strong&gt;åŸºäº mmap çš„ç´¢å¼•å’Œæ—¥å¿—æ–‡ä»¶è¯»å†™æ‰€ç”¨çš„ TransportLayer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…ˆè¯´ç¬¬ä¸€ä¸ªã€‚ç´¢å¼•éƒ½æ˜¯åŸºäº MappedByteBuffer çš„ï¼Œä¹Ÿå°±æ˜¯è®©ç”¨æˆ·æ€å’Œå†…æ ¸æ€å…±äº«å†…æ ¸æ€çš„æ•°æ®ç¼“å†²åŒºï¼Œæ­¤æ—¶ï¼Œæ•°æ®ä¸éœ€è¦å¤åˆ¶åˆ°ç”¨æˆ·æ€ç©ºé—´ã€‚ä¸è¿‡ï¼Œmmap è™½ç„¶é¿å…äº†ä¸å¿…è¦çš„æ‹·è´ï¼Œä½†ä¸ä¸€å®šå°±èƒ½ä¿è¯å¾ˆé«˜çš„æ€§èƒ½ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ï¼Œmmap çš„åˆ›å»ºå’Œé”€æ¯æˆæœ¬å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚å¾ˆé«˜çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€ä¼šæŠµæ¶ˆ Zero Copy å¸¦æ¥çš„æ€§èƒ½ä¼˜åŠ¿ã€‚ç”±äºè¿™ç§ä¸ç¡®å®šæ€§ï¼Œåœ¨ Kafka ä¸­ï¼Œåªæœ‰ç´¢å¼•åº”ç”¨äº† mmapï¼Œæœ€æ ¸å¿ƒçš„æ—¥å¿—å¹¶æœªä½¿ç”¨ mmap æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å†è¯´ç¬¬äºŒä¸ªã€‚TransportLayer æ˜¯ Kafka ä¼ è¾“å±‚çš„æ¥å£ã€‚å®ƒçš„æŸä¸ªå®ç°ç±»ä½¿ç”¨äº† FileChannel çš„ transferTo æ–¹æ³•ã€‚è¯¥æ–¹æ³•åº•å±‚ä½¿ç”¨ sendfile å®ç°äº† Zero Copyã€‚å¯¹ Kafka è€Œè¨€ï¼Œå¦‚æœ I/O é€šé“ä½¿ç”¨æ™®é€šçš„ PLAINTEXTï¼Œé‚£ä¹ˆï¼ŒKafka å°±å¯ä»¥åˆ©ç”¨ Zero Copy ç‰¹æ€§ï¼Œç›´æ¥å°†é¡µç¼“å­˜ä¸­çš„æ•°æ®å‘é€åˆ°ç½‘å¡çš„ Buffer ä¸­ï¼Œé¿å…ä¸­é—´çš„å¤šæ¬¡æ‹·è´ã€‚ç›¸åï¼Œå¦‚æœ I/O é€šé“å¯ç”¨äº† SSLï¼Œé‚£ä¹ˆï¼ŒKafka ä¾¿æ— æ³•åˆ©ç”¨ Zero Copy ç‰¹æ€§äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ·±åº¦æ€è€ƒé¢˜&#34;&gt;æ·±åº¦æ€è€ƒé¢˜&lt;/h3&gt;
&lt;h4 id=&#34;16kafka-ä¸ºä»€ä¹ˆä¸æ”¯æŒè¯»å†™åˆ†ç¦»&#34;&gt;16.Kafka ä¸ºä»€ä¹ˆä¸æ”¯æŒè¯»å†™åˆ†ç¦»ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;è¿™å…¶å®æ˜¯åˆ†å¸ƒå¼åœºæ™¯ä¸‹çš„é€šç”¨é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“CAPç†è®ºä¸‹ï¼Œæˆ‘ä»¬åªèƒ½ä¿è¯C(å¯ç”¨æ€§)å’ŒA(ä¸€è‡´æ€§)å–å…¶ä¸€ï¼Œå¦‚æœæ”¯æŒè¯»å†™åˆ†ç¦»ï¼Œé‚£å…¶å®å¯¹äºä¸€è‡´æ€§çš„è¦æ±‚å¯èƒ½å°±ä¼šæœ‰ä¸€å®šæŠ˜æ‰£ï¼Œå› ä¸ºé€šå¸¸çš„åœºæ™¯ä¸‹ï¼Œå‰¯æœ¬ä¹‹é—´éƒ½æ˜¯é€šè¿‡åŒæ­¥æ¥å®ç°å‰¯æœ¬æ•°æ®ä¸€è‡´çš„ï¼Œé‚£åŒæ­¥è¿‡ç¨‹ä¸­è‚¯å®šä¼šæœ‰æ—¶é—´çš„æ¶ˆè€—ï¼Œå¦‚æœæ”¯æŒäº†è¯»å†™åˆ†ç¦»ï¼Œå°±æ„å‘³ç€å¯èƒ½çš„æ•°æ®ä¸ä¸€è‡´ï¼Œæˆ–æ•°æ®æ»åã€‚&lt;/p&gt;
&lt;p&gt;Leader/Follower æ¨¡å‹å¹¶æ²¡æœ‰è§„å®š Follower å‰¯æœ¬ä¸å¯ä»¥å¯¹å¤–æä¾›è¯»æœåŠ¡ã€‚å¾ˆå¤šæ¡†æ¶éƒ½æ˜¯å…è®¸è¿™ä¹ˆåšçš„ï¼Œåªæ˜¯ Kafka æœ€åˆä¸ºäº†é¿å…ä¸ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œè€Œé‡‡ç”¨äº†è®© Leader ç»Ÿä¸€æä¾›æœåŠ¡çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œ&lt;strong&gt;è‡ª Kafka 2.4 ä¹‹åï¼ŒKafka æä¾›äº†æœ‰é™åº¦çš„è¯»å†™åˆ†ç¦»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒFollower å‰¯æœ¬èƒ½å¤Ÿå¯¹å¤–æä¾›è¯»æœåŠ¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;17å¦‚ä½•è°ƒä¼˜-kafka&#34;&gt;17.å¦‚ä½•è°ƒä¼˜ Kafkaï¼Ÿ&lt;/h4&gt;
&lt;p&gt;ä½œä¸ºSREæ¥è®²ï¼Œä»»ä½•ç”Ÿäº§ç¯å¢ƒçš„è°ƒä¼˜ï¼Œé¦–å…ˆéœ€è¦&lt;strong&gt;è¯†åˆ«é—®é¢˜å’Œç“¶é¢ˆç‚¹&lt;/strong&gt;ï¼Œè€Œä¸æ˜¯éšæ„çš„è¿›è¡Œè‡†æƒ³è°ƒä¼˜ã€‚éšåï¼Œéœ€è¦&lt;strong&gt;ç¡®å®šä¼˜åŒ–ç›®æ ‡ï¼Œå¹¶ä¸”å®šé‡ç»™å‡ºç›®æ ‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºkafkaæ¥è®²ï¼Œå¸¸è§çš„è°ƒä¼˜æ–¹å‘åŸºæœ¬ä¸º: ååé‡ã€å»¶æ—¶ã€æŒä¹…æ€§å’Œå¯ç”¨æ€§ï¼Œæ¯ç§ç›®æ ‡ä¹‹å‰éƒ½æ˜¯ç”±å†²çªç‚¹ï¼Œè¿™ä¹Ÿå°±è¦æ±‚äº†ï¼Œæˆ‘ä»¬åœ¨å¯¹ä¸šåŠ¡æ¥å…¥ä½¿ç”¨æ—¶ï¼Œè¦è¿›è¡Œä¸šåŠ¡åœºæ™¯çš„äº†è§£ï¼Œä»¥å¯¹ä¸šåŠ¡è¿›è¡Œç›¸å¯¹çš„é›†ç¾¤éš”ç¦»ï¼Œå› ä¸ºæ¯ä¸€ä¸ªæ–¹å‘çš„ä¼˜åŒ–æ€è·¯éƒ½æ˜¯ä¸åŒçš„ï¼Œç”šè‡³æ˜¯ç›¸åçš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¡®å®šäº†ç›®æ ‡ä¹‹åï¼Œè¿˜è¦æ˜ç¡®ä¼˜åŒ–çš„ç»´åº¦ã€‚æœ‰äº›è°ƒä¼˜å±äºé€šç”¨çš„ä¼˜åŒ–æ€è·¯ï¼Œæ¯”å¦‚å¯¹æ“ä½œç³»ç»Ÿã€JVM ç­‰çš„ä¼˜åŒ–ï¼›æœ‰äº›åˆ™æ˜¯æœ‰é’ˆå¯¹æ€§çš„ï¼Œæ¯”å¦‚è¦ä¼˜åŒ– Kafka çš„ TPSã€‚æˆ‘ä»¬éœ€è¦ä» 3 ä¸ªæ–¹å‘å»è€ƒè™‘ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Producer ç«¯&lt;/strong&gt;: å¢åŠ &lt;code&gt;batch.size&lt;/code&gt;å’Œ&lt;code&gt;linger.ms&lt;/code&gt;ï¼Œå¯ç”¨å‹ç¼©ï¼Œå…³é—­é‡è¯•&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Broker ç«¯&lt;/strong&gt;: å¢åŠ &lt;code&gt;num.replica.fetchers&lt;/code&gt;æå‡ Follower åŒæ­¥ TPSï¼Œé¿å… Broker Full GC ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Consumer&lt;/strong&gt;: å¢åŠ &lt;code&gt;fetch.min.bytes&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;18controller-å‘ç”Ÿç½‘ç»œåˆ†åŒºnetwork-partitioningæ—¶kafka-ä¼šæ€ä¹ˆæ ·&#34;&gt;18.Controller å‘ç”Ÿç½‘ç»œåˆ†åŒºï¼ˆNetwork Partitioningï¼‰æ—¶ï¼ŒKafka ä¼šæ€ä¹ˆæ ·&lt;/h4&gt;
&lt;p&gt;è¿™é“é¢˜ç›®èƒ½å¤Ÿè¯±å‘æˆ‘ä»¬å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ã€CAP ç†è®ºã€ä¸€è‡´æ€§ç­‰å¤šæ–¹é¢çš„æ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦å‘ç”Ÿ Controller ç½‘ç»œåˆ†åŒºï¼Œé‚£ä¹ˆï¼Œç¬¬ä¸€è¦åŠ¡å°±æ˜¯æŸ¥çœ‹é›†ç¾¤æ˜¯å¦å‡ºç° â€œè„‘è£‚â€ï¼Œå³åŒæ—¶å‡ºç°ä¸¤ä¸ªç”šè‡³æ˜¯å¤šä¸ª Controller ç»„ä»¶ã€‚è¿™å¯ä»¥æ ¹æ® Broker ç«¯ç›‘æ§æŒ‡æ ‡ ActiveControllerCount æ¥åˆ¤æ–­ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œé€šå¸¸è€Œè¨€ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ•´ä¸ªéƒ¨ç½²æ¶æ„æ—¶ï¼Œä¸ºäº†é¿å…è¿™ç§ç½‘ç»œåˆ†åŒºçš„å‘ç”Ÿï¼Œä¸€èˆ¬ä¼šå°†brokerèŠ‚ç‚¹å°½å¯èƒ½çš„é˜²æ­¢åœ¨ä¸€ä¸ªæœºæˆ¿æˆ–è€…å¯ç”¨åŒºã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº Controller ä¼šç»™ Broker å‘é€ 3 ç±»è¯·æ±‚ï¼Œ&lt;code&gt;LeaderAndIsrRequest&lt;/code&gt;ï¼Œ&lt;code&gt;StopReplicaRequest&lt;/code&gt;ï¼Œ&lt;code&gt;UpdateMetadataRequest&lt;/code&gt;ï¼Œå› æ­¤ï¼Œä¸€æ—¦å‡ºç°ç½‘ç»œåˆ†åŒºï¼Œè¿™äº›è¯·æ±‚å°†ä¸èƒ½é¡ºåˆ©åˆ°è¾¾ Broker ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°†å½±å“ä¸»é¢˜çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤æ“ä½œçš„ä¿¡æ¯åŒæ­¥ï¼Œè¡¨ç°ä¸ºé›†ç¾¤ä»¿ä½›åƒµä½äº†ä¸€æ ·ï¼Œæ— æ³•æ„ŸçŸ¥åˆ°åé¢çš„æ‰€æœ‰æ“ä½œã€‚å› æ­¤ï¼Œç½‘ç»œåˆ†åŒºé€šå¸¸éƒ½æ˜¯éå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œè¦èµ¶å¿«ä¿®å¤ã€‚&lt;/p&gt;
&lt;h4 id=&#34;19java-consumer-ä¸ºä»€ä¹ˆé‡‡ç”¨å•çº¿ç¨‹æ¥è·å–æ¶ˆæ¯&#34;&gt;19.Java Consumer ä¸ºä»€ä¹ˆé‡‡ç”¨å•çº¿ç¨‹æ¥è·å–æ¶ˆæ¯ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;åœ¨å›ç­”ä¹‹å‰ï¼Œå¦‚æœå…ˆæŠŠè¿™å¥è¯è¯´å‡ºæ¥ï¼Œä¸€å®šä¼šåŠ åˆ†ï¼š&lt;strong&gt;Java Consumer æ˜¯åŒçº¿ç¨‹çš„è®¾è®¡ã€‚ä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨æˆ·ä¸»çº¿ç¨‹ï¼Œè´Ÿè´£è·å–æ¶ˆæ¯ï¼›å¦ä¸€ä¸ªçº¿ç¨‹æ˜¯å¿ƒè·³çº¿ç¨‹ï¼Œè´Ÿè´£å‘ Kafka æ±‡æŠ¥æ¶ˆè´¹è€…å­˜æ´»æƒ…å†µã€‚å°†å¿ƒè·³å•ç‹¬æ”¾å…¥ä¸“å±çš„çº¿ç¨‹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°è§„é¿å› æ¶ˆæ¯å¤„ç†é€Ÿåº¦æ…¢è€Œè¢«è§†ä¸ºä¸‹çº¿çš„ â€œå‡æ­»â€ æƒ…å†µã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å•çº¿ç¨‹è·å–æ¶ˆæ¯çš„è®¾è®¡èƒ½å¤Ÿé¿å…é˜»å¡å¼çš„æ¶ˆæ¯è·å–æ–¹å¼ã€‚å•çº¿ç¨‹è½®è¯¢æ–¹å¼å®¹æ˜“å®ç°å¼‚æ­¥éé˜»å¡å¼ï¼Œè¿™æ ·ä¾¿äºå°†æ¶ˆè´¹è€…æ‰©å±•æˆæ”¯æŒå®æ—¶æµå¤„ç†çš„æ“ä½œç®—å­ã€‚å› ä¸ºå¾ˆå¤šå®æ—¶æµå¤„ç†æ“ä½œç®—å­éƒ½ä¸èƒ½æ˜¯é˜»å¡å¼çš„ã€‚å¦å¤–ä¸€ä¸ªå¯èƒ½çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥ç®€åŒ–ä»£ç çš„å¼€å‘ã€‚å¤šçº¿ç¨‹äº¤äº’çš„ä»£ç æ˜¯éå¸¸å®¹æ˜“å‡ºé”™çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;20ç®€è¿°-follower-å‰¯æœ¬æ¶ˆæ¯åŒæ­¥çš„å®Œæ•´æµç¨‹&#34;&gt;20.ç®€è¿° Follower å‰¯æœ¬æ¶ˆæ¯åŒæ­¥çš„å®Œæ•´æµç¨‹&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆï¼ŒFollower å‘é€ FETCH è¯·æ±‚ç»™ Leaderã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼ŒLeader ä¼šè¯»å–åº•å±‚æ—¥å¿—æ–‡ä»¶ä¸­çš„æ¶ˆæ¯æ•°æ®ï¼Œå†æ›´æ–°å®ƒå†…å­˜ä¸­çš„ Follower å‰¯æœ¬çš„ LEO å€¼ï¼Œæ›´æ–°ä¸º FETCH è¯·æ±‚ä¸­çš„ fetchOffset å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå°è¯•æ›´æ–°åˆ†åŒºé«˜æ°´ä½å€¼ã€‚Follower æ¥æ”¶åˆ° FETCH å“åº”ä¹‹åï¼Œä¼šæŠŠæ¶ˆæ¯å†™å…¥åˆ°åº•å±‚æ—¥å¿—ï¼Œæ¥ç€æ›´æ–° LEO å’Œ HW å€¼ã€‚&lt;/p&gt;
&lt;p&gt;Leader å’Œ Follower çš„ HW å€¼æ›´æ–°æ—¶æœºæ˜¯ä¸åŒçš„ï¼ŒFollower çš„ HW æ›´æ–°æ°¸è¿œè½åäº Leader çš„ HWã€‚è¿™ç§æ—¶é—´ä¸Šçš„é”™é…æ˜¯é€ æˆå„ç§ä¸ä¸€è‡´çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå¯¹äºæ¶ˆè´¹è€…è€Œè¨€ï¼Œæ¶ˆè´¹åˆ°çš„æ¶ˆæ¯æ°¸è¿œæ˜¯æ‰€æœ‰å‰¯æœ¬ä¸­æœ€å°çš„é‚£ä¸ªHWã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gfs986oapjj30u01hdaj9.jpg&#34; alt=&#34;èƒ¡å¤§çš„kafkaæºç è¯¾ç¨‹&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Gitå¸¸ç”¨å‘½ä»¤</title>
      <link>https://bgbiao.top/post/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Mon, 08 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå¯èƒ½ç»å¸¸ä¼šé‡åˆ°ä¸€äº›ä¸€è‡´æ€§éœ€æ±‚ï¼Œéœ€è¦å°†æœ¬åœ°ä»£ç å’ŒGitè¿œç«¯ä»£ç ä¿æŒä¸€è‡´ï¼Œå› æ­¤è¿™é‡Œå°±ä¸»è¦æ¥è®°å½•ä¸€äº›Gitçš„æ—¥å¸¸æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å°å¿ƒä¿®æ”¹é”™äº†ä»£ç æˆ–è€…ä¹‹å‰æ„æ€çš„ä¸šåŠ¡é€»è¾‘è¢«æ¨ç¿»äº†ï¼Œä½†æ˜¯è¿™ä¸ªè¿­ä»£ä¸­æˆ‘ä»¬å¢åŠ äº†å¾ˆå¤šä»£ç ï¼Œæƒ³è¦å°½å¿«å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡‡ç”¨å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç çš„æ–¹å¼æ¥å®ç°ï¼Œæ­¤æ—¶è·ç¦»ä¸Šä¸€æ¬¡commitä¿®æ”¹çš„ä»£ç å°†ä¼šè¢«å¼ºåˆ¶è¦†ç›–ï¼Œå¯ä»¥å¾ˆå¥½çš„å°†æˆ‘ä»¬æœ¬æ¬¡çš„é”™è¯¯éœ€æ±‚ä»£ç æ¸…ç†æ‰ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-v&#34; data-lang=&#34;v&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;é¦–å…ˆå°†è¿œç«¯ä»£ç å…¨éƒ¨fetchä¸‹æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;âœ&lt;/span&gt;  &lt;span class=&#34;nv&#34;&gt;kafka&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;master&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;âœ—&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;git&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;fetch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;all&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nc&#34;&gt;Fetching&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;origin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nc&#34;&gt;Fetching&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bgbiao&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nc&#34;&gt;From&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//github.com/goops-top/utils
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;      &lt;span class=&#34;nv&#34;&gt;master&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bgbiao&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;å°†æœ¬åœ°ä»£ç è®¾ç½®åˆ°è¿œç«¯çš„ç¨³å®šç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;âœ&lt;/span&gt;  &lt;span class=&#34;nv&#34;&gt;kafka&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;master&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;âœ—&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;git&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;reset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;hard&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;origin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nc&#34;&gt;HEAD&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;now&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;at&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1223981&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;update&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;go&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;mod&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;fix&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;module declares its path as:&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;é‡æ–°pull&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;âœ&lt;/span&gt;  &lt;span class=&#34;nv&#34;&gt;kafka&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;master&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;git&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pull&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nc&#34;&gt;Already&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;up&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>ä¸€æ–‡å¸®ä½ å¿«é€Ÿå›é¡¾æ­£åˆ™è¡¨è¾¾å¼çŸ¥è¯†</title>
      <link>https://bgbiao.top/post/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%9F%BA%E7%A1%80%E5%9B%9E%E9%A1%BE/</link>
      <pubDate>Sat, 06 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%9F%BA%E7%A1%80%E5%9B%9E%E9%A1%BE/</guid>
      
        <description>&lt;blockquote&gt;
&lt;p&gt;èƒŒæ™¯: åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å¿«é€ŸåŒ¹é…å’Œè¿‡æ»¤ä¸€äº›æˆ‘ä»¬æœŸæœ›çš„å­—ç¬¦ä¸²æ¥å¤„ç†ä¸€äº›ç®€å•åˆç¹ççš„æ–‡å­—ç»Ÿè®¡å’Œè¿‡æ»¤æ“ä½œï¼›è€Œä½œä¸ºä¸€åæŠ€æœ¯ä»ä¸šè€…ï¼Œæˆ‘ä»¬ä¹Ÿç»å¸¸ä¼šåœ¨ç¨‹åºä¸­æˆ–è€…é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å¤„ç†å­—ç¬¦æˆ–è¿›è¡Œæ‰¹é‡é…ç½®é¡¹çš„æŸ¥è¯¢å’Œæ›´æ”¹ï¼Œä½†é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç¼–å†™çš„æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œä¸æ–­æµ‹è¯•æ‰èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæœ¬ç¯‡æ–‡ç« å¸¦ä½ é‡æ–°å›é¡¾æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶åˆ†äº«ä¸€ä¸ªåœ¨çº¿çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·(&lt;a href=&#34;https://regex101.com/&#34;&gt;https://regex101.com/&lt;/a&gt;)ï¼Œå¸®ä½ åœ¨å·¥ä½œä¸­å¿«é€Ÿæµ‹è¯•ä½ çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼&#34;&gt;ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç»„ç”±å­—æ¯å’Œç¬¦å·ç»„æˆçš„ç‰¹æ®Šæ–‡æœ¬ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä»æ–‡æœ¬ä¸­æ‰¾å‡ºæ»¡è¶³ä½ æƒ³è¦çš„æ ¼å¼çš„å¥å­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ä»å·¦åˆ°å³åŒ¹é…ä¸»ä½“å­—ç¬¦ä¸²çš„æ¨¡å¼ã€‚
â€œRegular expressionâ€è¿™ä¸ªè¯æ¯”è¾ƒæ‹—å£ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨ç¼©å†™çš„æœ¯è¯­â€œregexâ€æˆ–â€œregexpâ€ã€‚
æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ä»ä¸€ä¸ªåŸºç¡€å­—ç¬¦ä¸²ä¸­æ ¹æ®ä¸€å®šçš„åŒ¹é…æ¨¡å¼æ›¿æ¢æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸²ã€éªŒè¯è¡¨å•ã€æå–å­—ç¬¦ä¸²ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è±¡ä½ æ­£åœ¨å†™ä¸€ä¸ªåº”ç”¨ï¼Œç„¶åä½ æƒ³è®¾å®šä¸€ä¸ªç”¨æˆ·å‘½åçš„è§„åˆ™ï¼Œè®©ç”¨æˆ·ååŒ…å«å­—ç¬¦ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œè¿å­—ç¬¦ï¼Œä»¥åŠé™åˆ¶å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¥½è®©åå­—çœ‹èµ·æ¥æ²¡é‚£ä¹ˆä¸‘ã€‚
æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼æ¥éªŒè¯ä¸€ä¸ªç”¨æˆ·åï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gficxu10luj30hl0bsq3e.jpg&#34; alt=&#34;ç”¨æˆ·ååŒ¹é…&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šçš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ¥å— &lt;code&gt;john_doe&lt;/code&gt;ã€&lt;code&gt;jo-hn_doe&lt;/code&gt;ã€&lt;code&gt;john12_as&lt;/code&gt;ã€‚
ä½†ä¸åŒ¹é…&lt;code&gt;Jo&lt;/code&gt;ï¼Œå› ä¸ºå®ƒåŒ…å«äº†å¤§å†™çš„å­—æ¯è€Œä¸”å¤ªçŸ­äº†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç›®å½•&#34;&gt;ç›®å½•&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%9F%BA%E6%9C%AC%E5%8C%B9%E9%85%8D&#34;&gt;1. åŸºæœ¬åŒ¹é…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%85%83%E5%AD%97%E7%AC%A6&#34;&gt;2. å…ƒå­—ç¬¦&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#21-%E7%82%B9%E8%BF%90%E7%AE%97%E7%AC%A6-&#34;&gt;2.1 ç‚¹è¿ç®—ç¬¦ .&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#22-%E5%AD%97%E7%AC%A6%E9%9B%86&#34;&gt;2.2 å­—ç¬¦é›†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#221-%E5%90%A6%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86&#34;&gt;2.2.1 å¦å®šå­—ç¬¦é›†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#23-%E9%87%8D%E5%A4%8D%E6%AC%A1%E6%95%B0&#34;&gt;2.3 é‡å¤æ¬¡æ•°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#231--%E5%8F%B7&#34;&gt;2.3.1 * å·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#232--%E5%8F%B7&#34;&gt;2.3.2 + å·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#233--%E5%8F%B7&#34;&gt;2.3.3 ? å·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#24--%E5%8F%B7&#34;&gt;2.4 {} å·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#25--%E7%89%B9%E5%BE%81%E6%A0%87%E7%BE%A4&#34;&gt;2.5 (&amp;hellip;) ç‰¹å¾æ ‡ç¾¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#26--%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6&#34;&gt;2.6 | æˆ–è¿ç®—ç¬¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#27-%E8%BD%AC%E7%A0%81%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6&#34;&gt;2.7 è½¬ç ç‰¹æ®Šå­—ç¬¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#28-%E9%94%9A%E7%82%B9&#34;&gt;2.8 é”šç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#281--%E5%8F%B7&#34;&gt;2.8.1 ^ å·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#282--%E5%8F%B7&#34;&gt;2.8.2 $ å·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%AE%80%E5%86%99%E5%AD%97%E7%AC%A6%E9%9B%86&#34;&gt;3. ç®€å†™å­—ç¬¦é›†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E9%9B%B6%E5%AE%BD%E5%BA%A6%E6%96%AD%E8%A8%80%E5%89%8D%E5%90%8E%E9%A2%84%E6%9F%A5&#34;&gt;4. é›¶å®½åº¦æ–­è¨€(å‰åé¢„æŸ¥)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#41--%E6%AD%A3%E5%85%88%E8%A1%8C%E6%96%AD%E8%A8%80&#34;&gt;4.1 ?=&amp;hellip; æ­£å…ˆè¡Œæ–­è¨€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#42--%E8%B4%9F%E5%85%88%E8%A1%8C%E6%96%AD%E8%A8%80&#34;&gt;4.2 ?!&amp;hellip; è´Ÿå…ˆè¡Œæ–­è¨€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#43---%E6%AD%A3%E5%90%8E%E5%8F%91%E6%96%AD%E8%A8%80&#34;&gt;4.3 ?&amp;lt;= &amp;hellip; æ­£åå‘æ–­è¨€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#44--%E8%B4%9F%E5%90%8E%E5%8F%91%E6%96%AD%E8%A8%80&#34;&gt;4.4 ?&amp;lt;!&amp;hellip; è´Ÿåå‘æ–­è¨€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%A0%87%E5%BF%97&#34;&gt;5. æ ‡å¿—&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#51-%E5%BF%BD%E7%95%A5%E5%A4%A7%E5%B0%8F%E5%86%99-case-insensitive&#34;&gt;5.1 å¿½ç•¥å¤§å°å†™ï¼ˆCase Insensitiveï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#52-%E5%85%A8%E5%B1%80%E6%90%9C%E7%B4%A2-global-search&#34;&gt;5.2 å…¨å±€æœç´¢ï¼ˆGlobal searchï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#53-%E5%A4%9A%E8%A1%8C%E4%BF%AE%E9%A5%B0%E7%AC%A6-multiline&#34;&gt;5.3 å¤šè¡Œä¿®é¥°ç¬¦ï¼ˆMultilineï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%A2%9D%E5%A4%96%E8%A1%A5%E5%85%85&#34;&gt;é¢å¤–è¡¥å……&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B4%A1%E7%8C%AE&#34;&gt;è´¡çŒ®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%B8%E5%8F%AF%E8%AF%81&#34;&gt;è®¸å¯è¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-åŸºæœ¬åŒ¹é…&#34;&gt;1. åŸºæœ¬åŒ¹é…&lt;/h2&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼å…¶å®å°±æ˜¯åœ¨æ‰§è¡Œæœç´¢æ—¶çš„æ ¼å¼ï¼Œå®ƒç”±ä¸€äº›å­—æ¯å’Œæ•°å­—ç»„åˆè€Œæˆã€‚
ä¾‹å¦‚ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ &lt;code&gt;the&lt;/code&gt;ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªè§„åˆ™ï¼šç”±å­—æ¯&lt;code&gt;t&lt;/code&gt;å¼€å§‹ï¼Œæ¥ç€æ˜¯&lt;code&gt;h&lt;/code&gt;ï¼Œå†æ¥ç€æ˜¯&lt;code&gt;e&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/dmRygT/1&#34;&gt;https://regex101.com/r/dmRygT/1&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼&lt;code&gt;123&lt;/code&gt;åŒ¹é…å­—ç¬¦ä¸²&lt;code&gt;123&lt;/code&gt;ã€‚å®ƒé€ä¸ªå­—ç¬¦çš„ä¸è¾“å…¥çš„æ­£åˆ™è¡¨è¾¾å¼åšæ¯”è¾ƒã€‚&lt;/p&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œæ‰€ä»¥&lt;code&gt;The&lt;/code&gt;ä¸ä¼šåŒ¹é…&lt;code&gt;the&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/1paXsy/1&#34;&gt;https://regex101.com/r/1paXsy/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;2-å…ƒå­—ç¬¦&#34;&gt;2. å…ƒå­—ç¬¦&lt;/h2&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼ä¸»è¦ä¾èµ–äºå…ƒå­—ç¬¦ã€‚
å…ƒå­—ç¬¦ä¸ä»£è¡¨ä»–ä»¬æœ¬èº«çš„å­—é¢æ„æ€ï¼Œä»–ä»¬éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚ä¸€äº›å…ƒå­—ç¬¦å†™åœ¨æ–¹æ‹¬å·ä¸­çš„æ—¶å€™æœ‰ä¸€äº›ç‰¹æ®Šçš„æ„æ€ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…ƒå­—ç¬¦çš„ä»‹ç»ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å…ƒå­—ç¬¦&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;.&lt;/td&gt;
&lt;td&gt;å¥å·åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦é™¤äº†æ¢è¡Œç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;[ ]&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ç§ç±»ã€‚åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;[^ ]&lt;/td&gt;
&lt;td&gt;å¦å®šçš„å­—ç¬¦ç§ç±»ã€‚åŒ¹é…é™¤äº†æ–¹æ‹¬å·é‡Œçš„ä»»æ„å­—ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;*&lt;/td&gt;
&lt;td&gt;åŒ¹é…&amp;gt;=0ä¸ªé‡å¤çš„åœ¨*å·ä¹‹å‰çš„å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;+&lt;/td&gt;
&lt;td&gt;åŒ¹é…&amp;gt;=1ä¸ªé‡å¤çš„+å·å‰çš„å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;?&lt;/td&gt;
&lt;td&gt;æ ‡è®°?ä¹‹å‰çš„å­—ç¬¦ä¸ºå¯é€‰.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{n,m}&lt;/td&gt;
&lt;td&gt;åŒ¹é…numä¸ªå¤§æ‹¬å·ä¹‹å‰çš„å­—ç¬¦æˆ–å­—ç¬¦é›† (n &amp;lt;= num &amp;lt;= m).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;(xyz)&lt;/td&gt;
&lt;td&gt;å­—ç¬¦é›†ï¼ŒåŒ¹é…ä¸ xyz å®Œå…¨ç›¸ç­‰çš„å­—ç¬¦ä¸².&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;|&lt;/td&gt;
&lt;td&gt;æˆ–è¿ç®—ç¬¦ï¼ŒåŒ¹é…ç¬¦å·å‰æˆ–åçš„å­—ç¬¦.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\&lt;/td&gt;
&lt;td&gt;è½¬ä¹‰å­—ç¬¦,ç”¨äºåŒ¹é…ä¸€äº›ä¿ç•™çš„å­—ç¬¦ &lt;!-- raw HTML omitted --&gt;[ ] ( ) { } . * + ? ^ $ \ |&lt;!-- raw HTML omitted --&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;^&lt;/td&gt;
&lt;td&gt;ä»å¼€å§‹è¡Œå¼€å§‹åŒ¹é….&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$&lt;/td&gt;
&lt;td&gt;ä»æœ«ç«¯å¼€å§‹åŒ¹é….&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;21-ç‚¹è¿ç®—ç¬¦-&#34;&gt;2.1 ç‚¹è¿ç®—ç¬¦ &lt;code&gt;.&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;.&lt;/code&gt;æ˜¯å…ƒå­—ç¬¦ä¸­æœ€ç®€å•çš„ä¾‹å­ã€‚
&lt;code&gt;.&lt;/code&gt;åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œä½†ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼&lt;code&gt;.ar&lt;/code&gt;åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦åé¢è·Ÿç€æ˜¯&lt;code&gt;a&lt;/code&gt;å’Œ&lt;code&gt;r&lt;/code&gt;çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/xc9GkU/1&#34;&gt;https://regex101.com/r/xc9GkU/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;22-å­—ç¬¦é›†&#34;&gt;2.2 å­—ç¬¦é›†&lt;/h2&gt;
&lt;p&gt;å­—ç¬¦é›†ä¹Ÿå«åšå­—ç¬¦ç±»ã€‚
æ–¹æ‹¬å·ç”¨æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†ã€‚
åœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨è¿å­—ç¬¦æ¥æŒ‡å®šå­—ç¬¦é›†çš„èŒƒå›´ã€‚
åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦é›†ä¸å…³å¿ƒé¡ºåºã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼&lt;code&gt;[Tt]he&lt;/code&gt; åŒ¹é… &lt;code&gt;the&lt;/code&gt; å’Œ &lt;code&gt;The&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/2ITLQ4/1&#34;&gt;https://regex101.com/r/2ITLQ4/1&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;æ–¹æ‹¬å·çš„å¥å·å°±è¡¨ç¤ºå¥å·ã€‚
è¡¨è¾¾å¼ &lt;code&gt;ar[.]&lt;/code&gt; åŒ¹é… &lt;code&gt;ar.&lt;/code&gt;å­—ç¬¦ä¸²&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/wL3xtE/1&#34;&gt;https://regex101.com/r/wL3xtE/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;221-å¦å®šå­—ç¬¦é›†&#34;&gt;2.2.1 å¦å®šå­—ç¬¦é›†&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ &lt;code&gt;^&lt;/code&gt; è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œä½†å®ƒç”¨åœ¨ä¸€ä¸ªæ–¹æ‹¬å·çš„å¼€å¤´çš„æ—¶å€™ï¼Œå®ƒè¡¨ç¤ºè¿™ä¸ªå­—ç¬¦é›†æ˜¯å¦å®šçš„ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼&lt;code&gt;[^c]ar&lt;/code&gt; åŒ¹é…ä¸€ä¸ªåé¢è·Ÿç€&lt;code&gt;ar&lt;/code&gt;çš„é™¤äº†&lt;code&gt;c&lt;/code&gt;çš„ä»»æ„å­—ç¬¦ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/nNNlq3/1&#34;&gt;https://regex101.com/r/nNNlq3/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;23-é‡å¤æ¬¡æ•°&#34;&gt;2.3 é‡å¤æ¬¡æ•°&lt;/h2&gt;
&lt;p&gt;åé¢è·Ÿç€å…ƒå­—ç¬¦ &lt;code&gt;+&lt;/code&gt;ï¼Œ&lt;code&gt;*&lt;/code&gt; or &lt;code&gt;?&lt;/code&gt; çš„ï¼Œç”¨æ¥æŒ‡å®šåŒ¹é…å­æ¨¡å¼çš„æ¬¡æ•°ã€‚
è¿™äº›å…ƒå­—ç¬¦åœ¨ä¸åŒçš„æƒ…å†µä¸‹æœ‰ç€ä¸åŒçš„æ„æ€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;231--å·&#34;&gt;2.3.1 &lt;code&gt;*&lt;/code&gt; å·&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;å·åŒ¹é… åœ¨&lt;code&gt;*&lt;/code&gt;ä¹‹å‰çš„å­—ç¬¦å‡ºç°&lt;code&gt;å¤§äºç­‰äº0&lt;/code&gt;æ¬¡ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;a*&lt;/code&gt; åŒ¹é…0æˆ–æ›´å¤šä¸ªä»¥aå¼€å¤´çš„å­—ç¬¦ã€‚è¡¨è¾¾å¼&lt;code&gt;[a-z]*&lt;/code&gt; åŒ¹é…ä¸€ä¸ªè¡Œä¸­æ‰€æœ‰ä»¥å°å†™å­—æ¯å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/7m8me5/1&#34;&gt;https://regex101.com/r/7m8me5/1&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;*&lt;/code&gt;å­—ç¬¦å’Œ&lt;code&gt;.&lt;/code&gt;å­—ç¬¦æ­é…å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦&lt;code&gt;.*&lt;/code&gt;ã€‚
&lt;code&gt;*&lt;/code&gt;å’Œè¡¨ç¤ºåŒ¹é…ç©ºæ ¼çš„ç¬¦å·&lt;code&gt;\s&lt;/code&gt;è¿èµ·æ¥ç”¨ï¼Œå¦‚è¡¨è¾¾å¼&lt;code&gt;\s*cat\s*&lt;/code&gt;åŒ¹é…0æˆ–æ›´å¤šä¸ªç©ºæ ¼å¼€å¤´å’Œ0æˆ–æ›´å¤šä¸ªç©ºæ ¼ç»“å°¾çš„catå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/gGrwuz/1&#34;&gt;https://regex101.com/r/gGrwuz/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;232--å·&#34;&gt;2.3.2 &lt;code&gt;+&lt;/code&gt; å·&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;å·åŒ¹é…&lt;code&gt;+&lt;/code&gt;å·ä¹‹å‰çš„å­—ç¬¦å‡ºç° &amp;gt;=1 æ¬¡ã€‚
ä¾‹å¦‚è¡¨è¾¾å¼&lt;code&gt;c.+t&lt;/code&gt; åŒ¹é…ä»¥é¦–å­—æ¯&lt;code&gt;c&lt;/code&gt;å¼€å¤´ä»¥&lt;code&gt;t&lt;/code&gt;ç»“å°¾ï¼Œä¸­é—´è·Ÿç€è‡³å°‘ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/Dzf9Aa/1&#34;&gt;https://regex101.com/r/Dzf9Aa/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;233--å·&#34;&gt;2.3.3 &lt;code&gt;?&lt;/code&gt; å·&lt;/h3&gt;
&lt;p&gt;åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…ƒå­—ç¬¦ &lt;code&gt;?&lt;/code&gt; æ ‡è®°åœ¨ç¬¦å·å‰é¢çš„å­—ç¬¦ä¸ºå¯é€‰ï¼Œå³å‡ºç° 0 æˆ– 1 æ¬¡ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;[T]?he&lt;/code&gt; åŒ¹é…å­—ç¬¦ä¸² &lt;code&gt;he&lt;/code&gt; å’Œ &lt;code&gt;The&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/cIg9zm/1&#34;&gt;https://regex101.com/r/cIg9zm/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/kPpO2x/1&#34;&gt;https://regex101.com/r/kPpO2x/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;24--å·&#34;&gt;2.4 &lt;code&gt;{}&lt;/code&gt; å·&lt;/h2&gt;
&lt;p&gt;åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ &lt;code&gt;{}&lt;/code&gt; æ˜¯ä¸€ä¸ªé‡è¯ï¼Œå¸¸ç”¨æ¥é™å®šä¸€ä¸ªæˆ–ä¸€ç»„å­—ç¬¦å¯ä»¥é‡å¤å‡ºç°çš„æ¬¡æ•°ã€‚
ä¾‹å¦‚ï¼Œ è¡¨è¾¾å¼ &lt;code&gt;[0-9]{2,3}&lt;/code&gt; åŒ¹é…æœ€å°‘ 2 ä½æœ€å¤š 3 ä½ 0~9 çš„æ•°å­—ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/juM86s/1&#34;&gt;https://regex101.com/r/juM86s/1&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚
ä¾‹å¦‚ï¼Œ&lt;code&gt;[0-9]{2,}&lt;/code&gt; åŒ¹é…è‡³å°‘ä¸¤ä½ 0~9 çš„æ•°å­—ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/Gdy4w5/1&#34;&gt;https://regex101.com/r/Gdy4w5/1&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;å¦‚æœé€—å·ä¹Ÿçœç•¥æ‰åˆ™è¡¨ç¤ºé‡å¤å›ºå®šçš„æ¬¡æ•°ã€‚
ä¾‹å¦‚ï¼Œ&lt;code&gt;[0-9]{3}&lt;/code&gt; åŒ¹é…3ä½æ•°å­—&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/Sivu30/1&#34;&gt;https://regex101.com/r/Sivu30/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;25--ç‰¹å¾æ ‡ç¾¤&#34;&gt;2.5 &lt;code&gt;(...)&lt;/code&gt; ç‰¹å¾æ ‡ç¾¤&lt;/h2&gt;
&lt;p&gt;ç‰¹å¾æ ‡ç¾¤æ˜¯ä¸€ç»„å†™åœ¨ &lt;code&gt;(...)&lt;/code&gt; ä¸­çš„å­æ¨¡å¼ã€‚&lt;code&gt;(...)&lt;/code&gt; ä¸­åŒ…å«çš„å†…å®¹å°†ä¼šè¢«çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œå’Œæ•°å­¦ä¸­å°æ‹¬å·ï¼ˆ ï¼‰çš„ä½œç”¨ç›¸åŒã€‚ä¾‹å¦‚, è¡¨è¾¾å¼ &lt;code&gt;(ab)*&lt;/code&gt; åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª &lt;code&gt;ab&lt;/code&gt;ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨ &lt;code&gt;(...)&lt;/code&gt; ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼ &lt;code&gt;ab*&lt;/code&gt; å°†åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª &lt;code&gt;b&lt;/code&gt; ã€‚å†æ¯”å¦‚ä¹‹å‰è¯´çš„ &lt;code&gt;{}&lt;/code&gt; æ˜¯ç”¨æ¥è¡¨ç¤ºå‰é¢ä¸€ä¸ªå­—ç¬¦å‡ºç°æŒ‡å®šæ¬¡æ•°ã€‚ä½†å¦‚æœåœ¨ &lt;code&gt;{}&lt;/code&gt; å‰åŠ ä¸Šç‰¹å¾æ ‡ç¾¤ &lt;code&gt;(...)&lt;/code&gt; åˆ™è¡¨ç¤ºæ•´ä¸ªæ ‡ç¾¤å†…çš„å­—ç¬¦é‡å¤ N æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ &lt;code&gt;()&lt;/code&gt; ä¸­ç”¨æˆ–å­—ç¬¦ &lt;code&gt;|&lt;/code&gt; è¡¨ç¤ºæˆ–ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;(c|g|p)ar&lt;/code&gt; åŒ¹é… &lt;code&gt;car&lt;/code&gt; æˆ– &lt;code&gt;gar&lt;/code&gt; æˆ– &lt;code&gt;par&lt;/code&gt;.&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/tUxrBG/1&#34;&gt;https://regex101.com/r/tUxrBG/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;26--æˆ–è¿ç®—ç¬¦&#34;&gt;2.6 &lt;code&gt;|&lt;/code&gt; æˆ–è¿ç®—ç¬¦&lt;/h2&gt;
&lt;p&gt;æˆ–è¿ç®—ç¬¦å°±è¡¨ç¤ºæˆ–ï¼Œç”¨ä½œåˆ¤æ–­æ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ &lt;code&gt;(T|t)he|car&lt;/code&gt; åŒ¹é… &lt;code&gt;(T|t)he&lt;/code&gt; æˆ– &lt;code&gt;car&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/fBXyX0/1&#34;&gt;https://regex101.com/r/fBXyX0/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;27-è½¬ç ç‰¹æ®Šå­—ç¬¦&#34;&gt;2.7 è½¬ç ç‰¹æ®Šå­—ç¬¦&lt;/h2&gt;
&lt;p&gt;åæ–œçº¿ &lt;code&gt;\&lt;/code&gt; åœ¨è¡¨è¾¾å¼ä¸­ç”¨äºè½¬ç ç´§è·Ÿå…¶åçš„å­—ç¬¦ã€‚ç”¨äºæŒ‡å®š &lt;code&gt;{ } [ ] / \ + * . $ ^ | ?&lt;/code&gt; è¿™äº›ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœæƒ³è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦åˆ™è¦åœ¨å…¶å‰é¢åŠ ä¸Šåæ–œçº¿ &lt;code&gt;\&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ &lt;code&gt;.&lt;/code&gt; æ˜¯ç”¨æ¥åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦çš„ã€‚å¦‚æœæƒ³è¦åŒ¹é…å¥å­ä¸­çš„ &lt;code&gt;.&lt;/code&gt; åˆ™è¦å†™æˆ &lt;code&gt;\.&lt;/code&gt; ä»¥ä¸‹è¿™ä¸ªä¾‹å­ &lt;code&gt;\.?&lt;/code&gt;æ˜¯é€‰æ‹©æ€§åŒ¹é…&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/DOc5Nu/1&#34;&gt;https://regex101.com/r/DOc5Nu/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;28-é”šç‚¹&#34;&gt;2.8 é”šç‚¹&lt;/h2&gt;
&lt;p&gt;åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæƒ³è¦åŒ¹é…æŒ‡å®šå¼€å¤´æˆ–ç»“å°¾çš„å­—ç¬¦ä¸²å°±è¦ä½¿ç”¨åˆ°é”šç‚¹ã€‚&lt;code&gt;^&lt;/code&gt; æŒ‡å®šå¼€å¤´ï¼Œ&lt;code&gt;$&lt;/code&gt; æŒ‡å®šç»“å°¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;281--å·&#34;&gt;2.8.1 &lt;code&gt;^&lt;/code&gt; å·&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;^&lt;/code&gt; ç”¨æ¥æ£€æŸ¥åŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨æ‰€åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåœ¨ &lt;code&gt;abc&lt;/code&gt; ä¸­ä½¿ç”¨è¡¨è¾¾å¼ &lt;code&gt;^a&lt;/code&gt; ä¼šå¾—åˆ°ç»“æœ &lt;code&gt;a&lt;/code&gt;ã€‚ä½†å¦‚æœä½¿ç”¨ &lt;code&gt;^b&lt;/code&gt; å°†åŒ¹é…ä¸åˆ°ä»»ä½•ç»“æœã€‚å› ä¸ºåœ¨å­—ç¬¦ä¸² &lt;code&gt;abc&lt;/code&gt; ä¸­å¹¶ä¸æ˜¯ä»¥ &lt;code&gt;b&lt;/code&gt; å¼€å¤´ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ&lt;code&gt;^(T|t)he&lt;/code&gt; åŒ¹é…ä»¥ &lt;code&gt;The&lt;/code&gt; æˆ– &lt;code&gt;the&lt;/code&gt; å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/5ljjgB/1&#34;&gt;https://regex101.com/r/5ljjgB/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/jXrKne/1&#34;&gt;https://regex101.com/r/jXrKne/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;282--å·&#34;&gt;2.8.2 &lt;code&gt;$&lt;/code&gt; å·&lt;/h3&gt;
&lt;p&gt;åŒç†äº &lt;code&gt;^&lt;/code&gt; å·ï¼Œ&lt;code&gt;$&lt;/code&gt; å·ç”¨æ¥åŒ¹é…å­—ç¬¦æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ&lt;code&gt;(at\.)$&lt;/code&gt; åŒ¹é…ä»¥ &lt;code&gt;at.&lt;/code&gt; ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/y4Au4D/1&#34;&gt;https://regex101.com/r/y4Au4D/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/t0AkOd/1&#34;&gt;https://regex101.com/r/t0AkOd/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;3-ç®€å†™å­—ç¬¦é›†&#34;&gt;3. ç®€å†™å­—ç¬¦é›†&lt;/h2&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼æä¾›ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦é›†ç®€å†™ã€‚å¦‚ä¸‹:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;ç®€å†™&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;.&lt;/td&gt;
&lt;td&gt;é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\w&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ‰€æœ‰å­—æ¯æ•°å­—ï¼Œç­‰åŒäº &lt;code&gt;[a-zA-Z0-9_]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\W&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ‰€æœ‰éå­—æ¯æ•°å­—ï¼Œå³ç¬¦å·ï¼Œç­‰åŒäºï¼š &lt;code&gt;[^\w]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\d&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ•°å­—ï¼š &lt;code&gt;[0-9]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\D&lt;/td&gt;
&lt;td&gt;åŒ¹é…éæ•°å­—ï¼š &lt;code&gt;[^\d]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\s&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ‰€æœ‰ç©ºæ ¼å­—ç¬¦ï¼Œç­‰åŒäºï¼š &lt;code&gt;[\t\n\f\r\p{Z}]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\S&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ‰€æœ‰éç©ºæ ¼å­—ç¬¦ï¼š &lt;code&gt;[^\s]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\f&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\n&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\r&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\t&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\v&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\p&lt;/td&gt;
&lt;td&gt;åŒ¹é… CR/LFï¼ˆç­‰åŒäº &lt;code&gt;\r\n&lt;/code&gt;ï¼‰ï¼Œç”¨æ¥åŒ¹é… DOS è¡Œç»ˆæ­¢ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;4-é›¶å®½åº¦æ–­è¨€å‰åé¢„æŸ¥&#34;&gt;4. é›¶å®½åº¦æ–­è¨€ï¼ˆå‰åé¢„æŸ¥ï¼‰&lt;/h2&gt;
&lt;p&gt;å…ˆè¡Œæ–­è¨€å’Œåå‘æ–­è¨€éƒ½å±äº&lt;strong&gt;éæ•è·ç°‡&lt;/strong&gt;ï¼ˆä¸æ•è·æ–‡æœ¬ ï¼Œä¹Ÿä¸é’ˆå¯¹ç»„åˆè®¡è¿›è¡Œè®¡æ•°ï¼‰ã€‚
å…ˆè¡Œæ–­è¨€ç”¨äºåˆ¤æ–­æ‰€åŒ¹é…çš„æ ¼å¼æ˜¯å¦åœ¨å¦ä¸€ä¸ªç¡®å®šçš„æ ¼å¼ä¹‹å‰ï¼ŒåŒ¹é…ç»“æœä¸åŒ…å«è¯¥ç¡®å®šæ ¼å¼ï¼ˆä»…ä½œä¸ºçº¦æŸï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦è·å¾—æ‰€æœ‰è·Ÿåœ¨ &lt;code&gt;$&lt;/code&gt; ç¬¦å·åçš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åå‘æ–­è¨€ &lt;code&gt;(?&amp;lt;=\$)[0-9\.]*&lt;/code&gt;ã€‚
è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é… &lt;code&gt;$&lt;/code&gt; å¼€å¤´ï¼Œä¹‹åè·Ÿç€ &lt;code&gt;0,1,2,3,4,5,6,7,8,9,.&lt;/code&gt; è¿™äº›å­—ç¬¦å¯ä»¥å‡ºç°å¤§äºç­‰äº 0 æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;é›¶å®½åº¦æ–­è¨€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;ç¬¦å·&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;?=&lt;/td&gt;
&lt;td&gt;æ­£å…ˆè¡Œæ–­è¨€-å­˜åœ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;?!&lt;/td&gt;
&lt;td&gt;è´Ÿå…ˆè¡Œæ–­è¨€-æ’é™¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;?&amp;lt;=&lt;/td&gt;
&lt;td&gt;æ­£åå‘æ–­è¨€-å­˜åœ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;?&amp;lt;!&lt;/td&gt;
&lt;td&gt;è´Ÿåå‘æ–­è¨€-æ’é™¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;41--æ­£å…ˆè¡Œæ–­è¨€&#34;&gt;4.1 &lt;code&gt;?=...&lt;/code&gt; æ­£å…ˆè¡Œæ–­è¨€&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;?=...&lt;/code&gt; æ­£å…ˆè¡Œæ–­è¨€ï¼Œè¡¨ç¤ºç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ä¹‹åå¿…é¡»è·Ÿç€ &lt;code&gt;?=...&lt;/code&gt;å®šä¹‰çš„è¡¨è¾¾å¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›ç»“æœåªåŒ…å«æ»¡è¶³åŒ¹é…æ¡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ã€‚
å®šä¹‰ä¸€ä¸ªæ­£å…ˆè¡Œæ–­è¨€è¦ä½¿ç”¨ &lt;code&gt;()&lt;/code&gt;ã€‚åœ¨æ‹¬å·å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªé—®å·å’Œç­‰å·ï¼š &lt;code&gt;(?=...)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å…ˆè¡Œæ–­è¨€çš„å†…å®¹å†™åœ¨æ‹¬å·ä¸­çš„ç­‰å·åé¢ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;(T|t)he(?=\sfat)&lt;/code&gt; åŒ¹é… &lt;code&gt;The&lt;/code&gt; å’Œ &lt;code&gt;the&lt;/code&gt;ï¼Œåœ¨æ‹¬å·ä¸­æˆ‘ä»¬åˆå®šä¹‰äº†æ­£å…ˆè¡Œæ–­è¨€ &lt;code&gt;(?=\sfat)&lt;/code&gt; ï¼Œå³ &lt;code&gt;The&lt;/code&gt; å’Œ &lt;code&gt;the&lt;/code&gt; åé¢ç´§è·Ÿç€ &lt;code&gt;(ç©ºæ ¼)fat&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/IDDARt/1&#34;&gt;https://regex101.com/r/IDDARt/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;42--è´Ÿå…ˆè¡Œæ–­è¨€&#34;&gt;4.2 &lt;code&gt;?!...&lt;/code&gt; è´Ÿå…ˆè¡Œæ–­è¨€&lt;/h3&gt;
&lt;p&gt;è´Ÿå…ˆè¡Œæ–­è¨€ &lt;code&gt;?!&lt;/code&gt; ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶åä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚
&lt;code&gt;æ­£å…ˆè¡Œæ–­è¨€&lt;/code&gt;  å®šä¹‰å’Œ &lt;code&gt;è´Ÿå…ˆè¡Œæ–­è¨€&lt;/code&gt; ä¸€æ ·ï¼ŒåŒºåˆ«å°±æ˜¯ &lt;code&gt;=&lt;/code&gt; æ›¿æ¢æˆ &lt;code&gt;!&lt;/code&gt; ä¹Ÿå°±æ˜¯ &lt;code&gt;(?!...)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¡¨è¾¾å¼ &lt;code&gt;(T|t)he(?!\sfat)&lt;/code&gt; åŒ¹é… &lt;code&gt;The&lt;/code&gt; å’Œ &lt;code&gt;the&lt;/code&gt;ï¼Œä¸”å…¶åä¸è·Ÿç€ &lt;code&gt;(ç©ºæ ¼)fat&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/V32Npg/1&#34;&gt;https://regex101.com/r/V32Npg/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;43---æ­£åå‘æ–­è¨€&#34;&gt;4.3 &lt;code&gt;?&amp;lt;= ...&lt;/code&gt; æ­£åå‘æ–­è¨€&lt;/h3&gt;
&lt;p&gt;æ­£åå‘æ–­è¨€ è®°ä½œ&lt;code&gt;(?&amp;lt;=...)&lt;/code&gt; ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶å‰è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;(?&amp;lt;=(T|t)he\s)(fat|mat)&lt;/code&gt; åŒ¹é… &lt;code&gt;fat&lt;/code&gt; å’Œ &lt;code&gt;mat&lt;/code&gt;ï¼Œä¸”å…¶å‰è·Ÿç€ &lt;code&gt;The&lt;/code&gt; æˆ– &lt;code&gt;the&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/avH165/1&#34;&gt;https://regex101.com/r/avH165/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;44--è´Ÿåå‘æ–­è¨€&#34;&gt;4.4 &lt;code&gt;?&amp;lt;!...&lt;/code&gt; è´Ÿåå‘æ–­è¨€&lt;/h3&gt;
&lt;p&gt;è´Ÿåå‘æ–­è¨€ è®°ä½œ &lt;code&gt;(?&amp;lt;!...)&lt;/code&gt; ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶å‰ä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;(?&amp;lt;!(T|t)he\s)(cat)&lt;/code&gt; åŒ¹é… &lt;code&gt;cat&lt;/code&gt;ï¼Œä¸”å…¶å‰ä¸è·Ÿç€ &lt;code&gt;The&lt;/code&gt; æˆ– &lt;code&gt;the&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/8Efx5G/1&#34;&gt;https://regex101.com/r/8Efx5G/1&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;5-æ ‡å¿—&#34;&gt;5. æ ‡å¿—&lt;/h2&gt;
&lt;p&gt;æ ‡å¿—ä¹Ÿå«æ¨¡å¼ä¿®æ­£ç¬¦ï¼Œå› ä¸ºå®ƒå¯ä»¥ç”¨æ¥ä¿®æ”¹è¡¨è¾¾å¼çš„æœç´¢ç»“æœã€‚
è¿™äº›æ ‡å¿—å¯ä»¥ä»»æ„çš„ç»„åˆä½¿ç”¨ï¼Œå®ƒä¹Ÿæ˜¯æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;æ ‡å¿—&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;i&lt;/td&gt;
&lt;td&gt;å¿½ç•¥å¤§å°å†™ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;g&lt;/td&gt;
&lt;td&gt;å…¨å±€æœç´¢ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;m&lt;/td&gt;
&lt;td&gt;å¤šè¡Œä¿®é¥°ç¬¦ï¼šé”šç‚¹å…ƒå­—ç¬¦ &lt;code&gt;^&lt;/code&gt; &lt;code&gt;$&lt;/code&gt; å·¥ä½œèŒƒå›´åœ¨æ¯è¡Œçš„èµ·å§‹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;51-å¿½ç•¥å¤§å°å†™case-insensitive&#34;&gt;5.1 å¿½ç•¥å¤§å°å†™ï¼ˆCase Insensitiveï¼‰&lt;/h3&gt;
&lt;p&gt;ä¿®é¥°è¯­ &lt;code&gt;i&lt;/code&gt; ç”¨äºå¿½ç•¥å¤§å°å†™ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;/The/gi&lt;/code&gt; è¡¨ç¤ºåœ¨å…¨å±€æœç´¢ &lt;code&gt;The&lt;/code&gt;ï¼Œåœ¨åé¢çš„ &lt;code&gt;i&lt;/code&gt; å°†å…¶æ¡ä»¶ä¿®æ”¹ä¸ºå¿½ç•¥å¤§å°å†™ï¼Œåˆ™å˜æˆæœç´¢ &lt;code&gt;the&lt;/code&gt; å’Œ &lt;code&gt;The&lt;/code&gt;ï¼Œ&lt;code&gt;g&lt;/code&gt; è¡¨ç¤ºå…¨å±€æœç´¢ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/dpQyf9/1&#34;&gt;https://regex101.com/r/dpQyf9/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/ahfiuh/1&#34;&gt;https://regex101.com/r/ahfiuh/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;52-å…¨å±€æœç´¢global-search&#34;&gt;5.2 å…¨å±€æœç´¢ï¼ˆGlobal searchï¼‰&lt;/h3&gt;
&lt;p&gt;ä¿®é¥°ç¬¦ &lt;code&gt;g&lt;/code&gt; å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå…¨å±€æœç´¢åŒ¹é…ï¼Œå³ï¼ˆä¸ä»…ä»…è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ï¼Œè€Œæ˜¯è¿”å›å…¨éƒ¨ï¼‰ã€‚
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;/.(at)/g&lt;/code&gt; è¡¨ç¤ºæœç´¢ ä»»æ„å­—ç¬¦ï¼ˆé™¤äº†æ¢è¡Œï¼‰+ &lt;code&gt;at&lt;/code&gt;ï¼Œå¹¶è¿”å›å…¨éƒ¨ç»“æœã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/jnk6gM/1&#34;&gt;https://regex101.com/r/jnk6gM/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/dO1nef/1&#34;&gt;https://regex101.com/r/dO1nef/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;53-å¤šè¡Œä¿®é¥°ç¬¦multiline&#34;&gt;5.3 å¤šè¡Œä¿®é¥°ç¬¦ï¼ˆMultilineï¼‰&lt;/h3&gt;
&lt;p&gt;å¤šè¡Œä¿®é¥°ç¬¦ &lt;code&gt;m&lt;/code&gt; å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå¤šè¡ŒåŒ¹é…ã€‚&lt;/p&gt;
&lt;p&gt;åƒä¹‹å‰ä»‹ç»çš„ &lt;code&gt;(^,$)&lt;/code&gt; ç”¨äºæ£€æŸ¥æ ¼å¼æ˜¯å¦æ˜¯åœ¨å¾…æ£€æµ‹å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾ã€‚ä½†æˆ‘ä»¬å¦‚æœæƒ³è¦å®ƒåœ¨æ¯è¡Œçš„å¼€å¤´å’Œç»“å°¾ç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å¤šè¡Œä¿®é¥°ç¬¦ &lt;code&gt;m&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ &lt;code&gt;/at(.)?$/gm&lt;/code&gt; è¡¨ç¤ºå°å†™å­—ç¬¦ &lt;code&gt;a&lt;/code&gt; åè·Ÿå°å†™å­—ç¬¦ &lt;code&gt;t&lt;/code&gt; ï¼Œæœ«å°¾å¯é€‰é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦ã€‚æ ¹æ® &lt;code&gt;m&lt;/code&gt; ä¿®é¥°ç¬¦ï¼Œç°åœ¨è¡¨è¾¾å¼åŒ¹é…æ¯è¡Œçš„ç»“å°¾ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/hoGMkP/1&#34;&gt;https://regex101.com/r/hoGMkP/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/E88WE2/1&#34;&gt;https://regex101.com/r/E88WE2/1&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&#34;6-è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é…greedy-vs-lazy-matching&#34;&gt;6. è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é…ï¼ˆGreedy vs lazy matchingï¼‰&lt;/h3&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹æ„å‘³ç€ä¼šåŒ¹é…å°½å¯èƒ½é•¿çš„å­ä¸²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;?&lt;/code&gt; å°†è´ªå©ªåŒ¹é…æ¨¡å¼è½¬åŒ–ä¸ºæƒ°æ€§åŒ¹é…æ¨¡å¼ã€‚&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/AyAdgJ/1&#34;&gt;https://regex101.com/r/AyAdgJ/1&lt;/a&gt;)&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;(åœ¨çº¿ç»ƒä¹ )(&lt;a href=&#34;https://regex101.com/r/AyAdgJ/2&#34;&gt;https://regex101.com/r/AyAdgJ/2&lt;/a&gt;)&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/006tNbRwly1gaexte72s7j31bi0hc418.jpg&#34; alt=&#34;å…¬ä¼—å·&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>ElasticSearchæ¶æ„è§£æä¸æœ€ä½³å®è·µ</title>
      <link>https://bgbiao.top/post/elasticsearch%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</link>
      <pubDate>Wed, 27 May 2020 00:00:00 +0000</pubDate>
      
      <guid>https://bgbiao.top/post/elasticsearch%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</guid>
      
        <description>&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6talv0b0j30u00gwgmv.jpg&#34; alt=&#34;ç›®å½•&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6taz9e6mj30u00gwgn1.jpg&#34; alt=&#34;åº”ç”¨æ¦‚è¿°-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tbcoytlj30u00gw0v2.jpg&#34; alt=&#34;åº”ç”¨æ¦‚è¿°-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tc1k3flj30u00gwdih.jpg&#34; alt=&#34;åº”ç”¨æ¦‚è¿°-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tcd3b6zj30u00gw416.jpg&#34; alt=&#34;åº”ç”¨æ¦‚è¿°-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tcptmk3j30u00gwju7.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tdh8oo9j30u00gwq5d.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tdtnjioj30u00gwq67.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6te64te2j30u00gw76q.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tegzbfej30u00gwgnr.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tesbdjrj30u00gwq4l.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tf62pxfj30u00gwmzk.jpg&#34; alt=&#34;Luceneå†…æ ¸åŸç†-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tfo8dnyj30u00gwdit.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tg98nsrj30u00gwwgz.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tgl8k6aj30u00gw41m.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tgy5lhqj30u00gwtbh.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6th9bynxj30u00gwgoi.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6thjuhgtj30u00gwwgb.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6thyvb72j30u00gwwgy.jpg&#34; alt=&#34;ElasticSearchæ¶æ„è§£æ-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tiaoksoj30u00gwq57.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tinieeyj30u00gwq51.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tiy8yc4j30u00gw40r.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tj6kki5j30u00gwmz3.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tjflhouj30u00gwmzs.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tjrhom9j30u00gw414.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tk30ujjj30u00gwwgd.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tkez1t6j30u00gwacw.jpg&#34; alt=&#34;æœ€ä½³å®è·µ-8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tksdke2j30u00gwgmw.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tl2qkemj30u00gw76f.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tlejqftj30u00gwjtk.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tlpduy6j30u00gw0ut.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tlz6ifvj30u00gwmzi.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tm9ln5dj30u00gw410.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tmjx424j30u00gwmyd.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tmta1rxj30u00gwacb.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tn4mub6j30u00gw76f.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tni8rnxj30u00gw410.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6tnset4mj30u00gwacc.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gf6to3orh5j30u00gwmxu.jpg&#34; alt=&#34;æ€§èƒ½è°ƒä¼˜-12&#34;&gt;&lt;/p&gt;
</description>
      
    </item>
    
  </channel>
</rss>
